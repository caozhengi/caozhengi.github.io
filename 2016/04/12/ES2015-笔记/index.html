<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="å£°æ˜æœ¬æ–‡æ˜¯å­¦ä¹ é˜®ä¸€å³° - ECMAScript 6 å…¥é—¨æ—¶çš„ç¬”è®°ï¼Œå†…å®¹ä¸ºç”¨æ¥ä½œä¸ºå¤‡å¿˜é€ŸæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚æ¨èå¤§å®¶é˜…è¯»åŸç‰ˆï¼Œä»¥ä¾¿äºå¯¹ES6æœ‰æ›´æ¸…æ™°å®Œæ•´çš„è®¤è¯†ã€‚
ç‰ˆæœ¬æ¦‚è¿°è¯´æ˜
    ECMAScript 2016 å¼€å§‹ï¼ŒECMAScriptå°†è¿›å…¥æ¯å¹´å‘å¸ƒä¸€æ¬¡æ–°æ ‡å‡†çš„é˜¶æ®µã€‚
    æµè§ˆå™¨å¼•æ“é€šå¸¸6å‘¨ä¸€æ¬¡ç‰ˆæœ¬ã€‚
    ECMA TC39 æ˜¯åˆ¶å®šECMAScriptæ ‡å‡†çš„ç»„ç»‡ã€‚ä¸»è¦åŒ…æ‹¬å„å¤§JSå¼•æ“å‚å•†å‘˜å·¥ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="ES2015-ç¬”è®°.md">
<meta property="og:url" content="http://blog.uiideas.com/2016/04/12/ES2015-ç¬”è®°/index.html">
<meta property="og:site_name" content="Uiideas Blog">
<meta property="og:description" content="å£°æ˜æœ¬æ–‡æ˜¯å­¦ä¹ é˜®ä¸€å³° - ECMAScript 6 å…¥é—¨æ—¶çš„ç¬”è®°ï¼Œå†…å®¹ä¸ºç”¨æ¥ä½œä¸ºå¤‡å¿˜é€ŸæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚æ¨èå¤§å®¶é˜…è¯»åŸç‰ˆï¼Œä»¥ä¾¿äºå¯¹ES6æœ‰æ›´æ¸…æ™°å®Œæ•´çš„è®¤è¯†ã€‚
ç‰ˆæœ¬æ¦‚è¿°è¯´æ˜
    ECMAScript 2016 å¼€å§‹ï¼ŒECMAScriptå°†è¿›å…¥æ¯å¹´å‘å¸ƒä¸€æ¬¡æ–°æ ‡å‡†çš„é˜¶æ®µã€‚
    æµè§ˆå™¨å¼•æ“é€šå¸¸6å‘¨ä¸€æ¬¡ç‰ˆæœ¬ã€‚
    ECMA TC39 æ˜¯åˆ¶å®šECMAScriptæ ‡å‡†çš„ç»„ç»‡ã€‚ä¸»è¦åŒ…æ‹¬å„å¤§JSå¼•æ“å‚å•†å‘˜å·¥ã€‚">
<meta property="og:updated_time" content="2016-11-08T08:17:50.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES2015-ç¬”è®°.md">
<meta name="twitter:description" content="å£°æ˜æœ¬æ–‡æ˜¯å­¦ä¹ é˜®ä¸€å³° - ECMAScript 6 å…¥é—¨æ—¶çš„ç¬”è®°ï¼Œå†…å®¹ä¸ºç”¨æ¥ä½œä¸ºå¤‡å¿˜é€ŸæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚æ¨èå¤§å®¶é˜…è¯»åŸç‰ˆï¼Œä»¥ä¾¿äºå¯¹ES6æœ‰æ›´æ¸…æ™°å®Œæ•´çš„è®¤è¯†ã€‚
ç‰ˆæœ¬æ¦‚è¿°è¯´æ˜
    ECMAScript 2016 å¼€å§‹ï¼ŒECMAScriptå°†è¿›å…¥æ¯å¹´å‘å¸ƒä¸€æ¬¡æ–°æ ‡å‡†çš„é˜¶æ®µã€‚
    æµè§ˆå™¨å¼•æ“é€šå¸¸6å‘¨ä¸€æ¬¡ç‰ˆæœ¬ã€‚
    ECMA TC39 æ˜¯åˆ¶å®šECMAScriptæ ‡å‡†çš„ç»„ç»‡ã€‚ä¸»è¦åŒ…æ‹¬å„å¤§JSå¼•æ“å‚å•†å‘˜å·¥ã€‚">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'åšä¸»'
    }
  };
</script>

  <title> ES2015-ç¬”è®°.md | Uiideas Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?559798d21c881907a6a2339e025bbc03";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Uiideas Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            æ–‡ç« åˆ—è¡¨
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                ES2015-ç¬”è®°.md
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-04-12T15:47:52+08:00" content="2016-04-12">
              2016-04-12
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h2><p>æœ¬æ–‡æ˜¯å­¦ä¹ <a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="external">é˜®ä¸€å³° - ECMAScript 6 å…¥é—¨</a>æ—¶çš„ç¬”è®°ï¼Œå†…å®¹ä¸ºç”¨æ¥ä½œä¸ºå¤‡å¿˜é€ŸæŸ¥çš„çŸ¥è¯†ç‚¹ã€‚æ¨èå¤§å®¶é˜…è¯»åŸç‰ˆï¼Œä»¥ä¾¿äºå¯¹ES6æœ‰æ›´æ¸…æ™°å®Œæ•´çš„è®¤è¯†ã€‚</p>
<h2 id="ç‰ˆæœ¬æ¦‚è¿°"><a href="#ç‰ˆæœ¬æ¦‚è¿°" class="headerlink" title="ç‰ˆæœ¬æ¦‚è¿°"></a>ç‰ˆæœ¬æ¦‚è¿°</h2><pre><code>è¯´æ˜
    ECMAScript 2016 å¼€å§‹ï¼ŒECMAScriptå°†è¿›å…¥æ¯å¹´å‘å¸ƒä¸€æ¬¡æ–°æ ‡å‡†çš„é˜¶æ®µã€‚
    æµè§ˆå™¨å¼•æ“é€šå¸¸6å‘¨ä¸€æ¬¡ç‰ˆæœ¬ã€‚
    ECMA TC39 æ˜¯åˆ¶å®šECMAScriptæ ‡å‡†çš„ç»„ç»‡ã€‚ä¸»è¦åŒ…æ‹¬å„å¤§JSå¼•æ“å‚å•†å‘˜å·¥ã€‚
    æœ€åæ˜¯é€šè¿‡ ECMA General Assembly æ¥è¡¨å†³æ ‡å‡†æ˜¯å¦é€šè¿‡ã€‚
</code></pre><h2 id="letå’Œconst"><a href="#letå’Œconst" class="headerlink" title="letå’Œconst"></a>letå’Œconst</h2><pre><code>let
    è¯´æ˜
        ç”¨æ¥å£°æ˜å˜é‡ï¼Œå’Œvarç±»ä¼¼ï¼Œæœ‰å—çº§ä½œç”¨åŸŸç‰¹æ€§ï¼Œåªåœ¨ä»£ç å—å†…æœ‰æ•ˆï¼Œ
        å¯ç”¨äºå¾ªç¯ï¼Œletå£°æ˜çš„å˜é‡åªåœ¨æœ¬æ¬¡å¾ªç¯æœ‰æ•ˆ
        ä¸å…è®¸é‡å¤å£°æ˜
        ä¸å­˜åœ¨å˜é‡æå‡
        æš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal dead zoneï¼Œç®€ç§°TDZï¼‰
    èŒƒä¾‹
        æ— å˜é‡æå‡
            console.log(foo); // è¾“å‡ºundefined
            console.log(bar); // æŠ¥é”™ReferenceError
            var foo = 2;
            let bar = 2;
        æš‚æ—¶æ€§æ­»åŒº
            var tmp = 123;
            if (true) {
              tmp = &apos;abc&apos;; // ReferenceError
              let tmp;
            }

å—çº§ä½œç”¨åŸŸä¸­å‡½æ•°å£°æ˜
    è¯´æ˜
        ES5ä¸­è§„å®šå‡½æ•°åªèƒ½åœ¨é¡¶å±‚ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸä¹‹ä¸­å£°æ˜ï¼Œä¸èƒ½åœ¨å—çº§ä½œç”¨åŸŸä¹‹ä¸­å£°æ˜ã€‚
        è™½ç„¶æµè§ˆå™¨å¹¶æ²¡æœ‰éµå®ˆES5çš„è§„å®šï¼Œä½†åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å‡½æ•°åœ¨å—çº§ä½œç”¨åŸŸå£°æ˜ä¼šæŠ¥é”™ã€‚
        ES6å¼•å…¥äº†å—çº§ä½œç”¨åŸŸï¼Œæ˜ç¡®å…è®¸åœ¨å—çº§ä½œç”¨åŸŸä¹‹ä¸­å£°æ˜å‡½æ•°ã€‚
        ES6å‡½æ•°å£°æ˜ç±»ä¼¼äºvarï¼Œå³ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸçš„å¤´éƒ¨.
        ES6ä¸­å‡½æ•°ç‰¹æ€§åœ¨ä¸åŒçš„æµè§ˆå™¨å’Œå¹³å°è¡¨ç°ä¸åŒã€‚å¼€å‘æ—¶éœ€æ³¨æ„å¹³å°ã€‚
    èŒƒä¾‹
        function f() { console.log(&apos;I am outside!&apos;); }
        (function () {
          if (false) {
            // é‡å¤å£°æ˜ä¸€æ¬¡å‡½æ•°f
            function f() { console.log(&apos;I am inside!&apos;); }
          }
          f();
        }());
        //ES5ä¸­è¿è¡Œï¼Œè¾“å‡º I am inside!
        //ES6ä¸­è¿è¡Œï¼Œä¼šæŠ¥é”™ï¼Œf is not a function
        //ES6ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸­è¿è¡Œï¼Œä¼šè¾“å‡º I am outside!

const
    è¯´æ˜
        å£°æ˜å¸¸é‡,ä¸èƒ½æ”¹å˜å€¼
        ä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–èµ‹å€¼
        å¯¹äºå¤åˆç±»å‹çš„å˜é‡ï¼Œå˜é‡åä¸æŒ‡å‘æ•°æ®ï¼Œè€Œæ˜¯æŒ‡å‘æ•°æ®æ‰€åœ¨çš„åœ°å€ã€‚
        å…¶ä»–ç‰¹æ€§ä¸letç›¸åŒ

å…¨å±€å¯¹è±¡çš„å±æ€§
    è¯´æ˜
        varå‘½ä»¤å’Œfunctionå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§ï¼›
        letå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚
    èŒƒä¾‹
        var a = 1;
        // å¦‚æœåœ¨Nodeçš„REPLç¯å¢ƒï¼Œå¯ä»¥å†™æˆglobal.a
        // æˆ–è€…é‡‡ç”¨é€šç”¨æ–¹æ³•ï¼Œå†™æˆthis.a
        window.a // 1
        let b = 1;
        window.b // undefined
</code></pre><h2 id="å˜é‡çš„è§£æ„èµ‹å€¼"><a href="#å˜é‡çš„è§£æ„èµ‹å€¼" class="headerlink" title="å˜é‡çš„è§£æ„èµ‹å€¼"></a>å˜é‡çš„è§£æ„èµ‹å€¼</h2><pre><code>æ•°ç»„çš„è§£æ„èµ‹å€¼
    è¯´æ˜
        ES6å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ã€‚
        å¦‚æœè§£æ„ä¸æˆåŠŸï¼Œå˜é‡çš„å€¼å°±ç­‰äºundefinedã€‚
        ç­‰å·çš„å³è¾¹ä¸æ˜¯ä¸æ˜¯å¯éå†çš„ç»“æ„ï¼Œå°†ä¼šæŠ¥é”™ã€‚
        åªè¦æŸç§æ•°æ®ç»“æ„å…·æœ‰Iteratoræ¥å£ï¼Œéƒ½å¯ä»¥é‡‡ç”¨æ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼ã€‚
        è§£æ„èµ‹å€¼ä¸ä»…é€‚ç”¨äºvarå‘½ä»¤ï¼Œä¹Ÿé€‚ç”¨äºletå’Œconstå‘½ä»¤ã€‚
    èŒƒä¾‹
        æ•°ç»„çš„è§£æ„èµ‹å€¼
            var [a, b, c] = [1, 2, 3];
            let [foo, [[bar], baz]] = [1, [[2], 3]];
            let [ , , third] = [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;];
            let [x, , y] = [1, 2, 3];
            let [head, ...tail] = [1, 2, 3, 4];
        ä¸å®Œå…¨è§£æ„
            let [x, y] = [1, 2, 3];
            let [a, [b], d] = [1, [2, 3], 4];
        æŠ¥é”™æƒ…å†µ
            let [foo] = 1;
            let [foo] = false;
            let [foo] = NaN;
            let [foo] = undefined;
            let [foo] = null;
            let [foo] = {};
        å¯¹Setç»“æ„è§£æ„
            let [x, y, z] = new Set([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]);
        å¯¹æä¾›Iteratoræ¥å£çš„æ•°æ®ç»“æ„è§£æ„
            function* fibs() {
              var a = 0;
              var b = 1;
              while (true) {
                yield a;
                [a, b] = [b, a + b];
              }
            }
            var [first, second, third, fourth, fifth, sixth] = fibs();

é»˜è®¤å€¼
    è¯´æ˜
        è§£æ„èµ‹å€¼å…è®¸æŒ‡å®šé»˜è®¤å€¼ã€‚
        å¦‚æœè§£æ„å‡ºçš„å€¼===undefinedï¼Œé‚£ä¹ˆå˜é‡çš„å€¼å°†ä¸ºé»˜è®¤å€¼ã€‚
        é»˜è®¤å€¼å¯ä»¥å¼•ç”¨è§£æ„èµ‹å€¼çš„å…¶ä»–å˜é‡ï¼Œä½†è¯¥å˜é‡å¿…é¡»å·²ç»å£°æ˜ã€‚
    èŒƒä¾‹
        æŒ‡å®šé»˜è®¤å€¼
            var [foo = true] = [];             // foo=true
            [x, y = &apos;b&apos;] = [&apos;a&apos;];              // x=&apos;a&apos;, y=&apos;b&apos;
            [x, y = &apos;b&apos;] = [&apos;a&apos;, undefined];   // x=&apos;a&apos;, y=&apos;b&apos;
        undefinedæƒ…å†µ
            var [x = 1] = [undefined];         // x=1
            var [x = 1] = [null];              // x=null
        æ‡’åŠ è½½æƒ…å†µ
            function f() { return 0; };
            let [x = f()] = [1];               // x=1
        é»˜è®¤å€¼å¯ä»¥å¼•ç”¨å…¶ä»–å˜é‡
            let [x = 1, y = x] = [];           // x=1; y=1
            let [x = 1, y = x] = [2];          // x=2; y=2
            let [x = 1, y = x] = [1, 2];       // x=1; y=2
            let [x = y, y = 1] = [];           // ReferenceError

å¯¹è±¡çš„è§£æ„èµ‹å€¼
    è¯´æ˜
        å¯¹è±¡çš„è§£æ„èµ‹å€¼æ²¡æœ‰æ¬¡åºï¼Œåªè¦å˜é‡ä¸å±æ€§åŒåï¼Œå³å¯å–åˆ°æ­£ç¡®çš„å€¼ã€‚
        å¦‚æœå˜é‡åä¸å±æ€§åä¸ä¸€è‡´éœ€æŒ‡å®šå±æ€§åï¼Œæ ¼å¼ä¸º {å±æ€§å:å˜é‡å}ã€‚
        å¦‚æœå˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ˜¯ä¸€ä½“çš„ï¼Œéœ€æ³¨æ„é‡å¤å£°æ˜ä¼šæŠ¥é”™ã€‚
        è§£æ„ä¹Ÿå¯ä»¥ç”¨äºåµŒå¥—ç»“æ„çš„å¯¹è±¡ã€‚
        å¯æŒ‡å®šé»˜è®¤å€¼ï¼Œé»˜è®¤å€¼ç”Ÿæ•ˆçš„æ¡ä»¶æ˜¯ï¼Œå¯¹è±¡çš„å±æ€§å€¼ä¸¥æ ¼ç­‰äºundefinedã€‚
        å¦‚æœè§£æ„å¤±è´¥ï¼Œå˜é‡çš„å€¼ç­‰äºundefinedã€‚
        éœ€æ³¨æ„ä¸èƒ½å°†å¤§æ‹¬å·å†™åœ¨è¡Œé¦–ï¼Œé¿å…JavaScriptå°†å…¶è§£é‡Šä¸ºä»£ç å—ã€‚
        è§£æ„èµ‹å€¼å…è®¸ï¼Œç­‰å·å·¦è¾¹çš„æ¨¡å¼ä¹‹ä¸­ï¼Œä¸æ”¾ç½®ä»»ä½•å˜é‡åï¼Œè™½ç„¶æ²¡æœ‰æ„ä¹‰ã€‚
    èŒƒä¾‹
        å˜é‡åå±æ€§åä¸€è‡´
            var { bar, foo } = { foo: &quot;aaa&quot;, bar: &quot;bbb&quot; };
            // foo=&quot;aaa&quot;  bar=&quot;bbb&quot;
            var { baz } = { foo: &quot;aaa&quot;, bar: &quot;bbb&quot; };
            // baz=undefined
        å˜é‡åå±æ€§åä¸ä¸€è‡´
            var { foo: baz } = { foo: &apos;aaa&apos;, bar: &apos;bbb&apos; };
            // baz=&quot;aaa&quot;
            let obj = { first: &apos;hello&apos;, last: &apos;world&apos; };
            let { first: f, last: l } = obj;
            // f=&apos;hello&apos; l=&apos;world&apos;
        é‡å¤å£°æ˜
            let foo; 
            let {foo} = {foo: 1};        // SyntaxError
            let baz; 
            let {bar: baz} = {bar: 1};   // SyntaxError
            let foo;
            ({foo} = {foo: 1});          // æˆåŠŸ
            let baz;
            ({bar: baz} = {bar: 1});     // æˆåŠŸ
        åµŒå¥—
            var obj = {
              p: [&apos;Hello&apos;, {y: &apos;World&apos;}]
            };
            var { p: [x, { y }] } = obj;
            // x=&quot;Hello&quot; y=&quot;World&quot;
        é»˜è®¤å€¼
            var {x = 3} = {};            // x=3
            var {x, y = 5} = {x: 1};     // x=1 y=5
        è§£æ„å¤±è´¥
            var {foo} = {bar: &apos;baz&apos;};    // foo=undefined
        ä¸æ”¾ç½®ä»»ä½•å˜é‡å
            ({} = [true, false]);
            ({} = &apos;abc&apos;);
            ({} = []);
        å¯¹æ•°ç»„è¿›è¡Œå¯¹è±¡å±æ€§çš„è§£æ„
            var arr = [1, 2, 3];
            var {0 : first, [arr.length - 1] : last} = arr;
            // first=1 last=3

å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼
    è¯´æ˜
        èµ‹å€¼æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡
        èµ‹å€¼æ—¶ï¼Œå¯å¯¹å­—ç¬¦ä¸²çš„å±æ€§è§£æ„
    èŒƒä¾‹
        const [a, b, c, d, e] = &apos;hello&apos;;
        let {length : len} = &apos;hello&apos;;

æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼
    è¯´æ˜
        è§£æ„èµ‹å€¼æ—¶ï¼Œå¦‚æœç­‰å·å³è¾¹æ˜¯æ•°å€¼å’Œå¸ƒå°”å€¼ï¼Œåˆ™ä¼šå…ˆè½¬ä¸ºå¯¹è±¡ã€‚
        å¦‚æœç­‰å·å³è¾¹çš„å€¼æ— æ³•è½¬æ¢ä¸ºå¯¹è±¡ï¼Œåˆ™æŠ¥é”™ã€‚
    èŒƒä¾‹
        let {toString: s} = 123;
        s === Number.prototype.toString   // true
        let { prop: x } = undefined;      // TypeError
        let { prop: y } = null;           // TypeError

å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼
    è¯´æ˜
        å‡½æ•°çš„å‚æ•°å¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ã€‚
        å‡½æ•°å‚æ•°çš„è§£æ„å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ã€‚
    èŒƒä¾‹
        å‡½æ•°çš„å‚æ•°è§£æ„èµ‹å€¼
            function add([x, y]){return x + y;}; add([1, 2]);  //ç»“æœä¸º3
            [[1, 2], [3, 4]].map(([a, b]) =&gt; a + b)            // [3,7]
        å‡½æ•°å‚æ•°çš„è§£æ„ä½¿ç”¨é»˜è®¤å€¼
            function move({x = 0, y = 0} = {}) {return [x, y]; }
            move({x: 3, y: 8});       // [3, 8]
            move({x: 3});             // [3, 0]
            move({});                 // [0, 0]
            move();                   // [0, 0]
        å‡½æ•°å‚æ•°çš„è§£æ„ä½¿ç”¨é»˜è®¤å€¼å¦å¤–ç»“æœ
            function move({x, y} = { x: 0, y: 0 }) { return [x, y]; }
            move({x: 3, y: 8});       // [3, 8]
            move({x: 3});             // [3, undefined]
            move({});                 // [undefined, undefined]
            move();                   // [0, 0]

åœ†æ‹¬å·é—®é¢˜
    è¯´æ˜
        ES6çš„è§„åˆ™æ˜¯ï¼Œåªè¦æœ‰å¯èƒ½å¯¼è‡´è§£æ„çš„æ­§ä¹‰ï¼Œå°±ä¸å¾—ä½¿ç”¨åœ†æ‹¬å·ã€‚
        å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µåªæœ‰ä¸€ç§ï¼šèµ‹å€¼è¯­å¥çš„éæ¨¡å¼éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨åœ†æ‹¬å·ã€‚
        å£°æ˜è¯­å¥ä¸­ï¼Œä¸èƒ½å¸¦æœ‰åœ†æ‹¬å·ã€‚
        å‡½æ•°å‚æ•°ä¸­ï¼Œå‡½æ•°å‚æ•°ä¹Ÿå±äºå˜é‡å£°æ˜ï¼Œå› æ­¤ä¸èƒ½å¸¦æœ‰åœ†æ‹¬å·ã€‚
        èµ‹å€¼è¯­å¥ä¸­ï¼Œä¸èƒ½å°†æ•´ä¸ªæ¨¡å¼ï¼Œæˆ–åµŒå¥—æ¨¡å¼ä¸­çš„ä¸€å±‚ï¼Œæ”¾åœ¨åœ†æ‹¬å·ä¹‹ä¸­ã€‚
    èŒƒä¾‹
        å£°æ˜è¯­å¥ä¸­(æŠ¥é”™)
            var [(a)] = [1];
            var {x: (c)} = {};
            var ({x: c}) = {};
            var {(x: c)} = {};
            var {(x): c} = {};}
            var { o: ({ p: p }) } = { o: { p: 2 } };
        å‡½æ•°å‚æ•°ä¸­(æŠ¥é”™)
            function f([(z)]) { return z; }
        èµ‹å€¼è¯­å¥ä¸­(æŠ¥é”™)
            ({ p: a }) = { p: 42 };
            ([a]) = [5];
            [({ p: a }), { x: c }] = [{}, {}];
        èµ‹å€¼è¯­å¥çš„éæ¨¡å¼éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨åœ†æ‹¬å·
            [(b)] = [3];
            ({ p: (d) } = {});
            [(parseInt.prop)] = [3];

ç”¨é€”
    èŒƒä¾‹
        äº¤æ¢å˜é‡çš„å€¼
            [x, y] = [y, x];
        ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼
            function example() {return [1, 2, 3]; }
            var [a, b, c] = example();
        å‡½æ•°å‚æ•°çš„å®šä¹‰
            function f([x, y, z]) { ... }
            f([1, 2, 3])
        æå–JSONæ•°æ®
            var jsonData = {
                id: 42,
                status: &quot;OK&quot;,
                data: [867, 5309]
            }
            let { id, status, data: number } = jsonData;
        å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼
            jQuery.ajax = function (url, {
                async = true,
                beforeSend = function () {},
                cache = true,
                complete = function () {},
                crossDomain = false,
                global = true,
                // ... more config
            }) {
                // ... do stuff
            };
        éå†Mapç»“æ„
            var map = new Map();
            map.set(&apos;first&apos;, &apos;hello&apos;);
            map.set(&apos;second&apos;, &apos;world&apos;);
            for (let [key, value] of map) {
                console.log(key + &quot; is &quot; + value);
            }
        åŠ è½½æ¨¡å—çš„æŒ‡å®šæ–¹æ³•
            const { SourceMapConsumer, SourceNode } = require(&quot;source-map&quot;);
</code></pre><p>##å­—ç¬¦ä¸²æ‰©å±•</p>
<pre><code>å­—ç¬¦çš„Unicodeè¡¨ç¤ºæ³•
    è¯´æ˜
        JavaScriptå…è®¸é‡‡ç”¨\uxxxxå½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­â€œxxxxâ€è¡¨ç¤ºå­—ç¬¦çš„ç ç‚¹ã€‚
        è¶…å‡º\u0000â€”â€”\uFFFFèŒƒå›´çš„å­—ç¬¦ï¼Œå°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·ï¼Œå°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦
    èŒƒä¾‹
        å¤§æ‹¬å·è¡¨ç¤ºUnicodeå­—ç¬¦
            &quot;\u{20BB7}&quot;              // &quot;ğ ®·&quot;
            &quot;\u{41}\u{42}\u{43}&quot;     // &quot;ABC&quot;
        6ç§è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦çš„æ–¹æ³•
            &apos;\z&apos; === &apos;z&apos;             // true
            &apos;\172&apos; === &apos;z&apos;           // true
            &apos;\x7A&apos; === &apos;z&apos;           // true
            &apos;\u007A&apos; === &apos;z&apos;         // true
            &apos;\u{7A}&apos; === &apos;z&apos;         // true

codePointAt()
    è¯´æ˜
        JavaScriptå†…éƒ¨ï¼Œå­—ç¬¦ä»¥UTF-16çš„æ ¼å¼å‚¨å­˜ï¼Œæ¯ä¸ªå­—ç¬¦å›ºå®šä¸º2ä¸ªå­—èŠ‚ã€‚
        éœ€4ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼ˆç ç‚¹å¤§äº0xFFFFï¼‰ï¼ŒJavaScriptä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚
        codePointAtæ–¹æ³•èƒ½å¤Ÿæ­£ç¡®å¤„ç†4ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦çš„ç ç‚¹ã€‚
    èŒƒä¾‹
        å¤§äº0xFFFFçš„å­—ç¬¦
            var s = &quot;ğ ®·&quot;;
            s.length                       // 2
            s.charAt(0)                    // &apos;&apos;
            s.charAt(1)                    // &apos;&apos;
            s.charCodeAt(0)                // 55362
            s.charCodeAt(1)                // 57271
        codePointAt
            var s = &apos;ğ ®·a&apos;;
            s.codePointAt(0)               // 134071 æ—¢åå…­è¿›åˆ¶çš„20BB7
            s.codePointAt(1)               // 57271
            s.charCodeAt(2)                // 97
            s.codePointAt(0).toString(16)  // &quot;20bb7&quot;
            s.charCodeAt(2).toString(16)   // &quot;61&quot;
        æµ‹è¯•ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯32ä½å­—ç¬¦
            function is32Bit(c) {
                return c.codePointAt(0) &gt; 0xFFFF;
            }
            is32Bit(&quot;ğ ®·&quot;)   // true
            is32Bit(&quot;a&quot;)    // false

String.fromCodePoint()
    è¯´æ˜
        ES5ä¸­çš„String.fromCharCodeæ–¹æ³•ï¼Œå¯ä»ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ï¼Œæ— æ³•è¯†åˆ«32ä½UTF-16å­—ç¬¦
        ES6æä¾›äº†String.fromCodePointï¼ŒåŠŸèƒ½ä¸fromCharCodeç±»ä¼¼ã€‚
        å¯ä»¥è¯†åˆ«32ä½çš„UTF-16å­—ç¬¦ã€‚
        å¦‚æœString.fromCodePointæ–¹æ³•æœ‰å¤šä¸ªå‚æ•°ï¼Œåˆ™å®ƒä»¬ä¼šè¢«åˆå¹¶æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›ã€‚
    èŒƒä¾‹
        String.fromCharCode(0x20BB7)   // &quot;à®·&quot;
        String.fromCodePoint(0x20BB7)  // &quot;ğ ®·&quot;
        String.fromCodePoint(0x78, 0x1f680, 0x79) === &apos;x\uD83D\uDE80y&apos;
        // true

å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£
    è¯´æ˜
        ES6ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†éå†å™¨æ¥å£ï¼Œä½¿å¾—å­—ç¬¦ä¸²å¯ä»¥è¢«for...ofå¾ªç¯éå†ã€‚
        é™¤äº†éå†å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªéå†å™¨æœ€å¤§çš„ä¼˜ç‚¹æ˜¯å¯ä»¥è¯†åˆ«å¤§äº0xFFFFçš„ç ç‚¹ã€‚
    èŒƒä¾‹
        éå†
            for (let codePoint of &apos;foo&apos;) {
              console.log(codePoint)
            }
        éå†32ä½å­—ç¬¦
            var text = String.fromCodePoint(0x20BB7);
            for (let i = 0; i &lt; text.length; i++) {
              console.log(text[i]);
            }
            // &quot; &quot;
            // &quot; &quot;
            for (let i of text) {
              console.log(i);
            }
            // &quot;ğ ®·&quot;

at()
    è¯´æ˜
        ES5ä¸­çš„charAtæ–¹æ³•ï¼Œå¯è¿”å›å­—ç¬¦ä¸²ç»™å®šä½ç½®çš„å­—ç¬¦ã€‚ä½†ä¸è¯†åˆ«ç ç‚¹å¤§äº0xFFFFçš„å­—ç¬¦ã€‚
        ES6ææ¡ˆä¸­çš„atæ–¹æ³•è¯†åˆ«Unicodeç¼–å·å¤§äº0xFFFFçš„å­—ç¬¦ã€‚
    èŒƒä¾‹
        &apos;abc&apos;.charAt(0)  // &quot;a&quot;
        &apos;ğ ®·&apos;.charAt(0)    // &quot;\uD842&quot;
        &apos;abc&apos;.at(0)      // &quot;a&quot;
        &apos;ğ ®·&apos;.at(0)        // &quot;ğ ®·&quot;

normalize()
    è¯´æ˜
        å¯¹äºæ¬§æ´²è¯­è¨€ä¸­çš„å¸¦æœ‰é‡éŸ³ç¬¦å·ç­‰å­—ç¬¦ï¼ŒUnicodeæä¾›äº†ä¸¤ç§æ–¹æ³•è¡¨ç¤ºã€‚
        ä¸€ç§æ˜¯ç›´æ¥æä¾›å¸¦é‡éŸ³ç¬¦å·çš„å­—ç¬¦ï¼Œæ¯”å¦‚Ç‘ï¼ˆ\u01D1ï¼‰ã€‚
        å¦ä¸€ç§æ˜¯åˆæˆç¬¦å·ï¼Œå³åŸå­—ç¬¦ä¸é‡éŸ³ç¬¦å·ä¸¤ä¸ªå­—ç¬¦åˆæˆä¸€ä¸ªå­—ç¬¦ã€‚
        å¦‚Oï¼ˆ\u004Fï¼‰å’ŒË‡ï¼ˆ\u030Cï¼‰åˆæˆÇ‘ï¼ˆ\u004F\u030Cï¼‰ã€‚
        è¿™ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼Œåœ¨è§†è§‰å’Œè¯­ä¹‰ä¸Šéƒ½ç­‰ä»·ï¼Œä½†æ˜¯JavaScriptä¸èƒ½è¯†åˆ«ã€‚
        ES6æä¾›normalize()æ–¹æ³•ï¼Œç”¨æ¥å°†å­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·çš„å½¢å¼ã€‚
        è¿™ç§°ä¸ºUnicodeæ­£è§„åŒ–ã€‚
    å‚æ•°
        NFC    æ ‡å‡†ç­‰ä»·åˆæˆï¼Œé»˜è®¤ï¼ŒæŒ‡çš„æ˜¯è§†è§‰å’Œè¯­ä¹‰ä¸Šçš„ç­‰ä»·ã€‚
        NFD    æ ‡å‡†ç­‰ä»·åˆ†è§£ï¼Œåœ¨æ ‡å‡†ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚
        NFKC   å…¼å®¹ç­‰ä»·åˆæˆï¼ŒæŒ‡çš„æ˜¯è¯­ä¹‰ä¸Šå­˜åœ¨ç­‰ä»·ï¼Œä½†è§†è§‰ä¸Šä¸ç­‰ä»·ã€‚
        NFKD   å…¼å®¹ç­‰ä»·åˆ†è§£ï¼Œå…¼å®¹ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚
    èŒƒä¾‹
        ä¸å¸¦å‚æ•°
            &apos;\u01D1&apos;===&apos;\u004F\u030C&apos;   //false
            &apos;\u01D1&apos;.length             // 1
            &apos;\u004F\u030C&apos;.length       // 2
            &apos;\u01D1&apos;.normalize() === &apos;\u004F\u030C&apos;.normalize()  //true
        å¸¦æœ‰å‚æ•°
            &apos;\u004F\u030C&apos;.normalize(&apos;NFC&apos;).length // 1
            &apos;\u004F\u030C&apos;.normalize(&apos;NFD&apos;).length // 2

includes(), startsWith(), endsWith()
    è¯´æ˜
        ä¹‹å‰JavaScriptåªæœ‰indexOfæ–¹æ³•ï¼Œç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚
        ES6åˆæä¾›äº†ä¸‰ç§æ–°æ–¹æ³•ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ã€‚
    æ–¹æ³•
        includes()      è¿”å›å¸ƒå°”ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚
        startsWith()    è¿”å›å¸ƒå°”ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚
        endsWith()      è¿”å›å¸ƒå°”ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å°¾éƒ¨
    èŒƒä¾‹
        var s = &apos;Hello world!&apos;;
        s.startsWith(&apos;Hello&apos;)        // true
        s.endsWith(&apos;!&apos;)              // true
        s.includes(&apos;o&apos;)              // true
        s.startsWith(&apos;world&apos;, 6)     // true
        s.endsWith(&apos;Hello&apos;, 5)       // true
        s.includes(&apos;Hello&apos;, 6)       // false

repeat()
    è¯´æ˜
        repeatæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚
        å‚æ•°å¦‚æœæ˜¯å°æ•°ï¼Œä¼šè¢«å–æ•´ã€‚
    èŒƒä¾‹
        &apos;x&apos;.repeat(3)            // &quot;xxx&quot;
        &apos;hello&apos;.repeat(2)        // &quot;hellohello&quot;
        &apos;na&apos;.repeat(0)           // &quot;&quot;
        &apos;na&apos;.repeat(2.9)         // &quot;nana&quot;
        &apos;na&apos;.repeat(Infinity)    // RangeError
        &apos;na&apos;.repeat(-1)          // RangeError
        &apos;na&apos;.repeat(-0.9)        // &quot;&quot;
        &apos;na&apos;.repeat(NaN)         // &quot;&quot;
        &apos;na&apos;.repeat(&apos;na&apos;)        // &quot;&quot;
        &apos;na&apos;.repeat(&apos;3&apos;)         // &quot;nanana&quot;

padStart()ï¼ŒpadEnd()
    è¯´æ˜
        ES7çš„å‡½æ•°,å¦‚æœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚
        padStartç”¨äºå¤´éƒ¨è¡¥å…¨ï¼ŒpadEndç”¨äºå°¾éƒ¨è¡¥å…¨ã€‚
    èŒƒä¾‹
        &apos;x&apos;.padStart(5, &apos;ab&apos;)               // &apos;ababx&apos;
        &apos;x&apos;.padStart(4, &apos;ab&apos;)               // &apos;abax&apos;
        &apos;x&apos;.padEnd(5, &apos;ab&apos;)                 // &apos;xabab&apos;
        &apos;x&apos;.padEnd(4, &apos;ab&apos;)                 // &apos;xaba&apos;
        &apos;xxx&apos;.padStart(2, &apos;ab&apos;)             // &apos;xxx&apos;
        &apos;xxx&apos;.padEnd(2, &apos;ab&apos;)               // &apos;xxx&apos;
        &apos;abc&apos;.padStart(10, &apos;0123456789&apos;)    // &apos;0123456abc&apos;
        &apos;x&apos;.padStart(4)                     // &apos;   x&apos;
        &apos;x&apos;.padEnd(4)                       // &apos;x   &apos;

æ¨¡æ¿å­—ç¬¦ä¸²
    è¯´æ˜
        ä¸ºè§£å†³JSçš„å­—ç¬¦ä¸²æ‹¼æ¥ä¸ä¾¿ï¼ŒES6æ¨å‡ºäº†æ¨¡æ¿å­—ç¬¦ä¸²ã€‚
        æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplate stringï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·ï¼ˆ`ï¼‰æ ‡è¯†ã€‚
        å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚
        è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²æ—¶ï¼Œæ‰€æœ‰çš„ç©ºæ ¼å’Œç¼©è¿›éƒ½ä¼šè¢«ä¿ç•™åœ¨è¾“å‡ºä¹‹ä¸­ã€‚
        æ¨¡æ¿å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ï¼Œéœ€è¦å°†å˜é‡åå†™åœ¨${}ä¹‹ä¸­ã€‚
    èŒƒä¾‹
        æ™®é€šå­—ç¬¦ä¸²
            `In JavaScript &apos;\n&apos; is a line-feed.`
        å¤šè¡Œå­—ç¬¦ä¸²
            `In JavaScript this is
             not legal.`
            console.log(`string text line 1
            string text line 2`);
        åµŒå…¥å˜é‡
            var name = &quot;Bob&quot;, time = &quot;today&quot;;
            `Hello ${name}, how are you ${time}?`
        æ”¾å…¥è¡¨è¾¾å¼
            var x = 1,y = 2;
            `${x} + ${y * 2} = ${x + y * 2}`
            var obj = {x: 1, y: 2};
            `${obj.x + obj.y}`
        è°ƒç”¨å‡½æ•°
            function fn() { return &quot;Hello World&quot;;}
            `foo ${fn()} bar`
            // foo Hello World bar

æ ‡ç­¾æ¨¡æ¿
    è¯´æ˜
        æ¨¡æ¿å­—ç¬¦å¯ä»¥ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°ååé¢ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ã€‚
        æ ‡ç­¾æ¨¡æ¿å‡½æ•°ä¼šæ”¶åˆ°ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ‹†åˆ†çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œåç»­å‚æ•°ä¸ºæ›¿æ¢çš„å€¼ã€‚
        å¦‚æœæ¨¡æ¿å­—ç¬¦é‡Œé¢æœ‰å˜é‡ï¼Œä¼šå°†æ¨¡æ¿å­—ç¬¦ä¸²å…ˆå¤„ç†æˆå¤šä¸ªå‚æ•°ï¼Œå†è°ƒç”¨å‡½æ•°
    èŒƒä¾‹
        æ— å‚æ•°
            alert`123`    // ç­‰åŒäºalert(123)
        æœ‰å‚æ•°
            var a = 5,b = 10;
            tag`Hello ${ a + b } world ${ a * b }`;
            // ç­‰åŒäº tag([&apos;Hello &apos;, &apos; world &apos;, &apos;&apos;], 15, 50);

String.raw()
    è¯´æ˜
        String.rawæ–¹æ³•ï¼Œå¾€å¾€ç”¨æ¥å……å½“æ¨¡æ¿å­—ç¬¦ä¸²çš„å¤„ç†å‡½æ•°ã€‚
        è¿”å›ä¸€ä¸ªæ–œæ éƒ½è¢«è½¬ä¹‰çš„å­—ç¬¦ä¸²ï¼Œå¯¹åº”äºæ›¿æ¢å˜é‡åçš„æ¨¡æ¿å­—ç¬¦ä¸².
        ä½œä¸ºæ­£å¸¸çš„å‡½æ•°ä½¿ç”¨æ—¶ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæœ‰rawå±æ€§çš„å¯¹è±¡ï¼Œä¸”rawå±æ€§çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚
    èŒƒä¾‹
        ç›´æ¥ä½¿ç”¨
            String.raw`Hi\u000A!`;
            // &apos;Hi\\u000A!&apos;
        åšä¸ºå‡½æ•°ä½¿ç”¨
            String.raw({ raw: &apos;test&apos; }, 0, 1, 2);
            // &apos;t0e1s2t&apos;
            // ç­‰åŒäº
            String.raw({ raw: [&apos;t&apos;,&apos;e&apos;,&apos;s&apos;,&apos;t&apos;] }, 0, 1, 2);
</code></pre><p>##æ­£åˆ™çš„æ‰©å±•</p>
<pre><code>RegExpæ„é€ å‡½æ•°
    è¯´æ˜
        åœ¨ES6ä¸­ï¼ŒRegExpä½œä¸ºæ„é€ å‡½æ•°æ—¶ï¼Œå½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ­£åˆ™æ—¶ï¼Œå…è®¸ç¬¬äºŒä¸ªä¿®é¥°ç¬¦å‚æ•°ã€‚
        ç¬¬äºŒä¸ªä¿®é¥°ç¬¦å‚æ•°ä¼šè¦†ç›–æ­£åˆ™ä¸­çš„ä¿®é¥°ç¬¦
    èŒƒä¾‹
        new RegExp(/abc/ig, &apos;i&apos;)  //å®é™…ä¿®é¥°ç¬¦ä¸ºi

å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³•
    è¯´æ˜
        ES6å°†å¦‚ä¸‹4ä¸ªæ–¹æ³•ï¼Œä¿®æ”¹ä¸ºåœ¨è¯­è¨€å†…éƒ¨å…¨éƒ¨è°ƒç”¨RegExpçš„å®ä¾‹æ–¹æ³•.
        ä»è€Œåšåˆ°æ‰€æœ‰ä¸æ­£åˆ™ç›¸å…³çš„æ–¹æ³•ï¼Œå…¨éƒ½å®šä¹‰åœ¨RegExpå¯¹è±¡ä¸Šã€‚
    æ–¹æ³•
        String.prototype.match    è°ƒç”¨ RegExp.prototype[Symbol.match]
        String.prototype.replace  è°ƒç”¨ RegExp.prototype[Symbol.replace]
        String.prototype.search   è°ƒç”¨ RegExp.prototype[Symbol.search]
        String.prototype.split    è°ƒç”¨ RegExp.prototype[Symbol.split]

uä¿®é¥°ç¬¦
    è¯´æ˜
        ES6å¯¹æ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†uä¿®é¥°ç¬¦ï¼Œå«ä¹‰ä¸ºâ€œUnicodeæ¨¡å¼â€ã€‚
        åŠ ä¸Šuä¿®é¥°ç¬¦ï¼Œ. åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥è¯†åˆ«ç ç‚¹å¤§äº0xFFFFçš„Unicodeå­—ç¬¦ã€‚
        ES6æ–°å¢äº†ä½¿ç”¨å¤§æ‹¬å·è¡¨ç¤ºUnicodeå­—ç¬¦ï¼Œè¿™ç§è¡¨ç¤ºæ³•åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚
        ä½¿ç”¨uä¿®é¥°ç¬¦åï¼Œæ‰€æœ‰é‡è¯éƒ½ä¼šæ­£ç¡®è¯†åˆ«ç ç‚¹å¤§äº0xFFFFçš„Unicodeå­—ç¬¦ã€‚
        å’Œiä¿®é¥°ç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œå¯è¯†åˆ«å­—å½¢ç›¸è¿‘ä½†ç¼–ç ä¸åŒçš„Unicodeå­—ç¬¦ã€‚
    èŒƒä¾‹
        åŒ¹é…32ä½å­—ç¬¦
            /^\uD83D/u.test(&apos;\uD83D\uDC2A&apos;)    // false
            /^\uD83D/.test(&apos;\uD83D\uDC2A&apos;)     // true
        ç‚¹å­—ç¬¦
            var s = &apos;ğ ®·&apos;;
            /^.$/.test(s)    // false
            /^.$/u.test(s)   // true
        Unicodeå­—ç¬¦è¡¨ç¤ºæ³•
            /\u{61}/.test(&apos;a&apos;)      // false
            /\u{61}/u.test(&apos;a&apos;)     // true
            /\u{20BB7}/u.test(&apos;ğ ®·&apos;)  // true
        é‡è¯
            /a{2}/.test(&apos;aa&apos;)     // true
            /a{2}/u.test(&apos;aa&apos;)    // true
            /ğ ®·{2}/.test(&apos;ğ ®·ğ ®·&apos;)   // false
            /ğ ®·{2}/u.test(&apos;ğ ®·ğ ®·&apos;)  // true
        é¢„å®šä¹‰æ¨¡å¼
            /^\S$/.test(&apos;ğ ®·&apos;)     // false
            /^\S$/u.test(&apos;ğ ®·&apos;)    // true
        iä¿®é¥°ç¬¦
            /[a-z]/i.test(&apos;\u212A&apos;)   // false
            /[a-z]/iu.test(&apos;\u212A&apos;)  // true

yä¿®é¥°ç¬¦
    è¯´æ˜
        ES6ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†yä¿®é¥°ç¬¦ï¼Œå«åšâ€œç²˜è¿â€ï¼ˆstickyï¼‰ä¿®é¥°ç¬¦ã€‚
        yä¿®é¥°ç¬¦çš„ä½œç”¨ä¸gä¿®é¥°ç¬¦ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å…¨å±€åŒ¹é…ã€‚
        ä¸åŒçš„æ˜¯ï¼Œyä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹ã€‚
    èŒƒä¾‹
        å’Œgä¿®é¥°ç¬¦åŒºåˆ«
            var s = &apos;aaa_aa_a&apos;;
            var r1 = /a+/g;
            var r2 = /a+/y;
            r1.exec(s)         // [&quot;aaa&quot;]
            r2.exec(s)         // [&quot;aaa&quot;]
            r1.exec(s)         // [&quot;aa&quot;]
            r2.exec(s)         // null
        å’Œgä¿®é¥°ç¬¦ä¸€èµ·ä½¿ç”¨
            const REGEX = /a/gy;
            console.log(&apos;aaxa&apos;.replace(REGEX, &apos;-&apos;));
            // &apos;--xa&apos;

stickyå±æ€§
    è¯´æ˜
        ä¸yä¿®é¥°ç¬¦ç›¸åŒ¹é…ï¼ŒES6çš„æ­£åˆ™å¯¹è±¡å¤šäº†stickyå±æ€§ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†yä¿®é¥°ç¬¦ã€‚
    èŒƒä¾‹
        var r = /hello\d/y;
        r.sticky
        // true

flagså±æ€§
    è¯´æ˜
        ES6ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ–°å¢äº†flagså±æ€§ï¼Œä¼šè¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦
    èŒƒä¾‹
        /abc/ig.source     // &quot;abc&quot;
        /abc/ig.flags      // &apos;gi&apos;

åè¡Œæ–­è¨€
    è¯´æ˜
        è¿™ä¸ªæ˜¯ES7çš„ææ¡ˆã€‚
        ç›®å‰JavaScriptåªæ”¯æŒæ­£å‘è‚¯å®šé¢„æŸ¥å’Œæ­£å‘å¦å®šé¢„æŸ¥ã€‚
        ä¸æ”¯æŒåå‘è‚¯å®šé¢„æŸ¥å’Œåå‘å¦å®šé¢„æŸ¥ã€‚
    è¡¨è¾¾å¼
        (?=pattern)     æ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚
        (?!pattern)     æ­£å‘å¦å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚
        (?&lt;=pattern)    åå‘è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚
        (?&lt;!pattern)    åå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚
    èŒƒä¾‹
        /x(?=y)/      //xåªæœ‰åœ¨yå‰é¢æ‰åŒ¹é…
        /x(?!y)/      //xåªæœ‰ä¸åœ¨yå‰é¢æ‰åŒ¹é…
        /(?&lt;=y)x/     //xåªæœ‰åœ¨yåé¢æ‰åŒ¹é…
        /(?&lt;!y)x/     //xåªæœ‰ä¸åœ¨yåé¢æ‰åŒ¹é…

Unicodeå±æ€§ç±»
    è¯´æ˜
        è¿™æ˜¯ä¸€ä¸ªææ¡ˆã€‚
        å¼•å…¥äº†ä¸€ç§æ–°çš„ç±»çš„å†™æ³•\p{...}å’Œ\P{...}ã€‚
        å…è®¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç¬¦åˆUnicodeæŸç§å±æ€§çš„æ‰€æœ‰å­—ç¬¦ã€‚
    ä¸¤ç§æ ¼å¼
        \p{UnicodePropertyName}
        \p{UnicodePropertyName=UnicodePropertyValue}
    èŒƒä¾‹
        åŒ¹é…å¸Œè…Šå­—ç¬¦
            const regexGreekSymbol = /\p{Script=Greek}/u;
            regexGreekSymbol.test(&apos;Ï€&apos;)   // true
        åŒ¹é…æ‰€æœ‰åè¿›åˆ¶å­—ç¬¦
            const regex = /^\p{Decimal_Number}+$/u;
            regex.test(&apos;ğŸğŸğŸ‘ğŸœğŸğŸğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸºğŸ»ğŸ¼&apos;) // true
        åŒ¹é…æ‰€æœ‰æ•°å­—
            const regex = /^\p{Number}+$/u;
            regex.test(&apos;Â²Â³Â¹Â¼Â½Â¾&apos;)             // true
            regex.test(&apos;ã‰›ã‰œã‰&apos;)              // true
            regex.test(&apos;â… â…¡â…¢â…£â…¤â…¥â…¦â…§â…¨â…©â…ªâ…«&apos;)  // true
</code></pre><h2 id="æ•°å€¼çš„æ‰©å±•"><a href="#æ•°å€¼çš„æ‰©å±•" class="headerlink" title="æ•°å€¼çš„æ‰©å±•"></a>æ•°å€¼çš„æ‰©å±•</h2><pre><code>äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤ºæ³•
    è¯´æ˜
        ES6æä¾›äº†äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶æ•°å€¼çš„æ–°çš„å†™æ³•ã€‚
        åˆ†åˆ«ç”¨å‰ç¼€0bï¼ˆæˆ–0Bï¼‰å’Œ0oï¼ˆæˆ–0Oï¼‰è¡¨ç¤ºã€‚
        ES5ä¸¥æ ¼æ¨¡å¼ä¹‹ä¸­ï¼Œå…«è¿›åˆ¶ä¸å…è®¸ä½¿ç”¨å‰ç¼€0è¡¨ç¤ºï¼ŒES6è¿›ä¸€æ­¥æ˜ç¡®ï¼Œè¦ä½¿ç”¨å‰ç¼€0oè¡¨ç¤ºã€‚
    èŒƒä¾‹
        äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤º
            0b111110111 === 503  // true
            0o767 === 503        // true
        è½¬åŒ–ä¸º10è¿›åˆ¶
            Number(&apos;0b111&apos;)      // 7
            Number(&apos;0o10&apos;)       // 8

Number.isFinite(), Number.isNaN()
    è¯´æ˜
        ES6åœ¨Numberå¯¹è±¡ä¸Šï¼Œæ–°æä¾›äº†Number.isFinite()å’ŒNumber.isNaN()ä¸¤ä¸ªæ–¹æ³•ã€‚
    æ–¹æ³•
        Number.isFinite()    æ£€æŸ¥ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæœ‰é™çš„ï¼ˆfiniteï¼‰
        Number.isNaN()       æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºNaNã€‚
    èŒƒä¾‹
        æ£€æŸ¥æ˜¯å¦æœ‰é™
            Number.isFinite(15);         // true
            Number.isFinite(0.8);        // true
            Number.isFinite(NaN);        // false
            Number.isFinite(Infinity);   // false
            Number.isFinite(-Infinity);  // false
            Number.isFinite(&apos;foo&apos;);      // false
            Number.isFinite(&apos;15&apos;);       // false
            Number.isFinite(true);       // false
        æ£€æŸ¥æ˜¯å¦ä¸ºNaN
            Number.isNaN(NaN)            // true
            Number.isNaN(15)             // false
            Number.isNaN(&apos;15&apos;)           // false
            Number.isNaN(true)           // false
            Number.isNaN(9/NaN)          // true
            Number.isNaN(&apos;true&apos;/0)       // true
            Number.isNaN(&apos;true&apos;/&apos;true&apos;)  // true

Number.parseInt(), Number.parseFloat()
    è¯´æ˜
        ES6å°†å…¨å±€æ–¹æ³•parseInt()å’ŒparseFloat()ï¼Œç§»æ¤åˆ°Numberå¯¹è±¡ä¸Šé¢ã€‚
        è¡Œä¸ºå®Œå…¨ä¿æŒä¸å˜ã€‚
    èŒƒä¾‹
        ES5çš„å†™æ³•
            parseInt(&apos;12.34&apos;)               // 12
            parseFloat(&apos;123.45#&apos;)           // 123.45
        ES6çš„å†™æ³•
            Number.parseInt(&apos;12.34&apos;)        // 12
            Number.parseFloat(&apos;123.45#&apos;)    // 123.45

Number.isInteger()
    è¯´æ˜
        ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•´æ•°ã€‚
        åœ¨JavaScriptå†…éƒ¨ï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°æ˜¯åŒæ ·çš„å‚¨å­˜æ–¹æ³•ï¼Œæ‰€ä»¥3å’Œ3.0è¢«è§†ä¸ºåŒä¸€ä¸ªå€¼ã€‚
    èŒƒä¾‹
        Number.isInteger(25)      // true
        Number.isInteger(25.0)    // true
        Number.isInteger(25.1)    // false
        Number.isInteger(&quot;15&quot;)    // false
        Number.isInteger(true)    // false

Number.EPSILON
    è¯´æ˜
        ES6åœ¨Numberå¯¹è±¡ä¸Šé¢ï¼Œæ–°å¢ä¸€ä¸ªæå°çš„å¸¸é‡Number.EPSILON
        å¼•å…¥ä¸€ä¸ªè¿™ä¹ˆå°çš„é‡çš„ç›®çš„ï¼Œåœ¨äºä¸ºæµ®ç‚¹æ•°è®¡ç®—ï¼Œè®¾ç½®ä¸€ä¸ªè¯¯å·®èŒƒå›´ã€‚
        å¦‚æœè¯¯å·®èƒ½å¤Ÿå°äºNumber.EPSILONï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¤ä¸ºå¾—åˆ°äº†æ­£ç¡®ç»“æœã€‚
    èŒƒä¾‹
        æå°å¸¸é‡
            Number.EPSILON               // 2.220446049250313e-16
            Number.EPSILON.toFixed(20)   // &apos;0.00000000000000022204&apos;
        åˆ¤æ–­è¯¯å·®æ˜¯å¦åœ¨èŒƒå›´å†…
            0.1 + 0.2                          // 0.30000000000000004
            0.1 + 0.2 - 0.3                    // 5.551115123125783e-17
            5.551115123125783e-17.toFixed(20)  // &apos;0.00000000000000005551&apos;
            5.551115123125783e-17 &lt; Number.EPSILON   // true

å®‰å…¨æ•´æ•°å’ŒNumber.isSafeInteger()
    è¯´æ˜
        JavaScriptèƒ½å¤Ÿå‡†ç¡®è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´åœ¨-2^53åˆ°2^53ä¹‹é—´ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ã€‚
        ES6å¼•å…¥äº†ä¸¤ä¸ªå¸¸é‡å’Œä¸€ä¸ªæ–¹æ³•ç”¨æ¥åˆ¤æ–­è¿™ä¸ªèŒƒå›´ã€‚
    å¸¸é‡
        Number.MAX_SAFE_INTEGER        å¯è¡¨ç¤ºçš„æ•°çš„æœ€å¤§å€¼
        Number.MIN_SAFE_INTEGER        å¯è¡¨ç¤ºçš„æ•°çš„æœ€å°å€¼
    æ–¹æ³•
        Number.isSafeInteger()         åˆ¤æ–­æŒ‡å®šçš„å€¼æ˜¯å¦åœ¨-2^53åˆ°2^53ä¹‹é—´
    èŒƒä¾‹
        å¸¸é‡
            Number.MAX_SAFE_INTEGER === Math.pow(2, 53) - 1        // true
            Number.MAX_SAFE_INTEGER === 9007199254740991           // true
            Number.MIN_SAFE_INTEGER === -Number.MAX_SAFE_INTEGER   // true
            Number.MIN_SAFE_INTEGER === -9007199254740991          // true
        èŒƒå›´
            Number.isSafeInteger(&apos;a&apos;)                        // false
            Number.isSafeInteger(null)                       // false
            Number.isSafeInteger(NaN)                        // false
            Number.isSafeInteger(Infinity)                   // false
            Number.isSafeInteger(-Infinity)                  // false
            Number.isSafeInteger(3)                          // true
            Number.isSafeInteger(1.2)                        // false
            Number.isSafeInteger(9007199254740990)           // true
            Number.isSafeInteger(9007199254740992)           // false
            Number.isSafeInteger(Number.MIN_SAFE_INTEGER)    // true
            Number.isSafeInteger(Number.MAX_SAFE_INTEGER)    // true
            Number.isSafeInteger(Number.MIN_SAFE_INTEGER-1)  // false
            Number.isSafeInteger(Number.MAX_SAFE_INTEGER+1)  // false

Mathå¯¹è±¡çš„æ‰©å±•
    è¯´æ˜
        ES6åœ¨Mathå¯¹è±¡ä¸Šæ–°å¢äº†17ä¸ªä¸æ•°å­¦ç›¸å…³çš„æ–¹æ³•ã€‚
        æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ˜¯é™æ€æ–¹æ³•ï¼Œåªèƒ½åœ¨Mathå¯¹è±¡ä¸Šè°ƒç”¨ã€‚
    æ–¹æ³•
        Math.trunc        å»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†
        Math.sign         åˆ¤æ–­ä¸€ä¸ªæ•°åˆ°åº•æ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶
        Math.cbrt         è®¡ç®—ä¸€ä¸ªæ•°çš„ç«‹æ–¹æ ¹
        Math.clz32        è¿”å›ä¸€ä¸ªæ•°çš„32ä½æ— ç¬¦å·æ•´æ•°å½¢å¼æœ‰å¤šå°‘ä¸ªå‰å¯¼0
        Math.imul         è¿”å›ä¸¤ä¸ªæ•°ä»¥32ä½å¸¦ç¬¦å·æ•´æ•°å½¢å¼ç›¸ä¹˜çš„ç»“æœ
        Math.fround       è¿”å›ä¸€ä¸ªæ•°çš„å•ç²¾åº¦æµ®ç‚¹æ•°å½¢å¼
        Math.hypot        è¿”å›æ‰€æœ‰å‚æ•°çš„å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹
    å¯¹æ•°æ–¹æ³•
        Math.expm1        Math.expm1(x)è¿”å›ex-1ï¼Œå³Math.exp(x) - 1
        Math.log1p        Math.log1p(x)æ–¹æ³•è¿”å›1+xçš„è‡ªç„¶å¯¹æ•°ï¼Œå³Math.log(1 + x)
        Math.log10        Math.log10(x)è¿”å›ä»¥10ä¸ºåº•çš„xçš„å¯¹æ•°
        Math.log2         Math.log2(x)è¿”å›ä»¥2ä¸ºåº•çš„xçš„å¯¹æ•°
    ä¸‰è§’å‡½æ•°æ–¹æ³•
        Math.sinh(x)      è¿”å›xçš„åŒæ›²æ­£å¼¦
        Math.cosh(x)      è¿”å›xçš„åŒæ›²ä½™å¼¦
        Math.tanh(x)      è¿”å›xçš„åŒæ›²æ­£åˆ‡
        Math.asinh(x)     è¿”å›xçš„ååŒæ›²æ­£å¼¦
        Math.acosh(x)     è¿”å›xçš„ååŒæ›²ä½™å¼¦
        Math.atanh(x)     è¿”å›xçš„ååŒæ›²æ­£åˆ‡

æŒ‡æ•°è¿ç®—ç¬¦
    è¯´æ˜
        ES7æ–°å¢äº†ä¸€ä¸ªæŒ‡æ•°è¿ç®—ç¬¦ï¼ˆ**ï¼‰
    èŒƒä¾‹
        2 ** 2                  // 4
        2 ** 3                  // 8
        let b = 3; b **= 3;     // ç­‰åŒäº b = b * b * b;
</code></pre><h2 id="æ•°ç»„çš„æ‰©å±•"><a href="#æ•°ç»„çš„æ‰©å±•" class="headerlink" title="æ•°ç»„çš„æ‰©å±•"></a>æ•°ç»„çš„æ‰©å±•</h2><pre><code>Array.from()
    è¯´æ˜
        Array.fromæ–¹æ³•ç”¨äºå°†ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡å’Œå¯éå†å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚
    èŒƒä¾‹
        è½¬æ¢ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡
            let arrayLike = {
                &apos;0&apos;: &apos;a&apos;,
                &apos;1&apos;: &apos;b&apos;,
                &apos;2&apos;: &apos;c&apos;,
                length: 3
            };
            [].slice.call(arrayLike)    //ES5å†™æ³•  [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]
            Array.from(arrayLike)       //ES6å†™æ³•  [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]

Array.of()
    è¯´æ˜
        Array.ofæ–¹æ³•ç”¨äºå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„ã€‚
    èŒƒä¾‹
        Array.of(3, 11, 8)       // [3,11,8]
        Array.of(3)              // [3]
        Array.of(3).length       // 1
        Array()                  // []
        Array(3)                 // [, , ,]
        Array(3, 11, 8)          // [3, 11, 8]

æ•°ç»„å®ä¾‹çš„copyWithin()
    è¯´æ˜
        åœ¨å½“å‰æ•°ç»„å®ä¾‹å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶ï¼ˆè¦†ç›–ï¼‰åˆ°å…¶ä»–ä½ç½®
    å‚æ•°
        Array.prototype.copyWithin(target, start = 0, end = this.length)
            target å¿…éœ€ï¼Œä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚
            start  å¯é€‰ï¼Œä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚
            end    å¯é€‰ï¼Œåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚
    èŒƒä¾‹
        [1, 2, 3, 4, 5].copyWithin(0, 3)       // [4, 5, 3, 4, 5]
        [1, 2, 3, 4, 5].copyWithin(0, 3, 4)    // [4, 2, 3, 4, 5]
        [1, 2, 3, 4, 5].copyWithin(0, -2, -1)  // [4, 2, 3, 4, 5]
        [].copyWithin.call({length: 5, 3: 1}, 0, 3)
        // {0: 1, 3: 1, length: 5}

æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex()
    è¯´æ˜
        æ•°ç»„å®ä¾‹çš„findæ–¹æ³•ï¼Œç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ã€‚
        å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¯¹æ•°ç»„å…ƒç´ ä¾æ¬¡æ‰§è¡Œå‡½æ•°ï¼Œå¦‚è¿”å›å€¼ä¸ºtrueï¼Œè¿”å›è¯¥æˆå‘˜ã€‚
        å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›undefinedã€‚
        findIndexç”¨æ³•ä¸findç±»ä¼¼ï¼Œè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ä½ç½®ï¼Œéƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›-1ã€‚
        è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥å‘ç°NaNï¼Œå¼¥è¡¥äº†æ•°ç»„çš„IndexOfæ–¹æ³•çš„ä¸è¶³ã€‚
    èŒƒä¾‹
        find
            [1, 4, -5, 10].find((n) =&gt; n &lt; 0)  // -5
            [1, 5, 10, 15].find(function(value, index, arr) {
              return value &gt; 9;
            }) // 10
        findIndex
            [1, 5, 10, 15].findIndex(function(value, index, arr) {
              return value &gt; 9;
            }) // 2
        NaNçš„åˆ¤æ–­
            [NaN].indexOf(NaN)                         // -1
            [NaN].findIndex(y =&gt; Object.is(NaN, y))    // 0

æ•°ç»„å®ä¾‹çš„fill()
    è¯´æ˜
        fillæ–¹æ³•ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„
        fillæ–¹æ³•å¯æ¥å—ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨äºæŒ‡å®šå¡«å……çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚
    èŒƒä¾‹
        [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;].fill(7)            // [7, 7, 7]
        new Array(3).fill(7)               // [7, 7, 7]
        [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;].fill(7, 1, 2)      // [&apos;a&apos;, 7, &apos;c&apos;]

æ•°ç»„å®ä¾‹çš„entries()ï¼Œkeys()å’Œvalues()
    è¯´æ˜
        ES6æä¾›ä¸‰ä¸ªæ–°çš„æ–¹æ³•â€”â€”entries()ï¼Œkeys()å’Œvalues()â€”â€”ç”¨äºéå†æ•°ç»„ã€‚
        å®ƒä»¬éƒ½è¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå¯ä»¥ç”¨for...ofå¾ªç¯è¿›è¡Œéå†ã€‚
        keys()æ˜¯å¯¹é”®åçš„éå†ã€values()æ˜¯å¯¹é”®å€¼çš„éå†ï¼Œentries()æ˜¯å¯¹é”®å€¼å¯¹çš„éå†ã€‚
    èŒƒä¾‹
        for...oféå†
            for (let index of [&apos;a&apos;, &apos;b&apos;].keys()) {
              console.log(index);
            }
            for (let elem of [&apos;a&apos;, &apos;b&apos;].values()) {
              console.log(elem);
            }
            for (let [index, elem] of [&apos;a&apos;, &apos;b&apos;].entries()) {
              console.log(index, elem);
            }
        nextéå†
            let letter = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;];
            let entries = letter.entries();
            console.log(entries.next().value);   // [0, &apos;a&apos;]
            console.log(entries.next().value);   // [1, &apos;b&apos;]
            console.log(entries.next().value);   // [2, &apos;c&apos;]

æ•°ç»„å®ä¾‹çš„includes()
    è¯´æ˜
        è¯¥æ–¹æ³•å±äºES7ã€‚
        Array.prototype.includesè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ã€‚
        è¯¥æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0ï¼Œè´Ÿæ•°è¡¨ç¤ºå€’æ•°ã€‚
        ç›¸å¯¹äºindexOfä¸ä¼šè¯¯åˆ¤NaNï¼Œä¸”è¿”å›çš„æ˜¯å¸ƒå°”å€¼ã€‚
    èŒƒä¾‹
        [1, 2, 3].includes(2);       // true
        [1, 2, 3].includes(4);       // false
        [1, 2, NaN].includes(NaN);   // true
        [1, 2, 3].includes(3, 3);    // false
        [1, 2, 3].includes(3, -1);   // true

æ•°ç»„çš„ç©ºä½
    è¯´æ˜
        æ•°ç»„çš„ç©ºä½æŒ‡ï¼Œæ•°ç»„çš„æŸä¸€ä¸ªä½ç½®æ²¡æœ‰ä»»ä½•å€¼ã€‚
        Arrayæ„é€ å‡½æ•°è¿”å›çš„æ•°ç»„éƒ½æ˜¯ç©ºä½ã€‚
        ç©ºä½ä¸æ˜¯undefinedï¼Œç©ºä½æ˜¯æ²¡æœ‰ä»»ä½•å€¼ï¼Œinè¿ç®—ç¬¦å¯ä»¥è¯´æ˜è¿™ä¸€ç‚¹ã€‚
        ES5ä¸­å¯¹ä¸åŒçš„å‡½æ•°å¯¹ç©ºä½çš„å¤„ç†ä¸ä¸€è‡´ï¼ŒES6åˆ™æ˜¯æ˜ç¡®å°†ç©ºä½è½¬ä¸ºundefinedã€‚
    ES5ä¸­å¯¹ç©ºä½çš„å¤„ç†
        forEach(), filter(), every() å’Œsome()éƒ½ä¼šè·³è¿‡ç©ºä½ã€‚
        map()ä¼šè·³è¿‡ç©ºä½ï¼Œä½†ä¼šä¿ç•™è¿™ä¸ªå€¼
        join()å’ŒtoString()å°†ç©ºä½è§†ä¸ºundefinedï¼Œundefinedå’Œnullä¼šè¢«å¤„ç†æˆç©ºå­—ç¬¦ä¸²ã€‚
    ES6ä¸­å¯¹ç©ºä½çš„å¤„ç†
        Array.fromæ–¹æ³•ä¼šå°†æ•°ç»„çš„ç©ºä½ï¼Œè½¬ä¸ºundefinedã€‚
        æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ä¹Ÿä¼šå°†ç©ºä½è½¬ä¸ºundefinedã€‚
        copyWithin()ä¼šè¿ç©ºä½ä¸€èµ·æ‹·è´ã€‚
        fill()ä¼šå°†ç©ºä½è§†ä¸ºæ­£å¸¸çš„æ•°ç»„ä½ç½®ã€‚
        for...ofå¾ªç¯ä¹Ÿä¼šéå†ç©ºä½ã€‚
        entriesã€keysã€valuesã€findå’ŒfindIndexä¼šå°†ç©ºä½å¤„ç†æˆundefinedã€‚
    èŒƒä¾‹
        ES5ä¸­å¯¹ç©ºä½çš„å¤„ç†
            [,&apos;a&apos;].forEach((x,i) =&gt; console.log(i));     // 1
            [&apos;a&apos;,,&apos;b&apos;].filter(x =&gt; true)                 // [&apos;a&apos;,&apos;b&apos;]
            [,&apos;a&apos;].every(x =&gt; x===&apos;a&apos;)                   // true
            [,&apos;a&apos;].some(x =&gt; x !== &apos;a&apos;)                  // false
            [,&apos;a&apos;].map(x =&gt; 1)                           // [,1]
            [,&apos;a&apos;,undefined,null].join(&apos;#&apos;)              // &quot;#a##&quot;
            [,&apos;a&apos;,undefined,null].toString()             // &quot;,a,,&quot;
        ES6ä¸­å¯¹ç©ºä½çš„å¤„ç†
            Array.from([&apos;a&apos;,,&apos;b&apos;])          // [ &quot;a&quot;, undefined, &quot;b&quot; ]
            [...[&apos;a&apos;,,&apos;b&apos;]]                 // [ &quot;a&quot;, undefined, &quot;b&quot; ]
            [,&apos;a&apos;,&apos;b&apos;,,].copyWithin(2,0)    // [,&quot;a&quot;,,&quot;a&quot;]
            new Array(3).fill(&apos;a&apos;)          // [&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]
            [...[,&apos;a&apos;].entries()]           // [[0,undefined], [1,&quot;a&quot;]]
            [...[,&apos;a&apos;].keys()]              // [0,1]
            [...[,&apos;a&apos;].values()]            // [undefined,&quot;a&quot;]
            [,&apos;a&apos;].find(x =&gt; true)          // undefined
            [,&apos;a&apos;].findIndex(x =&gt; true)     // 0
</code></pre><h2 id="å‡½æ•°çš„æ‰©å±•"><a href="#å‡½æ•°çš„æ‰©å±•" class="headerlink" title="å‡½æ•°çš„æ‰©å±•"></a>å‡½æ•°çš„æ‰©å±•</h2><pre><code>å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼
    è¯´æ˜
        ES6å…è®¸ä¸ºå‡½æ•°çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œå³ç›´æ¥å†™åœ¨å‚æ•°å®šä¹‰çš„åé¢ã€‚
        å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨letæˆ–constå†æ¬¡å£°æ˜ã€‚
        å‚æ•°é»˜è®¤å€¼å¯ä»¥ä¸è§£æ„èµ‹å€¼çš„é»˜è®¤å€¼ï¼Œç»“åˆèµ·æ¥ä½¿ç”¨ã€‚
        é€šå¸¸æƒ…å†µä¸‹ï¼Œå®šä¹‰äº†é»˜è®¤å€¼çš„å‚æ•°ï¼Œåº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°ã€‚
    å‡½æ•°çš„lengthå±æ€§
        æŒ‡å®šäº†é»˜è®¤å€¼ä»¥åï¼Œå‡½æ•°çš„lengthå±æ€§ï¼Œå°†è¿”å›æ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°ã€‚
        å¦‚æœè®¾ç½®äº†é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯å°¾å‚æ•°ï¼Œé‚£ä¹ˆlengthå±æ€§ä¹Ÿä¸å†è®¡å…¥åé¢çš„å‚æ•°äº†ã€‚
    ä½œç”¨åŸŸ
        å¦‚æœå‚æ•°é»˜è®¤å€¼æ˜¯ä¸€ä¸ªå˜é‡ï¼Œåˆ™è¯¥å˜é‡æ‰€å¤„çš„ä½œç”¨åŸŸï¼Œä¸å…¶ä»–å˜é‡çš„ä½œç”¨åŸŸè§„åˆ™æ˜¯ä¸€æ ·çš„ã€‚
        å³å…ˆæ˜¯å½“å‰å‡½æ•°çš„ä½œç”¨åŸŸï¼Œç„¶åæ‰æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚
        å¦‚æœå‚æ•°çš„é»˜è®¤å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨åŸŸæ˜¯å…¶å£°æ˜æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸã€‚
    èŒƒä¾‹
        é»˜è®¤å€¼
            function Point(x = 0, y = 0) {
                this.x = x;
                this.y = y;
            }
            var p = new Point();
            p  // { x: 0, y: 0 }
        ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨
            function foo({x, y = 5}) {
                console.log(x, y);
            }
            foo({})             // undefined, 5
            foo({x: 1})         // 1, 5
            foo({x: 1, y: 2})   // 1, 2
            foo() // TypeError: Cannot read property &apos;x&apos; of undefined
        åŒé‡é»˜è®¤å€¼
            function m1({x = 0, y = 0} = {}) {
                return [x, y];
            }
        å‡½æ•°çš„lengthå±æ€§
            (function (a) {}).length               // 1
            (function (a = 5) {}).length           // 0
            (function (a, b, c = 5) {}).length     // 2
            (function (a = 0, b, c) {}).length     // 0
            (function (a, b = 1, c) {}).length     // 1
        å‚æ•°é»˜è®¤å€¼ä¸æ˜¯å®šä¹‰æ—¶æ‰§è¡Œ
            function throwIfMissing() {
              throw new Error(&apos;Missing parameter&apos;);
            }
            function foo(mustBeProvided = throwIfMissing()) {
              return mustBeProvided;
            }
            foo()
            // Error: Missing parameter

restå‚æ•°
    è¯´æ˜
        ES6å¼•å…¥restå‚æ•°ï¼ˆå½¢å¼ä¸ºâ€œ...å˜é‡åâ€ï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ã€‚
        restå‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚
        restå‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚
        å‡½æ•°çš„lengthå±æ€§ï¼Œä¸åŒ…æ‹¬restå‚æ•°ã€‚
        å’Œargumentsçš„åŒºåˆ«æ˜¯ï¼Œargumentså¹¶ä¸æ˜¯æ•°ç»„ï¼Œæ— æ³•è°ƒç”¨æ•°ç»„ç›¸å…³çš„æ–¹æ³•ã€‚
    èŒƒä¾‹
        function push(array, ...items) {
           items.forEach(function(item) {
              array.push(item);
              console.log(item);
           });
        }
        var a = [];
        push(a, 1, 2, 3);

æ‰©å±•è¿ç®—ç¬¦
    è¯´æ˜
        æ‰©å±•è¿ç®—ç¬¦ï¼ˆspreadï¼‰æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆ...ï¼‰ã€‚
        å®ƒå¥½æ¯”restå‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚
        èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«32ä½çš„Unicodeå­—ç¬¦ã€‚
        ä»»ä½•Iteratoræ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚
    èŒƒä¾‹
        å‡½æ•°è°ƒç”¨
            function add(x, y) {
                return x + y;
            }
            var numbers = [4, 38];
            add(...numbers);   // 42
        æ›¿ä»£applyæ–¹æ³•
            // ES5çš„å†™æ³•
            function f(x, y, z) {
              // ...
            }
            var args = [0, 1, 2];
            f.apply(null, args);
            // ES6çš„å†™æ³•
            function f(x, y, z) {
              // ...
            }
            var args = [0, 1, 2];
            f(...args);
        åˆå¹¶æ•°ç»„
            var arr1 = [&apos;a&apos;, &apos;b&apos;];
            var arr2 = [&apos;c&apos;];
            var arr3 = [&apos;d&apos;, &apos;e&apos;];
            [...arr1, ...arr2, ...arr3]
            // [ &apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos; ]
        ä¸è§£æ„èµ‹å€¼ç»“åˆ
            const [first, ...rest] = [1, 2, 3, 4, 5];
            first // 1
            rest  // [2, 3, 4, 5]
            const [first, ...rest] = [];
            first // undefined
            rest  // []:
            const [first, ...rest] = [&quot;foo&quot;];
            first  // &quot;foo&quot;
            rest   // []
        å­—ç¬¦ä¸²
            [...&apos;hello&apos;]                     // [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ]
            &apos;x\uD83D\uDE80y&apos;.length          // 4
            [...&apos;x\uD83D\uDE80y&apos;].length     // 3 \uD83D\uDE80y æ˜¯ä¸€ä¸ª32ä½å­—ç¬¦
            let str = &apos;x\uD83D\uDE80y&apos;;
            str.split(&apos;&apos;).reverse().join(&apos;&apos;) // &apos;y\uDE80\uD83Dx&apos;
            [...str].reverse().join(&apos;&apos;)      // &apos;y\uD83D\uDE80x&apos;
        å®ç°äº†Iteratoræ¥å£çš„å¯¹è±¡
            var nodeList = document.querySelectorAll(&apos;div&apos;);
            var array = [...nodeList];
        Mapå’ŒSetç»“æ„ï¼ŒGeneratorå‡½æ•°
            let map = new Map([
                [1, &apos;one&apos;],
                [2, &apos;two&apos;],
                [3, &apos;three&apos;],
            ]);
            let arr = [...map.keys()]; // [1, 2, 3]
            var go = function*(){
                yield 1;
                yield 2;
                yield 3;
            };
            [...go()] // [1, 2, 3]

nameå±æ€§
    è¯´æ˜
        å‡½æ•°çš„nameå±æ€§ï¼Œè¿”å›è¯¥å‡½æ•°çš„å‡½æ•°åã€‚
        è¿™ä¸ªå±æ€§æ—©å°±è¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œä½†æ˜¯ç›´åˆ°ES6ï¼Œæ‰å°†å…¶å†™å…¥äº†æ ‡å‡†ã€‚
        å¦‚æœå°†ä¸€ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼ŒES5ä¸­nameä¸ºç©ºå­—ç¬¦ä¸²ï¼ŒES6ä¸­nameä¸ºå˜é‡åã€‚
        Functionæ„é€ å‡½æ•°è¿”å›çš„å‡½æ•°å®ä¾‹ï¼Œnameå±æ€§çš„å€¼ä¸ºâ€œanonymousâ€ã€‚
        bindè¿”å›çš„å‡½æ•°ï¼Œnameå±æ€§å€¼ä¼šåŠ ä¸Šâ€œbound â€å‰ç¼€ã€‚
    èŒƒä¾‹
        ES5ä¸ES6åŒºåˆ«
            var func1 = function () {};
            // ES5
            func1.name // &quot;&quot;
            // ES6
            func1.name // &quot;func1&quot;
        æ„é€ å‡½æ•°
            (new Function).name            // &quot;anonymous&quot;
        bindè¿”å›çš„å‡½æ•°
            function foo() {};
            foo.bind({}).name              // &quot;bound foo&quot;
            (function(){}).bind({}).name   // &quot;bound &quot;

ç®­å¤´å‡½æ•°
    è¯´æ˜
        ES6å…è®¸ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ=&gt;ï¼‰å®šä¹‰å‡½æ•°ã€‚
        å¦‚æœä¸éœ€è¦å‚æ•°æˆ–éœ€è¦å¤šä¸ªå‚æ•°ï¼Œéœ€ä½¿ç”¨ä¸€ä¸ªåœ†æ‹¬å·ä»£è¡¨å‚æ•°éƒ¨åˆ†ã€‚
        å¦‚æœçš„ä»£ç å—éƒ¨åˆ†å¤šäºä¸€æ¡è¯­å¥ï¼Œéœ€ä½¿ç”¨å¤§æ‹¬å·å°†å®ƒä»¬æ‹¬èµ·æ¥ï¼Œå¹¶ä¸”ä½¿ç”¨returnè¯­å¥è¿”å›ã€‚
        ç®­å¤´å‡½æ•°æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„thisï¼Œå¯¼è‡´å†…éƒ¨çš„thiså°±æ˜¯å¤–å±‚ä»£ç å—çš„thisã€‚
        å› ä¸ºæ²¡æœ‰thisï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚ä¹Ÿä¸èƒ½ç”¨call,apply,bindè¿™äº›æ–¹æ³•ã€‚
    æ³¨æ„
        å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚
        ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚
        ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¯ä»¥ç”¨Restå‚æ•°ä»£æ›¿ã€‚
        superã€new.target åœ¨ç®­å¤´å‡½æ•°ä¹‹ä¸­ä¹Ÿæ˜¯ä¸å­˜åœ¨çš„ã€‚
        ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ã€‚
    èŒƒä¾‹
        æ— å‚æ•°
            var f = () =&gt; 5;
        ä¸€ä¸ªå‚æ•°
            var f = v =&gt; v;
        å¤šä¸ªå‚æ•°
            var sum = (num1, num2) =&gt; num1 + num2;
        å¤šä¸ªå‚æ•°ä¸”ä»£ç å—å¤šä¸1è¡Œ
            var sum = (num1, num2) =&gt; {var sum = num1 + num2; return sum; }
        ç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡
            var getTempItem = id =&gt; ({ id: id, name: &quot;Temp&quot; });
        ä¸å˜é‡è§£æ„ç»“åˆä½¿ç”¨
            const full = ({ first, last }) =&gt; first + &apos; &apos; + last;
        ç®€åŒ–å›è°ƒå‡½æ•°
            [1,2,3].map(x =&gt; x * x);
        ä¸restå‚æ•°ç»“åˆ
            const numbers = (...nums) =&gt; nums;
            numbers(1, 2, 3, 4, 5)    // [1,2,3,4,5]
        thiså€¼
            function foo() {
              setTimeout(() =&gt; {
                console.log(&apos;id:&apos;, this.id);
              }, 100);
            }
            var id = 21;
            foo.call({ id: 42 });    // id: 42

å‡½æ•°ç»‘å®š
    è¯´æ˜
        è¯¥è¯­æ³•æ˜¯ES7çš„ä¸€ä¸ªææ¡ˆï¼ŒBabelè½¬ç å™¨å·²ç»æ”¯æŒã€‚
        å‡½æ•°ç»‘å®šï¼ˆfunction bindï¼‰è¿ç®—ç¬¦ï¼Œç”¨æ¥å–ä»£callã€applyã€bindè°ƒç”¨ã€‚
        å‡½æ•°ç»‘å®šè¿ç®—ç¬¦æ˜¯å¹¶æ’çš„ä¸¤ä¸ªåŒå†’å·ï¼ˆ::ï¼‰ï¼ŒåŒå†’å·å·¦è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå³è¾¹æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚
        è¯¥è¿ç®—ç¬¦ä¼šè‡ªåŠ¨å°†å·¦è¾¹çš„å¯¹è±¡ï¼Œä½œä¸ºä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆå³thiså¯¹è±¡ï¼‰ï¼Œç»‘å®šåˆ°å³è¾¹çš„å‡½æ•°ä¸Šé¢ã€‚
        å¦‚æœåŒå†’å·å·¦è¾¹ä¸ºç©ºï¼Œå³è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œåˆ™ç­‰äºå°†è¯¥æ–¹æ³•ç»‘å®šåœ¨è¯¥å¯¹è±¡ä¸Šé¢ã€‚
    èŒƒä¾‹
        è¯­æ³•
            foo::bar;                 // ç­‰åŒ bar.bind(foo);
            foo::bar(...arguments);   // ç­‰åŒ bar.apply(foo, arguments);
            var method = ::obj.foo;   // ç­‰åŒ var method = obj::obj.foo;
        é“¾å¼å†™æ³•
            let { find, html } = jake;
            document.querySelectorAll(&quot;div.myClass&quot;)
            ::find(&quot;p&quot;)
            ::html(&quot;hahaha&quot;);

å°¾è°ƒç”¨ä¼˜åŒ–
    è¯´æ˜
        å°¾è°ƒç”¨ä¼˜åŒ–æ˜¯æŸä¸ªå‡½æ•°çš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚
    å°¾è°ƒç”¨ä¼˜åŒ–
        æ­£å¸¸å‡½æ•°åµŒå¥—è°ƒç”¨ä¼šåœ¨å†…å­˜ä¸­å½¢æˆä¸€ä¸ªè°ƒç”¨å¸§ç»„æˆçš„è°ƒç”¨æ ˆã€‚
        å°¾è°ƒç”¨ç”±äºæ˜¯å‡½æ•°çš„æœ€åä¸€æ­¥æ“ä½œï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿ç•™å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ã€‚
        å¦‚æœæ‰€æœ‰å‡½æ•°éƒ½æ˜¯å°¾è°ƒç”¨ï¼Œé‚£ä¹ˆæ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œè°ƒç”¨å¸§åªæœ‰ä¸€é¡¹ï¼Œè¿™å°†å¤§å¤§èŠ‚çœå†…å­˜ã€‚
        åªæœ‰ä¸å†ç”¨åˆ°å¤–å±‚å‡½æ•°çš„å†…éƒ¨å˜é‡ï¼Œå†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§æ‰ä¼šå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨ã€‚
    å°¾é€’å½’
        å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œç§°ä¸ºé€’å½’ã€‚å¦‚æœå°¾è°ƒç”¨è‡ªèº«ï¼Œå°±ç§°ä¸ºå°¾é€’å½’ã€‚
        é€’å½’éå¸¸è€—è´¹å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ä¿å­˜æˆåƒä¸Šç™¾ä¸ªè°ƒç”¨å¸§ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ã€‚
        å°¾é€’å½’æ¥è¯´ï¼Œç”±äºåªå­˜åœ¨ä¸€ä¸ªè°ƒç”¨å¸§ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šå‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ã€‚
        å°¾é€’å½’çš„å®ç°ï¼Œå¾€å¾€éœ€è¦æ”¹å†™é€’å½’å‡½æ•°ï¼Œç¡®ä¿æœ€åä¸€æ­¥åªè°ƒç”¨è‡ªèº«ã€‚
    ä¸¥æ ¼æ¨¡å¼
        ES6çš„å°¾è°ƒç”¨ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¼€å¯ï¼Œæ­£å¸¸æ¨¡å¼æ˜¯æ— æ•ˆçš„ã€‚
        è¿™æ˜¯å› ä¸ºåœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå‡½æ•°å†…éƒ¨æœ‰ä¸¤ä¸ªå˜é‡ï¼Œå¯ä»¥è·Ÿè¸ªå‡½æ•°çš„è°ƒç”¨æ ˆã€‚
        func.argumentsï¼šè¿”å›è°ƒç”¨æ—¶å‡½æ•°çš„å‚æ•°ã€‚
        func.callerï¼šè¿”å›è°ƒç”¨å½“å‰å‡½æ•°çš„é‚£ä¸ªå‡½æ•°ã€‚
    èŒƒä¾‹
        å°¾è°ƒç”¨
            function f(x){
                return g(x);
            }
        ä¸å±äºå°¾è°ƒç”¨
            // æƒ…å†µä¸€
            function f(x){
              let y = g(x);
              return y;
            }
            // æƒ…å†µäºŒ
            function f(x){
              return g(x) + 1;
            }
            // æƒ…å†µä¸‰
            function f(x){
              g(x);
            }
        å°¾è°ƒç”¨ä¼˜åŒ–
            function f() {
              let m = 1;
              let n = 2;
              return g(m + n);
            }
            f();
            // ç­‰åŒäº
            function f() {
              return g(3);
            }
            f();
            // ç­‰åŒäº
            g(3);
        éå°¾é€’å½’
            function Fibonacci (n) {
                if ( n &lt;= 1 ) {return 1};
                return Fibonacci(n - 1) + Fibonacci(n - 2);
            }
            Fibonacci(10); // 89
            // Fibonacci(100)
            // Fibonacci(500)
            // å †æ ˆæº¢å‡ºäº†
        å°¾é€’å½’
            function Fibonacci2 (n , ac1 = 1 , ac2 = 1) {
                if( n &lt;= 1 ) {return ac2};
                return Fibonacci2 (n - 1, ac2, ac1 + ac2);
            }
            Fibonacci2(100) // 573147844013817200000
            Fibonacci2(1000) // 7.0330367711422765e+208
            Fibonacci2(10000) // Infinity

å‡½æ•°å‚æ•°çš„å°¾é€—å·
    è¯´æ˜
        ECMAScript 2017å°†å…è®¸å‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°æœ‰å°¾é€—å·ï¼ˆtrailing commaï¼‰ã€‚
        æ­¤å‰ï¼Œå‡½æ•°å®šä¹‰å’Œè°ƒç”¨æ—¶ï¼Œéƒ½ä¸å…è®¸æœ€åä¸€ä¸ªå‚æ•°åé¢å‡ºç°é€—å·ã€‚
    èŒƒä¾‹
        function clownsEverywhere(
          param1,
          param2,
        ) { /* ... */ }
        clownsEverywhere(
          &apos;foo&apos;,
          &apos;bar&apos;,
        );
</code></pre><h2 id="å¯¹è±¡çš„æ‰©å±•"><a href="#å¯¹è±¡çš„æ‰©å±•" class="headerlink" title="å¯¹è±¡çš„æ‰©å±•"></a>å¯¹è±¡çš„æ‰©å±•</h2><pre><code>å±æ€§çš„ç®€æ´è¡¨ç¤ºæ³•
    è¯´æ˜
        ES6å…è®¸ç›´æ¥å†™å…¥å˜é‡å’Œå‡½æ•°ï¼Œä½œä¸ºå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚è¿™æ ·çš„ä¹¦å†™æ›´åŠ ç®€æ´ã€‚
        å¦‚æœæŸä¸ªæ–¹æ³•çš„å€¼æ˜¯ä¸€ä¸ªGeneratorå‡½æ•°ï¼Œå‰é¢éœ€è¦åŠ ä¸Šæ˜Ÿå·ã€‚
    èŒƒä¾‹
        var birth = &apos;2000/01/01&apos;;
        var Person = {
            name: &apos;å¼ ä¸‰&apos;,
            //ç­‰åŒäºbirth: birth
            birth,
            // ç­‰åŒäºgetPoint: function ()...
            getPoint() {
                var x = 1,y = 10; 
                return {x, y};
            }
            * generatorFun(){
                yield &apos;hello world&apos;;
            }
        };

å±æ€§åè¡¨è¾¾å¼
    è¯´æ˜
        ES6å…è®¸å­—é¢é‡å®šä¹‰å¯¹è±¡æ—¶ï¼Œç”¨è¡¨è¾¾å¼ä½œä¸ºå¯¹è±¡çš„å±æ€§åï¼Œå³æŠŠè¡¨è¾¾å¼æ”¾åœ¨æ–¹æ‹¬å·å†…ã€‚
        å±æ€§åè¡¨è¾¾å¼ä¸ç®€æ´è¡¨ç¤ºæ³•ï¼Œä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œä¼šæŠ¥é”™ã€‚
    èŒƒä¾‹
        let propKey = &apos;foo&apos;;
        let obj = {
            [propKey]: true,
            [&apos;a&apos; + &apos;bc&apos;]: 123,
            [&apos;h&apos;+&apos;ello&apos;]() {
                return &apos;hi&apos;;
            }
        };

æ–¹æ³•çš„nameå±æ€§
    è¯´æ˜
        å‡½æ•°çš„nameå±æ€§ï¼Œè¿”å›å‡½æ•°åã€‚å¯¹è±¡æ–¹æ³•ä¹Ÿæ˜¯å‡½æ•°ï¼Œå› æ­¤ä¹Ÿæœ‰nameå±æ€§ã€‚
        å¦‚æœå¯¹è±¡çš„æ–¹æ³•æ˜¯ä¸€ä¸ªSymbolå€¼ï¼Œé‚£ä¹ˆnameå±æ€§è¿”å›çš„æ˜¯è¿™ä¸ªSymbolå€¼çš„æè¿°ã€‚
        bindæ–¹æ³•åˆ›é€ çš„å‡½æ•°ï¼Œnameå±æ€§è¿”å›â€œboundâ€åŠ ä¸ŠåŸå‡½æ•°çš„åå­—ã€‚
        Functionæ„é€ å‡½æ•°åˆ›é€ çš„å‡½æ•°ï¼Œnameå±æ€§è¿”å›â€œanonymousâ€ã€‚
    èŒƒä¾‹
        æ–¹æ³•çš„nameå±æ€§
            var person = {
                sayName() {
                    console.log(this.name);
                },
                get firstName() {
                    return &quot;Nicholas&quot;;
                }
            };
            person.sayName.name   // &quot;sayName&quot;
            person.firstName.name // &quot;get firstName&quot;
        æ–¹æ³•æ˜¯Symbolå€¼
            const key1 = Symbol(&apos;description&apos;);
            const key2 = Symbol();
            let obj = {
                [key1]() {},
                [key2]() {},
            };
            obj[key1].name  // &quot;[description]&quot;
            obj[key2].name  // &quot;&quot;

Object.is()
    è¯´æ˜
        ES5ä¸­ï¼Œç›¸ç­‰(==)ä¼šè‡ªåŠ¨è½¬æ¢ç±»å‹ï¼Œå…¨ç­‰(===)NaNä¸ç­‰äºè‡ªèº«ã€‚
        ES6ä¸­æ–°å¢Object.is()æ–¹æ³•ï¼Œä¸å…¨ç­‰ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯+0ä¸ç­‰äº-0ï¼ŒNaNç­‰äºè‡ªèº«ã€‚
    èŒƒä¾‹
        Object.is(&apos;foo&apos;, &apos;foo&apos;)    // true
        Object.is({}, {})          // false
        +0 === -0                  // true
        NaN === NaN                // false
        Object.is(+0, -0)          // false
        Object.is(NaN, NaN)        // true

Object.assign()
    è¯´æ˜
        Object.assignæ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ã€‚
        å°†æºå¯¹è±¡ï¼ˆsourceï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆtargetï¼‰ã€‚
        Object.assignæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡ã€‚
        å¦‚æœå±æ€§åç›¸åŒï¼Œåˆ™åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ã€‚
        å¦‚æœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œåˆ™ä¼šå…ˆè½¬æˆå¯¹è±¡ã€‚
        undefinedå’Œnullæ— æ³•è½¬æˆå¯¹è±¡ï¼Œä½œä¸ºé¦–å‚æ•°ä¼šæŠ¥é”™ï¼Œä½œä¸ºéé¦–å‚æ•°å‚æ•°è·³è¿‡ã€‚
    æ³¨æ„
        Object.assignåªæ‹·è´æºå¯¹è±¡çš„è‡ªèº«å±æ€§ï¼Œä¸æ‹·è´ç»§æ‰¿å±æ€§å’Œä¸å¯æšä¸¾çš„å±æ€§ã€‚
        Object.assignæ–¹æ³•å®è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œè€Œä¸æ˜¯æ·±æ‹·è´ã€‚
        å¦‚æœæºå¯¹è±¡æŸä¸ªå±æ€§çš„å€¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆç›®æ ‡å¯¹è±¡æ‹·è´å¾—åˆ°çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚
        å¯¹äºè¿™ç§åµŒå¥—çš„å¯¹è±¡ï¼Œé‡åˆ°åŒåå±æ€§ï¼ŒObject.assignçš„å¤„ç†æ–¹æ³•æ˜¯æ›¿æ¢ï¼Œè€Œä¸æ˜¯æ·»åŠ ã€‚
    èŒƒä¾‹
        åŒåå±æ€§
            var target = { a: 1, b: 1 };
            var source1 = { b: 2, c: 2 };
            var source2 = { c: 3 };
            Object.assign(target, source1, source2);
            target // {a:1, b:2, c:3}
        undefined,nullæƒ…å†µ
            Object.assign(undefined)               // æŠ¥é”™
            Object.assign()                        // æŠ¥é”™
            let obj = {a: 1};
            Object.assign(obj, undefined) === obj  // true
            Object.assign(obj, null) === obj       // true
        å…¶ä»–ç±»å‹
            var v1 = &apos;abc&apos;;
            var v2 = true;
            var v3 = 10;
            var obj = Object.assign({}, v1, v2, v3);
            console.log(obj); // { &quot;0&quot;: &quot;a&quot;, &quot;1&quot;: &quot;b&quot;, &quot;2&quot;: &quot;c&quot; }
        å±æ€§åä¸ºSymbolå€¼çš„å±æ€§
            Object.assign({ a: &apos;b&apos; }, { [Symbol(&apos;c&apos;)]: &apos;d&apos; })
            // { a: &apos;b&apos;, Symbol(c): &apos;d&apos; }
        åµŒå¥—å¯¹è±¡
            var target = { a: { b: &apos;c&apos;, d: &apos;e&apos; } }
            var source = { a: { b: &apos;hello&apos; } }
            Object.assign(target, source)
            // { a: { b: &apos;hello&apos; } }

å±æ€§çš„å¯æšä¸¾æ€§
    è¯´æ˜
        ES6è§„å®šï¼Œæ‰€æœ‰Classçš„åŸå‹çš„æ–¹æ³•éƒ½æ˜¯ä¸å¯æšä¸¾çš„ã€‚
        å¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªæè¿°å¯¹è±¡ï¼ˆDescriptorï¼‰ï¼Œç”¨æ¥æ§åˆ¶è¯¥å±æ€§çš„è¡Œä¸ºã€‚
        Object.getOwnPropertyDescriptoræ–¹æ³•å¯ä»¥è·å–è¯¥å±æ€§çš„æè¿°å¯¹è±¡ã€‚
    èŒƒä¾‹
        Classçš„åŸå‹çš„æ–¹æ³•ä¸å¯æšä¸¾
            Object.getOwnPropertyDescriptor(class {foo() {}}.prototype, &apos;foo&apos;).enumerable
            // false
        è·å–å±æ€§æè¿°
            let obj = { foo: 123 };
            Object.getOwnPropertyDescriptor(obj, &apos;foo&apos;)
            // {value:123,writable:true,enumerable:true,configurable:true}

å±æ€§çš„éå†
    æ–¹æ³•
        for...in
            å¾ªç¯éå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚
        Object.keys(obj)
            è¿”å›æ•°ç»„ï¼ŒåŒ…æ‹¬è‡ªèº«ï¼ˆä¸å«ç»§æ‰¿ï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼‰ã€‚
        Object.getOwnPropertyNames(obj)
            è¿”å›æ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼ˆä¸å«Symbolå±æ€§ï¼Œä½†æ˜¯åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ï¼‰
        Object.getOwnPropertySymbols(obj)
            è¿”å›æ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰Symbolå±æ€§ã€‚
        Reflect.ownKeys(obj)
            è¿”å›æ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼Œæ— è®ºæ˜¯å¦å¯æšä¸¾ï¼ŒåŒ…å«Symbolå±æ€§ã€‚
    éå†é¡ºåº
        é¦–å…ˆéå†æ‰€æœ‰å±æ€§åä¸ºæ•°å€¼çš„å±æ€§ï¼ŒæŒ‰ç…§æ•°å­—æ’åºã€‚
        å…¶æ¬¡éå†æ‰€æœ‰å±æ€§åä¸ºå­—ç¬¦ä¸²çš„å±æ€§ï¼ŒæŒ‰ç…§ç”Ÿæˆæ—¶é—´æ’åºã€‚
        æœ€åéå†æ‰€æœ‰å±æ€§åä¸ºSymbolå€¼çš„å±æ€§ï¼ŒæŒ‰ç…§ç”Ÿæˆæ—¶é—´æ’åº
    èŒƒä¾‹
        Reflect.ownKeys({ [Symbol()]:0, b:0, 10:0, 2:0, a:0 })
        // [&apos;2&apos;, &apos;10&apos;, &apos;b&apos;, &apos;a&apos;, Symbol()]

åŸå‹
    __proto__ 
        ç”¨æ¥è¯»å–æˆ–è®¾ç½®å½“å‰å¯¹è±¡çš„prototypeå¯¹è±¡ã€‚
        è¯¥å±æ€§æ²¡æœ‰å†™å…¥ES6çš„æ­£æ–‡ï¼Œè€Œæ˜¯å†™å…¥äº†é™„å½•ï¼Œå› æµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œæ‰è¢«åŠ å…¥äº†ES6ã€‚
        æ ‡å‡†æ˜ç¡®è§„å®šï¼Œåªæœ‰æµè§ˆå™¨å¿…é¡»éƒ¨ç½²è¿™ä¸ªå±æ€§ï¼Œå…¶ä»–è¿è¡Œç¯å¢ƒä¸ä¸€å®šéœ€è¦éƒ¨ç½²ã€‚
        æ–°çš„ä»£ç æœ€å¥½è®¤ä¸ºè¿™ä¸ªå±æ€§æ˜¯ä¸å­˜åœ¨çš„ã€‚
        æ— è®ºä»è¯­ä¹‰çš„è§’åº¦ï¼Œè¿˜æ˜¯ä»å…¼å®¹æ€§çš„è§’åº¦ï¼Œéƒ½ä¸è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ã€‚
    Object.setPrototypeOf()
        ç”¨æ¥è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„prototypeå¯¹è±¡ã€‚
        å®ƒæ˜¯ES6æ­£å¼æ¨èçš„è®¾ç½®åŸå‹å¯¹è±¡çš„æ–¹æ³•ã€‚
    Object.getPrototypeOf()
        è¯¥æ–¹æ³•ä¸setPrototypeOfæ–¹æ³•é…å¥—ï¼Œç”¨äºè¯»å–ä¸€ä¸ªå¯¹è±¡çš„prototypeå¯¹è±¡ã€‚
    èŒƒä¾‹
        __proto__å±æ€§
            // es6çš„å†™æ³•
            var obj = {
                method: function() { ... }
            };
            obj.__proto__ = someOtherObj;
            // es5çš„å†™æ³•``
            var obj = Object.create(someOtherObj);
            obj.method = function() { ... };
        Object.setPrototypeOf
            let proto = {};
            let obj = { x: 10 };
            Object.setPrototypeOf(obj, proto);
            proto.y = 20;
            proto.z = 40;
            obj.x // 10
            obj.y // 20
            obj.z // 40
        Object.getPrototypeOf
            function Rectangle() {};
            var rec = new Rectangle();
            Object.getPrototypeOf(rec) === Rectangle.prototype   // true
            Object.setPrototypeOf(rec, Object.prototype);
            Object.getPrototypeOf(rec) === Rectangle.prototype   // false

Object.values()ï¼ŒObject.entries()
    è¯´æ˜
        è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯ES7çš„ææ¡ˆã€‚
        Object.valuesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«å¯éå†å±æ€§çš„å€¼ã€‚
        Object.entriesæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«å¯éå†å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚
    èŒƒä¾‹
        Object.values
            var obj = { foo: &quot;bar&quot;, baz: 42 };
            Object.values(obj)    // [&quot;bar&quot;, 42]
            var obj = { 100: &apos;a&apos;, 2: &apos;b&apos;, 7: &apos;c&apos; };
            Object.values(obj)    // [&quot;b&quot;, &quot;c&quot;, &quot;a&quot;]
            var obj = Object.create({}, {p: {value: 42}});
            Object.values(obj)    // []
            Object.values({ [Symbol()]: 123, foo: &apos;abc&apos; });  // [&apos;abc&apos;]
            Object.values(&apos;foo&apos;)  // [&apos;f&apos;, &apos;o&apos;, &apos;o&apos;]
        Object.entries
            var obj = { foo: &apos;bar&apos;, baz: 42 };
            Object.entries(obj)
            // [ [&quot;foo&quot;, &quot;bar&quot;], [&quot;baz&quot;, 42] ]
            var map = new Map(Object.entries(obj));
            map // Map { foo: &quot;bar&quot;, baz: 42 }

å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦
    è¯´æ˜
        è¿™æ˜¯ES7çš„ä¸€ä¸ªææ¡ˆã€‚
        å°†Restè¿ç®—ç¬¦ï¼ˆè§£æ„èµ‹å€¼ï¼‰ï¼Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰å¼•å…¥å¯¹è±¡ã€‚
        Babelè½¬ç å™¨å·²ç»æ”¯æŒè¿™é¡¹åŠŸèƒ½ã€‚
        å¦‚è‡ªå®šä¹‰å±æ€§æ”¾åœ¨æ‰©å±•è¿ç®—ç¬¦åé¢ï¼Œåˆ™æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨çš„åŒåå±æ€§ä¼šè¢«è¦†ç›–æ‰ã€‚
        å¦‚è‡ªå®šä¹‰å±æ€§æ”¾åœ¨æ‰©å±•è¿ç®—ç¬¦å‰é¢ï¼Œå°±å˜æˆäº†è®¾ç½®æ–°å¯¹è±¡çš„é»˜è®¤å±æ€§å€¼ã€‚
        å±•è¿ç®—ç¬¦çš„å‚æ•°å¯¹è±¡ä¹‹ä¸­ï¼Œå¦‚æœæœ‰å–å€¼å‡½æ•°getï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ä¼šæ‰§è¡Œçš„ã€‚
    èŒƒä¾‹
        è§£æ„èµ‹å€¼
            let { x, y, ...z } = { x: 1, y: 2, a: 3, b: 4 };
            x // 1
            y // 2
            z // { a: 3, b: 4 }
        è§£æ„èµ‹å€¼æŠ¥é”™
            let { x, y, ...z } = null;        // è¿è¡Œæ—¶é”™è¯¯
            let { x, y, ...z } = undefined;   // è¿è¡Œæ—¶é”™è¯¯
            let { ...x, y, z } = obj;         // å¥æ³•é”™è¯¯
            let { x, ...y, ...z } = obj;      // å¥æ³•é”™è¯¯
        è§£æ„èµ‹å€¼æµ…æ‹·è´
            let obj = { a: { b: 1 } };
            let { ...x } = obj;
            obj.a.b = 2;
            x.a.b // 2
        è§£æ„èµ‹å€¼äº§ç”Ÿçš„å˜é‡åªè¯»å–å¯¹è±¡è‡ªèº«çš„å±æ€§
            var o = Object.create({ x: 1, y: 2 });
            o.z = 3;
            let { x, ...{ y, z } } = o;
            x // 1
            y // undefined
            z // 3
        ç»“æ„èµ‹å€¼ç”¨ä½œå‡½æ•°æ‰©å±•
            function baseFunction({ a, b }) {
              // ...
            }
            function wrapperFunction({ x, y, ...restConfig }) {
              // ä½¿ç”¨xå’Œyå‚æ•°è¿›è¡Œæ“ä½œ
              // å…¶ä½™å‚æ•°ä¼ ç»™åŸå§‹å‡½æ•°
              return baseFunction(restConfig);
            }
        æ‰©å±•è¿ç®—ç¬¦
            let z = { a: 3, b: 4 };
            let n = { ...z };
            n // { a: 3, b: 4 }
        æ‰©å±•è¿ç®—ç¬¦ç”¨äºåˆå¹¶å¯¹è±¡
            let ab = { ...a, ...b };
            // ç­‰åŒäº
            let ab = Object.assign({}, a, b);

Object.getOwnPropertyDescriptors()
    è¯´æ˜
        Object.getOwnPropertyDescriptorsæ–¹æ³•æ˜¯ä¸€ä¸ªES7çš„ææ¡ˆã€‚
        è¿”å›æŒ‡å®šå¯¹è±¡æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆéç»§æ‰¿å±æ€§ï¼‰çš„æè¿°å¯¹è±¡ã€‚
        ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†è§£å†³Object.assignï¼Œæ— æ³•æ­£ç¡®æ‹·è´getå±æ€§å’Œsetå±æ€§çš„é—®é¢˜ã€‚
        ES5ä¸­çš„Object.getOwnPropertyDescriptoræ–¹æ³•ï¼Œæ˜¯è¿”å›æŸä¸ªå¯¹è±¡å±æ€§çš„æè¿°å¯¹è±¡ã€‚
    èŒƒä¾‹
        const obj = {
          foo: 123,
          get bar() { return &apos;abc&apos; }
        };
        Object.getOwnPropertyDescriptors(obj)
        // { foo:
        //    { value: 123,
        //      writable: true,
        //      enumerable: true,
        //      configurable: true },
        //   bar:
        //    { get: [Function: bar],
        //      set: undefined,
        //      enumerable: true,
        //      configurable: true } }
</code></pre><h2 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h2><pre><code>æ¦‚è¿°
    è¯´æ˜
        ES6å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚
        å®ƒæ˜¯JavaScriptè¯­è¨€çš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ã€‚
        å‰å…­ç§æ˜¯ï¼šUndefinedã€Nullã€Booleanã€Stringã€Numberã€Objectã€‚
        Symbolå€¼é€šè¿‡Symbolå‡½æ•°ç”Ÿæˆã€‚
        å¯¹è±¡çš„å±æ€§åç°åœ¨å¯ä»¥æœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯å­—ç¬¦ä¸²ï¼Œå¦ä¸€ç§å°±æ˜¯æ–°å¢çš„Symbolç±»å‹ã€‚
        å‡¡æ˜¯å±æ€§åå±äºSymbolç±»å‹ï¼Œå°±éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šä¸å…¶ä»–å±æ€§åäº§ç”Ÿå†²çªã€‚
        Symbolå‡½æ•°å‰ä¸èƒ½ä½¿ç”¨newå‘½ä»¤ï¼Œç”Ÿæˆçš„Symbolæ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ã€‚
        Symbolå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå¯¹Symbolå®ä¾‹çš„æè¿°ã€‚
        Symbolå€¼ä¸èƒ½ä¸å…¶ä»–ç±»å‹çš„å€¼è¿›è¡Œè¿ç®—ã€‚
        Symbolå€¼å¯ä»¥æ˜¾å¼è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå¸ƒå°”å€¼ï¼Œä½†æ˜¯ä¸èƒ½è½¬ä¸ºæ•°å€¼ã€‚
    èŒƒä¾‹
        åˆ›å»ºSymbolå®ä¾‹
            let s = Symbol();
            typeof s; // &quot;symbol&quot;
        æè¿°å‚æ•°
            var s1 = Symbol(&apos;foo&apos;);
            var s2 = Symbol(&apos;bar&apos;);
            s1  // Symbol(foo)
            s2  // Symbol(bar)
            s1.toString()  // &quot;Symbol(foo)&quot;
            s2.toString()  // &quot;Symbol(bar)&quot;
        å”¯ä¸€æ€§
            var s1 = Symbol();
            var s2 = Symbol();
            s1 === s2 // false
            var s1 = Symbol(&quot;foo&quot;);
            var s2 = Symbol(&quot;foo&quot;);
            s1 === s2 // false
        æ— æ³•å‚ä¸è¿ç®—
            var sym = Symbol(&apos;My symbol&apos;);
            &quot;your symbol is &quot; + sym   // TypeError
            `your symbol is ${sym}`   // TypeError
        è½¬ä¸ºå­—ç¬¦ä¸²
            var sym = Symbol(&apos;My symbol&apos;);
            String(sym)    // &apos;Symbol(My symbol)&apos;
            sym.toString() // &apos;Symbol(My symbol)&apos;
        è½¬ä¸ºå¸ƒå°”å€¼
            var sym = Symbol();
            Boolean(sym)  // true
            !sym          // false
            if (sym) {
              // ...
            }
            Number(sym)   // TypeError
            sym + 2       // TypeError

ä½œä¸ºå±æ€§åçš„Symbol
    è¯´æ˜
        ç”±äºæ¯ä¸€ä¸ªSymbolå€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œè¿™æ„å‘³ç€Symbolå€¼å¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ã€‚
        ç”¨äºå¯¹è±¡çš„å±æ€§åï¼Œå¯ä¿è¯ä¸ä¼šå‡ºç°åŒåçš„å±æ€§ã€‚
        è¿™å¯¹äºä¸€ä¸ªå¯¹è±¡ç”±å¤šä¸ªæ¨¡å—æ„æˆçš„æƒ…å†µéå¸¸æœ‰ç”¨ï¼Œèƒ½é˜²æ­¢æŸä¸€ä¸ªé”®è¢«ä¸å°å¿ƒæ”¹å†™æˆ–è¦†ç›–ã€‚
    èŒƒä¾‹
        ä½œä¸ºå¯¹è±¡å±æ€§
            var mySymbol = Symbol();
            var a = {};
            a[mySymbol] = &apos;Hello!&apos;;
            var b = {
                [mySymbol]: &apos;Hello!&apos;
            };
            var c = {};
            Object.defineProperty(c, mySymbol, { value: &apos;Hello!&apos; });
            // ä»¥ä¸Šå†™æ³•éƒ½å¾—åˆ°åŒæ ·ç»“æœ
            a[mySymbol] // &quot;Hello!&quot;
        å¯¹è±¡æ–¹æ³•ç®€æ´å†™æ³•
            let s = Symbol();
            let obj = {
                [s](arg) { ... }
            };
        å®šä¹‰ä¸€ç»„å¸¸é‡
            log.levels = {
                DEBUG: Symbol(&apos;debug&apos;),
                INFO: Symbol(&apos;info&apos;),
                WARN: Symbol(&apos;warn&apos;)
            };
            log(log.levels.DEBUG, &apos;debug message&apos;);
            log(log.levels.INFO, &apos;info message&apos;);

å®ä¾‹ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²
    è¯´æ˜
        é­”æœ¯å­—ç¬¦ä¸²æŒ‡åœ¨ä»£ç ä¹‹ä¸­å¤šæ¬¡å‡ºç°ã€ä¸ä»£ç å½¢æˆå¼ºè€¦åˆçš„æŸä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å€¼ã€‚
        é£æ ¼è‰¯å¥½çš„ä»£ç ï¼Œåº”è¯¥å°½é‡æ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²ï¼Œè¯¥ç”±å«ä¹‰æ¸…æ™°çš„å˜é‡ä»£æ›¿ã€‚

å±æ€§åçš„éå†
    è¯´æ˜
        Symbolä½œä¸ºå±æ€§åä¸ä¼šå‡ºç°åœ¨for...inã€for...ofå¾ªç¯ä¸­ã€‚
        ä¹Ÿä¸ä¼šè¢«Object.keys()ã€Object.getOwnPropertyNames()è¿”å›ã€‚
        Object.getOwnPropertySymbolsæ–¹æ³•å¯ä»¥è·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰Symbolå±æ€§åã€‚
        Reflect.ownKeysæ–¹æ³•å¯ä»¥è¿”å›æ‰€æœ‰ç±»å‹çš„é”®åï¼ŒåŒ…æ‹¬å¸¸è§„é”®åå’ŒSymbolé”®åã€‚
    èŒƒä¾‹
        è·å–Symbolå±æ€§
            var obj = {};
            var foo = Symbol(&quot;foo&quot;);
            Object.defineProperty(obj, foo, {
                value: &quot;foobar&quot;,
            });
            for (var i in obj) {
                console.log(i); // æ— è¾“å‡º
            }
            Object.getOwnPropertyNames(obj)    // []
            Object.getOwnPropertySymbols(obj)  // [Symbol(foo)]
        Reflect.ownKeys
            let obj = {
                [Symbol(&apos;my_key&apos;)]: 1,
                enum: 2,
                nonEnum: 3
            };
            Reflect.ownKeys(obj)
            // [Symbol(my_key), &apos;enum&apos;, &apos;nonEnum&apos;]

Symbol.for()ï¼ŒSymbol.keyFor()
    è¯´æ˜
        Symbol.foræ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç„¶åæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„Symbolå€¼ã€‚
        æœ‰å°±è¿”å›è¿™ä¸ªSymbolå€¼ï¼Œå¦åˆ™å°±æ–°å»ºå¹¶è¿”å›ä¸€ä¸ªä»¥è¯¥å­—ç¬¦ä¸²ä¸ºåç§°çš„Symbolå€¼ã€‚
        Symbol.forç”Ÿæˆçš„å®ä¾‹ä¼šè¢«ç™»è®°åœ¨å…¨å±€ç¯å¢ƒä¸­ä¾›æœç´¢ï¼ŒSymbolä¸ä¼šã€‚
        Symbol.keyForæ–¹æ³•è¿”å›ä¸€ä¸ªå·²ç™»è®°çš„Symbolç±»å‹å€¼çš„keyã€‚
    èŒƒä¾‹
        Symbol.for
            var s1 = Symbol.for(&apos;foo&apos;);
            var s2 = Symbol.for(&apos;foo&apos;);
            s1 === s2 // true
        Symbol.keyFor
            var s1 = Symbol.for(&quot;foo&quot;);
            Symbol.keyFor(s1) // &quot;foo&quot;
            var s2 = Symbol(&quot;foo&quot;);
            Symbol.keyFor(s2)  // undefined

å†…ç½®çš„Symbolå€¼
    è¯´æ˜
        é™¤äº†å®šä¹‰è‡ªå·±ä½¿ç”¨çš„Symbolå€¼ä»¥å¤–ï¼ŒES6è¿˜æä¾›äº†11ä¸ªå†…ç½®çš„Symbolå€¼ã€‚
        è¿™äº›å†…ç½®çš„Symbolå€¼æŒ‡å‘è¯­è¨€å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•ã€‚
    å†…ç½®å€¼
        Symbol.hasInstance
            æŒ‡å‘ä¸€ä¸ªå†…éƒ¨æ–¹æ³•ã€‚å½“å…¶ä»–å¯¹è±¡ä½¿ç”¨instanceofè¿ç®—ç¬¦ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºè¯¥å¯¹è±¡çš„å®ä¾‹æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚
        Symbol.isConcatSpreadable
            ç­‰äºä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡ä½¿ç”¨Array.prototype.concat()æ—¶ï¼Œæ˜¯å¦å¯ä»¥å±•å¼€ã€‚
        Symbol.species
            æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ã€‚è¯¥å¯¹è±¡ä½œä¸ºæ„é€ å‡½æ•°åˆ›é€ å®ä¾‹æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚å³å¦‚æœthis.constructor[Symbol.species]å­˜åœ¨ï¼Œå°±ä¼šä½¿ç”¨è¿™ä¸ªå±æ€§ä½œä¸ºæ„é€ å‡½æ•°ï¼Œæ¥åˆ›é€ æ–°çš„å®ä¾‹å¯¹è±¡ã€‚
        Symbol.match
            æŒ‡å‘ä¸€ä¸ªå‡½æ•°ã€‚å½“æ‰§è¡Œstr.match(myObject)æ—¶ï¼Œå¦‚æœè¯¥å±æ€§å­˜åœ¨ï¼Œä¼šè°ƒç”¨å®ƒï¼Œè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚
        Symbol.replace
            æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«String.prototype.replaceæ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚
        Symbol.search
            æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«String.prototype.searchæ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚
        Symbol.split
            æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«String.prototype.splitæ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›è¯¥æ–¹æ³•çš„è¿”å›å€¼ã€‚
        Symbol.iterator
            æŒ‡å‘è¯¥å¯¹è±¡çš„é»˜è®¤éå†å™¨æ–¹æ³•ã€‚
            å¯¹è±¡è¿›è¡Œfor...ofå¾ªç¯æ—¶ï¼Œä¼šè°ƒç”¨Symbol.iteratoræ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡çš„é»˜è®¤éå†å™¨ã€‚
        Symbol.toPrimitive
            æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ã€‚è¯¥å¯¹è±¡è¢«è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼æ—¶ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡å¯¹åº”çš„åŸå§‹ç±»å‹å€¼ã€‚
            Symbol.toPrimitiveè¢«è°ƒç”¨æ—¶ï¼Œä¼šæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¡¨ç¤ºå½“å‰è¿ç®—çš„æ¨¡å¼ã€‚
            ä¸€å…±æœ‰ä¸‰ç§æ¨¡å¼: Number,String,Default(å¯ä»¥è½¬æ¢å­—ç¬¦ä¸²æˆ–æ•°å€¼)ã€‚
        Symbol.toStringTag
            æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ã€‚åœ¨è¯¥å¯¹è±¡ä¸Šé¢è°ƒç”¨Object.prototype.toStringæ–¹æ³•æ—¶ï¼Œå¦‚æœè¿™ä¸ªå±æ€§å­˜åœ¨ï¼Œå®ƒçš„è¿”å›å€¼ä¼šå‡ºç°åœ¨toStringæ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ä¹‹ä¸­ï¼Œè¡¨ç¤ºå¯¹è±¡çš„ç±»å‹ã€‚
        Symbol.unscopables
            æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¯¥å¯¹è±¡æŒ‡å®šäº†ä½¿ç”¨withå…³é”®å­—æ—¶ï¼Œå“ªäº›å±æ€§ä¼šè¢«withç¯å¢ƒæ’é™¤ã€‚
    èŒƒä¾‹
        Symbol.hasInstance
            class Even {
              static [Symbol.hasInstance](obj) {
                return Number(obj) % 2 === 0;
              }
            }
            1 instanceof Even // false
            2 instanceof Even // true
            12345 instanceof Even // false
        Symbol.isConcatSpreadable
            let arr1 = [&apos;c&apos;, &apos;d&apos;];
            [&apos;a&apos;, &apos;b&apos;].concat(arr1, &apos;e&apos;) // [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;]
            arr1[Symbol.isConcatSpreadable] // undefined
            let arr2 = [&apos;c&apos;, &apos;d&apos;];
            arr2[Symbol.isConcatSpreadable] = false;
            [&apos;a&apos;, &apos;b&apos;].concat(arr2, &apos;e&apos;) // [&apos;a&apos;, &apos;b&apos;, [&apos;c&apos;,&apos;d&apos;], &apos;e&apos;]
        Symbol.match
            String.prototype.match(regexp)
            // ç­‰åŒäº
            regexp[Symbol.match](this)
            class MyMatcher {
                [Symbol.match](string) {
                    return &apos;hello world&apos;.indexOf(string);
                }
            }
            &apos;e&apos;.match(new MyMatcher()) // 1
        Symbol.search
            String.prototype.search(regexp)
            // ç­‰åŒäº
            regexp[Symbol.search](this)
            class MySearch {
                constructor(value) {
                    this.value = value;
                }
                [Symbol.search](string) {
                    return string.indexOf(this.value);
                }
            }
            &apos;foobar&apos;.search(new MySearch(&apos;foo&apos;)) // 0
        Symbol.split
            String.prototype.split(separator, limit)
            // ç­‰åŒäº
            separator[Symbol.split](this, limit)
        Symbol.toPrimitive
            let obj = {
                [Symbol.toPrimitive](hint) {
                    switch (hint) {
                        case &apos;number&apos;:
                            return 123;
                        case &apos;string&apos;:
                            return &apos;str&apos;;
                        case &apos;default&apos;:
                            return &apos;default&apos;;
                        default:
                            throw new Error();
                    }
                }
            };
            2 * obj // 246
            3 + obj // &apos;3default&apos;
            obj == &apos;default&apos; // true
            String(obj) // &apos;str&apos;
        Symbol.toStringTag
            ({[Symbol.toStringTag]: &apos;Foo&apos;}.toString())
            // &quot;[object Foo]&quot;
            class Collection {
                get [Symbol.toStringTag]() {
                    return &apos;xxx&apos;;
                }
            }
            var x = new Collection();
            Object.prototype.toString.call(x) // &quot;[object xxx]&quot;
</code></pre><h2 id="Proxyå’ŒReflect"><a href="#Proxyå’ŒReflect" class="headerlink" title="Proxyå’ŒReflect"></a>Proxyå’ŒReflect</h2><pre><code>Proxyæ¦‚è¿°
    è¯´æ˜
        Proxyç”¨äºä¿®æ”¹æŸäº›æ“ä½œçš„é»˜è®¤è¡Œä¸ºï¼Œç­‰åŒäºåœ¨è¯­è¨€å±‚é¢åšå‡ºä¿®æ”¹ã€‚
        å±äºä¸€ç§â€œå…ƒç¼–ç¨‹â€ï¼ˆmeta programmingï¼‰ï¼Œå³å¯¹ç¼–ç¨‹è¯­è¨€è¿›è¡Œç¼–ç¨‹ã€‚
    èŒƒä¾‹
        var proxy = new Proxy({}, {
            get: function(target, property) {
                return 35;
            }
        });
        proxy.time // 35
        proxy.name // 35

    æ‹¦æˆªæ“ä½œ
        get(target, propKey, receiver)
        set(target, propKey, value, receiver)
        has(target, propKey)
        deleteProperty(target, propKey)
        ownKeys(target)
        getOwnPropertyDescriptor(target, propKey)
        defineProperty(target, propKey, propDesc)
        preventExtensions(target)
        getPrototypeOf(target)
        isExtensible(target)
        setPrototypeOf(target, proto)
        apply(target, object, args)
        construct(target, args)

Proxy.revocable()
    è¯´æ˜
        è¿”å›ä¸€ä¸ªå¯å–æ¶ˆçš„Proxyå®ä¾‹ã€‚
        Proxy.revocableæ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«proxyå’Œrevokeä¸¤ä¸ªå±æ€§ã€‚
        proxyæ˜¯Proxyå®ä¾‹ï¼Œrevokeå±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å–æ¶ˆProxyå®ä¾‹ã€‚
    èŒƒä¾‹
        let target = {};
        let handler = {};
        let {proxy, revoke} = Proxy.revocable(target, handler);
        proxy.foo = 123;
        proxy.foo // 123
        revoke();
        proxy.foo // TypeError: Revoked

Reflectæ¦‚è¿°
    è¯´æ˜
        å°†Objectå¯¹è±¡çš„ä¸€äº›æ˜æ˜¾å±äºè¯­è¨€å†…éƒ¨çš„æ–¹æ³•ï¼Œæ”¾åˆ°Reflectå¯¹è±¡ä¸Šã€‚
        ä¿®æ”¹æŸäº›Objectæ–¹æ³•çš„è¿”å›ç»“æœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ã€‚
        è®©ä¹‹å‰æŸäº›Objectæ“ä½œéƒ½å˜æˆå‡½æ•°è¡Œä¸ºã€‚
        Reflectå¯¹è±¡çš„æ–¹æ³•ä¸Proxyå¯¹è±¡çš„æ–¹æ³•ä¸€ä¸€å¯¹åº”ã€‚
        ä¸ç®¡Proxyæ€ä¹ˆä¿®æ”¹é»˜è®¤è¡Œä¸ºï¼Œä½ æ€»å¯ä»¥åœ¨Reflectä¸Šè·å–é»˜è®¤è¡Œä¸ºã€‚
    èŒƒä¾‹
        var loggedObj = new Proxy(obj, {
            get(target, name) {
                console.log(&apos;get&apos;, target, name);
                return Reflect.get(target, name);
            },
            deleteProperty(target, name) {
                console.log(&apos;delete&apos; + name);
                return Reflect.deleteProperty(target, name);
            },
            has(target, name) {
                console.log(&apos;has&apos; + name);
                return Reflect.has(target, name);
            }
        });

Reflectå¯¹è±¡çš„æ–¹æ³•
    æ–¹æ³•åˆ—è¡¨
        Reflect.apply(target,thisArg,args)
        Reflect.construct(target,args)
        Reflect.get(target,name,receiver)
        Reflect.set(target,name,value,receiver)
        Reflect.defineProperty(target,name,desc)
        Reflect.deleteProperty(target,name)
        Reflect.has(target,name)
        Reflect.ownKeys(target)
        Reflect.isExtensible(target)
        Reflect.preventExtensions(target)
        Reflect.getOwnPropertyDescriptor(target, name)
        Reflect.getPrototypeOf(target)
        Reflect.setPrototypeOf(target, prototype)
</code></pre><h2 id="Setå’ŒMapæ•°æ®ç»“æ„"><a href="#Setå’ŒMapæ•°æ®ç»“æ„" class="headerlink" title="Setå’ŒMapæ•°æ®ç»“æ„"></a>Setå’ŒMapæ•°æ®ç»“æ„</h2><pre><code>Set
    è¯´æ˜
        ES6æä¾›äº†æ–°çš„æ•°æ®ç»“æ„Setã€‚ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚
        Setæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆSetæ•°æ®ç»“æ„ã€‚
        Setå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼‰ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–ã€‚
        å‘SetåŠ å…¥å€¼çš„æ—¶å€™ï¼Œä¸ä¼šå‘ç”Ÿç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥5å’Œ&quot;5&quot;æ˜¯ä¸¤ä¸ªä¸åŒçš„å€¼ã€‚
        Setçš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚å¯¹Setéå†keyå’Œvalueæ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚
    å®ä¾‹å±æ€§
        Set.prototype.constructor     æ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•°ã€‚
        Set.prototype.size            è¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚
    å®ä¾‹æ–¹æ³•
        add(value)                    æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº«ã€‚
        delete(value)                 åˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚
        has(value)                    è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚
        clear()                       æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚
    èŒƒä¾‹
        æ„é€ å‡½æ•°
            var s = new Set();
            [2, 3, 5, 4, 5, 2, 2].map(x =&gt; s.add(x));
            for (let i of s) {
              console.log(i);
            }
            // 2 3 5 4
        é€šè¿‡æ•°ç»„åˆå§‹åŒ–
            var items = new Set([1, 2, 3, 4, 5, 5, 5, 5]);
            [...items]  // [1, 2, 3, 4, 5]
            items.size  // 5
        æ•°ç»„å»é‡
            [...new Set(array)]
        Setè½¬æ¢ä¸ºArray
            var items = new Set([1, 2, 3, 4, 5]);
            var array = Array.from(items);
        ä½¿ç”¨æ•°ç»„çš„mapæ–¹æ³•
            let set = new Set([1, 2, 3]);
            set = new Set([...set].map(x =&gt; x * 2));
            // è¿”å›Setç»“æ„ï¼š{2, 4, 6}
        ä½¿ç”¨æ•°ç»„çš„filteræ–¹æ³•
            let set = new Set([1, 2, 3, 4, 5]);
            set = new Set([...set].filter(x =&gt; (x % 2) == 0));
            // è¿”å›Setç»“æ„ï¼š{2, 4}
        å¹¶é›†ã€äº¤é›†å’Œå·®é›†
            let a = new Set([1, 2, 3]);
            let b = new Set([4, 3, 2]);
            let union = new Set([...a, ...b]);
            // å¹¶é›† Set {1, 2, 3, 4}
            let intersect = new Set([...a].filter(x =&gt; b.has(x)));
            // äº¤é›† set {2, 3}
            let difference = new Set([...a].filter(x =&gt; !b.has(x)));
            // å·®é›† Set {1}

WeakSet
    è¯´æ˜
        WeakSetç»“æ„ä¸Setç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆã€‚ä½†æ˜¯ï¼Œå®ƒä¸Setæœ‰ä¸¤ä¸ªåŒºåˆ«ã€‚
        é¦–å…ˆï¼ŒWeakSetçš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ã€‚
        WeakSetä¸­çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘WeakSetå¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ã€‚
        WeakSetä¸èƒ½éå†ï¼Œæ˜¯å› ä¸ºæˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œéšæ—¶å¯èƒ½æ¶ˆå¤±ï¼Œéå†æœºåˆ¶æ— æ³•ä¿è¯æˆå‘˜çš„å­˜åœ¨ã€‚
        WeakSetæ²¡æœ‰sizeå±æ€§ï¼Œæ²¡æœ‰åŠæ³•éå†å®ƒçš„æˆå‘˜ã€‚
        WeakSetçš„ä¸€ä¸ªç”¨å¤„ï¼Œæ˜¯å‚¨å­˜DOMèŠ‚ç‚¹ï¼Œè€Œä¸ç”¨æ‹…å¿ƒè¿™äº›èŠ‚ç‚¹ä»æ–‡æ¡£ç§»é™¤æ—¶ï¼Œä¼šå¼•å‘å†…å­˜æ³„æ¼ã€‚
    æ–¹æ³•
        WeakSet.prototype.add()     å‘WeakSetå®ä¾‹æ·»åŠ ä¸€ä¸ªæ–°æˆå‘˜
        WeakSet.prototype.delete()  æ¸…é™¤WeakSetå®ä¾‹çš„æŒ‡å®šæˆå‘˜
        WeakSet.prototype.has()     è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªå€¼æ˜¯å¦åœ¨å®ä¾‹ä¹‹ä¸­
    èŒƒä¾‹
        åˆ›å»º
            var ws = new WeakSet();
            var obj = {};
            var foo = {};
            ws.add(window);
            ws.add(obj);
            ws.has(window); // true
            ws.has(foo);    // false
            ws.delete(window);
            ws.has(window);    // false
        éå†
            ws.size    // undefined
            ws.forEach // undefined
            ws.forEach(function(item){ console.log(item)})
            // TypeError: undefined is not a function

Map
    è¯´æ˜
        ES6æä¾›äº†Mapæ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆã€‚
        Mapçš„â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚
        Mapç»“æ„æä¾›äº†â€œå€¼â€”å€¼â€çš„å¯¹åº”ï¼Œæ˜¯ä¸€ç§æ›´å®Œå–„çš„Hashç»“æ„å®ç°ã€‚
        Mapçš„é”®å®é™…ä¸Šæ˜¯è·Ÿå†…å­˜åœ°å€ç»‘å®šçš„ï¼Œåªè¦å†…å­˜åœ°å€ä¸ä¸€æ ·ï¼Œå°±è§†ä¸ºä¸¤ä¸ªé”®ã€‚
        Mapçš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚
    å®ä¾‹å±æ€§
        size                   è¿”å›Mapç»“æ„çš„æˆå‘˜æ€»æ•°
    å®ä¾‹æ–¹æ³•
        set(key, value)        è®¾ç½®keyæ‰€å¯¹åº”çš„å€¼ï¼Œå­˜åœ¨åˆ™è¦†ç›–ï¼Œè¿”å›æ•´ä¸ªMapç»“æ„ã€‚
        get(key)               è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œæ‰¾ä¸åˆ°è¿”å›undefinedã€‚
        has(key)               è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨Mapæ•°æ®ç»“æ„ä¸­
        delete(key)            åˆ é™¤æŸä¸ªé”®ï¼ŒæˆåŠŸè¿”å›trueã€‚å¤±è´¥ï¼Œè¿”å›falseã€‚
        clear()                æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚
    éå†
        keys()                 è¿”å›é”®åçš„éå†å™¨ã€‚
        values()               è¿”å›é”®å€¼çš„éå†å™¨ã€‚
        entries()              è¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚
        forEach()              éå†Mapçš„æ‰€æœ‰æˆå‘˜ã€‚
    èŒƒä¾‹
        åŸºæœ¬ä½¿ç”¨
            var m = new Map();
            var o = {p: &apos;Hello World&apos;};
            m.set(o, &apos;content&apos;)
            m.get(o)     // &quot;content&quot;
            m.has(o)     // true
            m.delete(o)  // true
            m.has(o)     // false
        é€šè¿‡æ•°ç»„åˆ›å»º
            var m = new Map([
                [true, &apos;foo&apos;],
                [&apos;true&apos;, &apos;bar&apos;]
            ]);
            m.get(true)    // &apos;foo&apos;
            m.get(&apos;true&apos;)  // &apos;bar&apos;
        è¦†ç›–
            let map = new Map();
            map.set(1, &apos;aaa&apos;).set(1, &apos;bbb&apos;);
            map.get(1) // &quot;bbb&quot;
        åŸºç¡€ç±»å‹ä½œä¸ºé”®
            let map = new Map();
            map.set(NaN, 123);
            map.get(NaN)  // 123
            map.set(-0, 123);
            map.get(+0)   // 123
        è½¬æ¢ä¸ºæ•°ç»„
            let map = new Map([
                [1, &apos;one&apos;],
                [2, &apos;two&apos;],
                [3, &apos;three&apos;],
            ]);
            [...map.keys()]      // [1, 2, 3]
            [...map.values()]    // [&apos;one&apos;, &apos;two&apos;, &apos;three&apos;]
            [...map.entries()]   // [[1,&apos;one&apos;], [2, &apos;two&apos;], [3, &apos;three&apos;]]
            [...map]             // [[1,&apos;one&apos;], [2, &apos;two&apos;], [3, &apos;three&apos;]]

WeakMap
    è¯´æ˜
        WeakMapç»“æ„ä¸Mapç»“æ„åŸºæœ¬ç±»ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯å®ƒåªæ¥å—å¯¹è±¡ä½œä¸ºé”®åã€‚
        é”®åæ˜¯å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œé”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ã€‚
        å½“å¯¹è±¡è¢«å›æ”¶åï¼ŒWeakMapè‡ªåŠ¨ç§»é™¤å¯¹åº”çš„é”®å€¼å¯¹ã€‚
        WeakMapæ²¡æœ‰éå†æ–¹æ³•å’Œclearæ–¹æ³•ï¼Œä¹Ÿæ²¡æœ‰sizeå±æ€§ã€‚
        åŸºæœ¬ä¸ŠWeakMapçš„ä¸“ç”¨åœºåˆå°±æ˜¯ï¼Œå®ƒçš„é”®æ‰€å¯¹åº”çš„å¯¹è±¡ï¼Œå¯èƒ½ä¼šåœ¨å°†æ¥æ¶ˆå¤±ã€‚
    èŒƒä¾‹
        var wm = new WeakMap();
        var element = document.querySelector(&quot;.element&quot;);
        wm.set(element, &quot;Original&quot;);
        wm.get(element) // &quot;Original&quot;
        element.parentNode.removeChild(element);
        element = null;
        wm.get(element) // undefined
</code></pre><h2 id="Iteratorå’Œforâ€¦ofå¾ªç¯"><a href="#Iteratorå’Œforâ€¦ofå¾ªç¯" class="headerlink" title="Iteratorå’Œforâ€¦ofå¾ªç¯"></a>Iteratorå’Œforâ€¦ofå¾ªç¯</h2><pre><code>Iteratorï¼ˆéå†å™¨ï¼‰çš„æ¦‚å¿µ
    è¯´æ˜
        å®ƒæ˜¯ä¸€ç§æ¥å£ï¼Œä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æ„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ã€‚
        ä»»ä½•æ•°æ®ç»“æ„åªè¦éƒ¨ç½²Iteratoræ¥å£ï¼Œå°±å¯ä»¥å®Œæˆéå†æ“ä½œã€‚
        ES6åˆ›é€ äº†ä¸€ç§æ–°çš„éå†å‘½ä»¤for...ofå¾ªç¯ï¼ŒIteratoræ¥å£ä¸»è¦ä¾›for...ofä½¿ç”¨ã€‚
        æ¯ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ªåŒ…å«valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚
        valueå±æ€§æ˜¯å½“å‰æˆå‘˜çš„å€¼ï¼Œdoneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéå†æ˜¯å¦ç»“æŸã€‚
    Iteratorçš„éå†è¿‡ç¨‹
        1. åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚
        2. ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œå¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ã€‚
        3. ç¬¬äºŒæ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼ŒæŒ‡é’ˆå°±æŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬äºŒä¸ªæˆå‘˜ã€‚
        4. ä¸æ–­è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œç›´åˆ°å®ƒæŒ‡å‘æ•°æ®ç»“æ„çš„ç»“æŸä½ç½®ã€‚

æ•°æ®ç»“æ„çš„é»˜è®¤Iteratoræ¥å£
    è¯´æ˜
        å½“ä½¿ç”¨for...ofå¾ªç¯éå†æŸç§æ•°æ®ç»“æ„æ—¶ï¼Œè¯¥å¾ªç¯ä¼šè‡ªåŠ¨å»å¯»æ‰¾Iteratoræ¥å£ã€‚
        ES6è§„å®šï¼Œé»˜è®¤çš„Iteratoræ¥å£éƒ¨ç½²åœ¨æ•°æ®ç»“æ„çš„Symbol.iteratorå±æ€§.
        ä¸€ä¸ªæ•°æ®ç»“æ„åªè¦å…·æœ‰Symbol.iteratorå±æ€§ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯å¯éå†çš„ï¼ˆiterableï¼‰ã€‚
        ES6ä¸­æœ‰ä¸‰ç±»æ•°æ®ç»“æ„åŸç”Ÿå…·å¤‡Iteratoræ¥å£ï¼šæ•°ç»„ã€ç±»æ•°ç»„çš„å¯¹è±¡ã€Setå’ŒMapç»“æ„ã€‚
    èŒƒä¾‹
        æ•°ç»„çš„Iteratoræ¥å£
            let arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;];
            let iter = arr[Symbol.iterator]();
            iter.next()  // { value: &apos;a&apos;, done: false }
            iter.next()  // { value: &apos;b&apos;, done: false }
            iter.next()  // { value: &apos;c&apos;, done: false }
            iter.next()  // { value: undefined, done: true }
        ä¸ºå¯¹è±¡æ·»åŠ Iteratoræ¥å£
            let obj = {
                data: [&apos;hello&apos;, &apos;world&apos;],
                [Symbol.iterator]() {
                    const self = this;
                    let index = 0;
                    return {
                        next() {
                            if (index &lt; self.data.length) {
                                return {
                                    value: self.data[index++],
                                    done: false
                                };
                            } else {
                                return {
                                    value: undefined,
                                    done: true
                                };
                            }
                        }
                    };
                }
            };
        é€šè¿‡åŸå‹éƒ¨ç½²Iteratoræ¥å£
            function Obj(value) {
                this.value = value;
                this.next = null;
            }
            Obj.prototype[Symbol.iterator] = function() {
                var iterator = {
                    next: next
                };
                var current = this;
                function next() {
                    if (current) {
                        var value = current.value;
                        current = current.next;
                        return {
                            done: false,
                            value: value
                        };
                    } else {
                        return {
                            done: true
                        };
                    }
                }
                return iterator;
            }
            var one = new Obj(1);
            var two = new Obj(2);
            var three = new Obj(3);
            one.next = two;
            two.next = three;
            for (var i of one) {
                console.log(i);
            }
            // 1
            // 2
            // 3
        ä¸ºç±»ä¼¼æ•°ç»„çš„å¯¹è±¡æ·»åŠ Iteratoræ¥å£
            NodeList.prototype[Symbol.iterator] = Array.prototype[Symbol.iterator];
            // æˆ–è€…
            NodeList.prototype[Symbol.iterator] = [][Symbol.iterator];

è°ƒç”¨Iteratoræ¥å£çš„åœºåˆ
    è¯´æ˜
        å¯¹æ•°ç»„å’ŒSetç»“æ„è¿›è¡Œè§£æ„èµ‹å€¼æ—¶ï¼Œä¼šé»˜è®¤è°ƒç”¨Symbol.iteratoræ–¹æ³•ã€‚
        æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ä¹Ÿä¼šè°ƒç”¨é»˜è®¤çš„iteratoræ¥å£ã€‚
        yield*åé¢è·Ÿçš„æ˜¯ä¸€ä¸ªå¯éå†çš„ç»“æ„ï¼Œå®ƒä¼šè°ƒç”¨è¯¥ç»“æ„çš„éå†å™¨æ¥å£ã€‚
        ç”±äºæ•°ç»„çš„éå†ä¼šè°ƒç”¨éå†å™¨æ¥å£ï¼Œä»»ä½•æ¥å—æ•°ç»„ä½œä¸ºå‚æ•°çš„åœºåˆï¼Œéƒ½è°ƒç”¨äº†éå†å™¨æ¥å£ã€‚
    èŒƒä¾‹
        è§£æ„èµ‹å€¼
            let set = new Set().add(&apos;a&apos;).add(&apos;b&apos;).add(&apos;c&apos;);
            let [x,y] = set;             // x=&apos;a&apos;; y=&apos;b&apos;
            let [first, ...rest] = set;  // first=&apos;a&apos;; rest=[&apos;b&apos;,&apos;c&apos;];
        æ‰©å±•è¿ç®—ç¬¦
            var str = &apos;hello&apos;;
            [...str] //  [&apos;h&apos;,&apos;e&apos;,&apos;l&apos;,&apos;l&apos;,&apos;o&apos;]
            let arr = [&apos;b&apos;, &apos;c&apos;];
            [&apos;a&apos;, ...arr, &apos;d&apos;]
            // [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;
        yield*
            let generator = function* () {
                yield 1;
                yield* [2,3,4];
                yield 5;
            };
            var iterator = generator();
            iterator.next() // { value: 1, done: false }
            iterator.next() // { value: 2, done: false }
            iterator.next() // { value: 3, done: false }
            iterator.next() // { value: 4, done: false }
            iterator.next() // { value: 5, done: false }
            iterator.next() // { value: undefined, done: true }

å­—ç¬¦ä¸²çš„Iteratoræ¥å£
    è¯´æ˜
        å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œä¹ŸåŸç”Ÿå…·æœ‰Iteratoræ¥å£ã€‚
    èŒƒä¾‹
        var someString = &quot;hi&quot;;
        typeof someString[Symbol.iterator]  // &quot;function&quot;
        var iterator = someString[Symbol.iterator]();
        iterator.next()  // { value: &quot;h&quot;, done: false }
        iterator.next()  // { value: &quot;i&quot;, done: false }
        iterator.next()  // { value: undefined, done: true }

Iteratoræ¥å£ä¸Generatorå‡½æ•°
    è¯´æ˜
        Symbol.iteratoræ–¹æ³•çš„æœ€ç®€å•å®ç°æ˜¯Generatorå‡½æ•°ã€‚
    èŒƒä¾‹
        var myIterable = {};
        myIterable[Symbol.iterator] = function*() {
            yield 1;
            yield 2;
            yield 3;
        };
        [...myIterable] // [1, 2, 3]
        // æˆ–è€…é‡‡ç”¨ä¸‹é¢çš„ç®€æ´å†™æ³•
        let obj = { * [Symbol.iterator]() {
                yield &apos;hello&apos;;
                yield &apos;world&apos;;
            }
        };
        for (let x of obj) {
            console.log(x);
        }
        // hello

éå†å™¨å¯¹è±¡çš„return()ï¼Œthrow()
    è¯´æ˜
        éå†å™¨å¯¹è±¡é™¤äº†å…·æœ‰nextæ–¹æ³•ï¼Œè¿˜å¯ä»¥å…·æœ‰returnæ–¹æ³•å’Œthrowæ–¹æ³•ã€‚
        å¦‚æœfor...ofå¾ªç¯æå‰é€€å‡ºï¼ˆå‡ºé”™ï¼Œbreakæˆ–continueï¼‰ï¼Œå°±ä¼šè°ƒç”¨returnæ–¹æ³•ã€‚
        throwæ–¹æ³•ä¸»è¦æ˜¯é…åˆGeneratorå‡½æ•°ä½¿ç”¨ï¼Œä¸€èˆ¬çš„éå†å™¨å¯¹è±¡ç”¨ä¸åˆ°è¿™ä¸ªæ–¹æ³•ã€‚
    èŒƒä¾‹
        function readLinesSync(file) {
            return {
                next() {
                    if (file.isAtEndOfFile()) {
                        file.close();
                        return {
                            done: true
                        };
                    }
                },
                return () {
                    file.close();
                    return {
                        done: true
                    };
                },
            };
        }
        for (let line of readLinesSync(fileName)) {
            console.log(x);
            break;
        }

for...ofå¾ªç¯
    è¯´æ˜
        ä¸€ä¸ªæ•°æ®ç»“æ„åªè¦éƒ¨ç½²äº†Symbol.iteratorå±æ€§ï¼Œå°±å¯ä»¥ç”¨for...ofå¾ªç¯éå†å®ƒçš„æˆå‘˜ã€‚
        for...ofå¾ªç¯å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„Symbol.iteratoræ–¹æ³•ã€‚
        for...ofå¯ä»¥ä½¿ç”¨çš„èŒƒå›´åŒ…æ‹¬æ•°ç»„ã€Setã€Mapã€æŸäº›ç±»ä¼¼æ•°ç»„å¯¹è±¡ã€Generatorå’Œå­—ç¬¦ä¸²ã€‚
    èŒƒä¾‹
        æ•°ç»„
            let arr = [3, 5, 7];
            arr.foo = &apos;hello&apos;;
            for (let i in arr) {
                console.log(i); // &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;foo&quot;
            }
            for (let i of arr) {
                console.log(i); //  &quot;3&quot;, &quot;5&quot;, &quot;7&quot;
            }
        Setå’ŒMap
            var engines = new Set([&quot;Gecko&quot;, &quot;Trident&quot;, &quot;Webkit&quot;, &quot;Webkit&quot;]);
            for (var e of engines) {
                console.log(e);
            }
            // Gecko
            // Trident
            // Webkit
            var es6 = new Map();
            es6.set(&quot;edition&quot;, 6);
            es6.set(&quot;committee&quot;, &quot;TC39&quot;);
            es6.set(&quot;standard&quot;, &quot;ECMA-262&quot;);
            for (var [name, value] of es6) {
                console.log(name + &quot;: &quot; + value);
            }
            // edition: 6
            // committee: TC39
            // standard: ECMA-262
</code></pre><h2 id="Generator-å‡½æ•°"><a href="#Generator-å‡½æ•°" class="headerlink" title="Generator å‡½æ•°"></a>Generator å‡½æ•°</h2><pre><code>ç®€ä»‹
    è¯´æ˜
        Generatorå‡½æ•°æ˜¯ES6æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆï¼Œè¯­æ³•è¡Œä¸ºä¸ä¼ ç»Ÿå‡½æ•°å®Œå…¨ä¸åŒã€‚
        Generatorå‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå°è£…äº†å¤šä¸ªå†…éƒ¨çŠ¶æ€,è¿˜æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡ç”Ÿæˆå‡½æ•°ã€‚
        è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œå¯ä»¥ä¾æ¬¡éå†Generatorå‡½æ•°å†…éƒ¨çš„æ¯ä¸€ä¸ªçŠ¶æ€ã€‚
        Generatorå‡½æ•°ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œfunctionå…³é”®å­—ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå·ã€‚
        å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨yieldè¯­å¥ï¼Œå®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€ï¼ˆyieldè‹±è¯­æ„æ€å°±æ˜¯â€œäº§å‡ºâ€ï¼‰ã€‚
        Generatorå‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œåªæœ‰è°ƒç”¨nextæ–¹æ³•æ‰ä¼šéå†ä¸‹ä¸€ä¸ªå†…éƒ¨çŠ¶æ€ã€‚
        yieldè¯­å¥å¦‚æœç”¨åœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¹‹ä¸­ï¼Œå¿…é¡»æ”¾åœ¨åœ†æ‹¬å·é‡Œé¢ã€‚
        yieldè¯­å¥ç”¨ä½œå‡½æ•°å‚æ•°æˆ–èµ‹å€¼è¡¨è¾¾å¼çš„å³è¾¹ï¼Œå¯ä»¥ä¸åŠ æ‹¬å·ã€‚
    å‡½æ•°å†…æ‰§è¡Œé¡ºåº
        é‡åˆ°yieldè¯­å¥ï¼Œæš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†yieldåé¢è¡¨è¾¾å¼çš„å€¼ä½œä¸ºè¿”å›å¯¹è±¡çš„valueå€¼ã€‚
        ä¸‹ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¯­å¥ã€‚
        æ²¡æœ‰yieldå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ°returnè¯­å¥ä¸ºæ­¢ï¼ŒæŠŠreturnçš„å€¼ä½œä¸ºvalueå€¼ã€‚
        å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰returnè¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ä¸ºundefinedã€‚
    èŒƒä¾‹
        åŸºæœ¬ä½¿ç”¨
            function* helloWorldGenerator() {
                yield &apos;hello&apos;;
                yield &apos;world&apos;;
                return &apos;ending&apos;;
            }
            var hw = helloWorldGenerator();
            hw.next()   // { value: &apos;hello&apos;, done: false }
            hw.next()   // { value: &apos;world&apos;, done: false }
            hw.next()   // { value: &apos;ending&apos;, done: true }
            hw.next()   // { value: undefined, done: true }
        èµ‹å€¼ç»™Symbol.iterator
            var myIterable = {};
            myIterable[Symbol.iterator] = function*() {
                yield 1;
                yield 2;
                yield 3;
            };
            [...myIterable]  // [1, 2, 3]

nextæ–¹æ³•çš„å‚æ•°
    è¯´æ˜
        yieldå¥æœ¬èº«æ²¡æœ‰è¿”å›å€¼ï¼Œæˆ–è€…è¯´æ€»æ˜¯è¿”å›undefinedã€‚
        nextæ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¯­å¥çš„è¿”å›å€¼ã€‚
    èŒƒä¾‹
        function* foo(x) {
            var y = 2 * (yield(x + 1));
            var z = yield(y / 3);
            return (x + y + z);
        }
        var a = foo(5);
        a.next()   // Object{value:6, done:false}
        a.next()   // Object{value:NaN, done:false}
        a.next()   // Object{value:NaN, done:true}
        var b = foo(5);
        b.next()   // { value:6, done:false }
        b.next(12) // { value:8, done:false }
        b.next(13) // { value:42, done:true }

for...ofå¾ªç¯
    è¯´æ˜
        for...ofå¾ªç¯å¯ä»¥è‡ªåŠ¨éå†Generatorå‡½æ•°æ—¶ç”Ÿæˆçš„Iteratorå¯¹è±¡ã€‚
        ä¸€æ—¦nextæ–¹æ³•çš„è¿”å›å¯¹è±¡çš„doneå±æ€§ä¸ºtrueï¼Œfor...ofå°±ä¼šä¸­æ­¢ï¼Œä¸”ä¸åŒ…å«è¯¥è¿”å›å¯¹è±¡ã€‚
        æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ã€è§£æ„èµ‹å€¼å’ŒArray.fromæ–¹æ³•å†…éƒ¨è°ƒç”¨çš„ï¼Œéƒ½æ˜¯éå†å™¨æ¥å£ã€‚
    èŒƒä¾‹
        åŸºæœ¬ä½¿ç”¨
            function *foo() {
                yield 1;
                yield 2;
                yield 3;
                yield 4;
                yield 5;
                return 6;
            }
            for (let v of foo()) {
                console.log(v);
            }
            // 1 2 3 4 5
        æ–æ³¢é‚£å¥‘æ•°åˆ—
            function* fibonacci() {
                let [prev, curr] = [0, 1];
                for (;;) {
                    [prev, curr] = [curr, prev + curr];
                    yield curr;
                }
            }
            for (let n of fibonacci()) {
                if (n &gt; 1000) break;
                console.log(n);
            }
        é€šè¿‡Generatorä¸ºåŸç”Ÿå¯¹è±¡æ·»åŠ Iteratoræ¥å£
            function* objectEntries() {
                let propKeys = Object.keys(this);
                for (let propKey of propKeys) {
                    yield [propKey, this[propKey]];
                }
            }
            let jane = {
                first: &apos;Jane&apos;,
                last: &apos;Doe&apos;
            };
            jane[Symbol.iterator] = objectEntries;
            for (let [key, value] of jane) {
                console.log(`${key}: ${value}`);
            }
            // first: Jane
            // last: Doe
        è§£æ„èµ‹å€¼ç­‰
            function* numbers() {
                yield 1
                yield 2
                return 3
                yield 4
            }
            [...numbers()]            // [1, 2]
            Array.from(numbers())     // [1, 2]
            let [x, y] = numbers();   // x = 1  y = 2

Generator.prototype.throw()
    è¯´æ˜
        Generatorå‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œéƒ½æœ‰ä¸€ä¸ªthrowæ–¹æ³•ã€‚
        å®ƒå¯ä»¥åœ¨å‡½æ•°ä½“å¤–æŠ›å‡ºé”™è¯¯ï¼Œç„¶ååœ¨Generatorå‡½æ•°ä½“å†…æ•è·ã€‚
        å¦‚æœGeneratorå‡½æ•°å†…éƒ¨æ²¡æœ‰éƒ¨ç½²try...catchï¼Œé‚£ä¹ˆé”™è¯¯å°†è¢«å¤–éƒ¨try...catchæ•è·ã€‚
        åœ¨Generatorå‡½æ•°å†…éƒ¨throwæ–¹æ³•è¢«æ•è·ä»¥åï¼Œä¼šé™„å¸¦æ‰§è¡Œä¸‹ä¸€æ¡yieldè¯­å¥ã€‚
        ä¸€æ—¦Generatoræ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å‡ºé”™è¯¯ï¼Œä¸”æ²¡æœ‰è¢«å†…éƒ¨æ•è·ï¼Œå°±ä¸ä¼šå†æ‰§è¡Œä¸‹å»äº†ã€‚
        å¦‚æœæ­¤åè¿˜è°ƒç”¨nextæ–¹æ³•ï¼Œå°†è¿”å› {value:undefined,done:true}ã€‚
    èŒƒä¾‹
        var g = function*() {
            try {
                yield;
            } catch (e) {
                console.log(&apos;å†…éƒ¨æ•è·&apos;, e);
            }
        };
        var i = g();
        i.next();
        try {
            i.throw(&apos;a&apos;);
            i.throw(&apos;b&apos;);
        } catch (e) {
            console.log(&apos;å¤–éƒ¨æ•è·&apos;, e);
        }
        // å†…éƒ¨æ•è· a
        // å¤–éƒ¨æ•è· b

Generator.prototype.return()
    è¯´æ˜
        Generatorå‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œè¿˜æœ‰ä¸€ä¸ªreturnæ–¹æ³•ã€‚
        å®ƒå¯ä»¥è¿”å›ç»™å®šçš„å€¼ï¼Œå¹¶ä¸”ç»ˆç»“éå†Generatorå‡½æ•°ã€‚
        å¦‚æœreturnæ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¸æä¾›å‚æ•°ï¼Œåˆ™è¿”å›å€¼çš„valueå±æ€§ä¸ºundefinedã€‚
    èŒƒä¾‹
        function* gen() {
            yield 1;
            yield 2;
            yield 3;
        }
        var g = gen();
        g.next()          // { value: 1, done: false }
        g.return(&apos;foo&apos;)   // { value: &quot;foo&quot;, done: true }
        g.next()          // { value: undefined, done: true }

yield*è¯­å¥
    è¯´æ˜
        å¦‚æœåœ¨Generaterå‡½æ•°å†…éƒ¨ï¼Œè°ƒç”¨å¦ä¸€ä¸ªGeneratorå‡½æ•°ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚
        ä½¿ç”¨yield*è¯­å¥ï¼Œå¯ä»¥ç”¨æ¥åœ¨ä¸€ä¸ªGeneratorå‡½æ•°é‡Œé¢æ‰§è¡Œå¦ä¸€ä¸ªGeneratorå‡½æ•°ã€‚
        å¦‚æœyieldå‘½ä»¤åé¢è·Ÿçš„æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œéœ€è¦åœ¨yieldå‘½ä»¤åé¢åŠ ä¸Šæ˜Ÿå·ã€‚
        yield*åé¢çš„Generatorå‡½æ•°ï¼ˆæ²¡æœ‰returnè¯­å¥æ—¶ï¼‰ï¼Œç­‰åŒfor...ofå¾ªç¯ã€‚
        ä»»ä½•æ•°æ®ç»“æ„åªè¦æœ‰Iteratoræ¥å£ï¼Œå°±å¯ä»¥è¢«yield*éå†ã€‚
    èŒƒä¾‹
        åŸºæœ¬ä½¿ç”¨
            function* inner() {
                yield &apos;hello!&apos;;
            }
            function* outer2() {
                yield &apos;open&apos;
                yield * inner()
                yield &apos;close&apos;
            }
            var gen = outer2()
            gen.next().value // &quot;open&quot;
            gen.next().value // &quot;hello!&quot;
            gen.next().value // &quot;close&quot;
        ç›¸å½“äºfor...ofå¾ªç¯
            function* concat(iter1, iter2) {
                yield * iter1;
                yield * iter2;
            }
            // ç­‰åŒäº
            function* concat(iter1, iter2) {
                for (var value of iter1) {
                    yield value;
                }
                for (var value of iter2) {
                    yield value;
                }
            }
        ç”¨äºæ•°ç»„
            function* gen() {
                yield * [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];
            }
            gen().next() // { value:&quot;a&quot;, done:false }
        è¢«ä»£ç†çš„å¯¹è±¡æœ‰returnçš„æƒ…å†µ
            function* genFuncWithReturn() {
                yield &apos;a&apos;;
                yield &apos;b&apos;;
                return &apos;The result&apos;;
            }
            function* logReturned(genObj) {
                let result = yield * genObj;
                console.log(result);
            }
            [...logReturned(genFuncWithReturn())]
            // The result
            // å€¼ä¸º [ &apos;a&apos;, &apos;b&apos; ]

ä½œä¸ºå¯¹è±¡å±æ€§çš„Generatorå‡½æ•°
    è¯´æ˜
        ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å¯ä»¥æ˜¯Generatorå‡½æ•°ã€‚
    èŒƒä¾‹
        å®Œæ•´æ ¼å¼
            let obj = {
                myGeneratorMethod: function*() {
                    // Â·Â·Â·
                }
            };
        ç®€å†™
            let obj = {
                * myGeneratorMethod() {
                    // Â·Â·Â·
                }
            };

Generatorå‡½æ•°çš„this
    è¯´æ˜
        Generatorå‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ªéå†å™¨ã€‚
        è¿™ä¸ªéå†å™¨æ˜¯Generatorå‡½æ•°çš„å®ä¾‹ï¼Œç»§æ‰¿äº†Generatorå‡½æ•°çš„prototypeå¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚
        Generatorä¸æ˜¯æ™®é€šçš„æ„é€ å‡½æ•°ï¼Œå› ä¸ºGeneratorè¿”å›çš„æ˜¯éå†å™¨å¯¹è±¡ï¼Œè€Œä¸æ˜¯thiså¯¹è±¡ã€‚
        Generatorå‡½æ•°ä¹Ÿä¸èƒ½è·Ÿnewå‘½ä»¤ä¸€èµ·ç”¨ï¼Œä¼šæŠ¥é”™ã€‚
    èŒƒä¾‹
        åŸºæœ¬ä½¿ç”¨
            function* g() {}
            g.prototype.hello = function() {
                return &apos;hi!&apos;;
            };
            let obj = g();
            obj instanceof g // true
            obj.hello() // &apos;hi!&apos;
        thisæ— æ•ˆ
            function* g() {
                this.a = 11;
            }
            let obj = g();
            obj.a // undefined
        æ¨¡æ‹Ÿæ„é€ å‡½æ•°
            function* gen() {
                this.a = 1;
                yield this.b = 2;
                yield this.c = 3;
            }
            function F() {
                return gen.call(gen.prototype);
            }
            var f = new F();
            f.next(); // Object {value: 2, done: false}
            f.next(); // Object {value: 3, done: false}
            f.next(); // Object {value: undefined, done: true}
            f.a // 1
            f.b // 2
            f.c // 3

å«ä¹‰
    è¯´æ˜
        Generatoræ˜¯å®ç°çŠ¶æ€æœºçš„æœ€ä½³ç»“æ„ã€‚
        åç¨‹ï¼ˆcoroutineï¼‰æ˜¯ä¸€ç§ç¨‹åºè¿è¡Œçš„æ–¹å¼ï¼Œå¯ä»¥ç†è§£æˆâ€œåä½œçš„çº¿ç¨‹â€æˆ–â€œåä½œçš„å‡½æ•°â€ã€‚
        åç¨‹æ—¢å¯ä»¥ç”¨å•çº¿ç¨‹å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨å¤šçº¿ç¨‹å®ç°ã€‚
        å‰è€…æ˜¯ä¸€ç§ç‰¹æ®Šçš„å­ä¾‹ç¨‹ï¼Œåè€…æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿ç¨‹ã€‚
        Generatorå‡½æ•°æ˜¯ECMAScript 6å¯¹åç¨‹çš„å®ç°ï¼Œä½†å±äºä¸å®Œå…¨å®ç°ã€‚
    èŒƒä¾‹
        çŠ¶æ€æœº
            // ES5å®ç°æ–¹å¼
            var ticking = true;
            var clock = function() {
                if (ticking)
                    console.log(&apos;Tick!&apos;);
                else
                    console.log(&apos;Tock!&apos;);
                ticking = !ticking;
            }
            // ES6å®ç°æ–¹å¼
            var clock = function*() {
                while (true) {
                    console.log(&apos;Tick!&apos;);
                    yield;
                    console.log(&apos;Tock!&apos;);
                    yield;
                }
            };

åº”ç”¨
    è¯´æ˜
        Generatorå¯ä»¥æš‚åœå‡½æ•°æ‰§è¡Œï¼Œè¿”å›ä»»æ„è¡¨è¾¾å¼çš„å€¼ã€‚
        è¿™ç§ç‰¹ç‚¹ä½¿å¾—Generatoræœ‰å¤šç§åº”ç”¨åœºæ™¯ã€‚
    å¼‚æ­¥æ“ä½œçš„åŒæ­¥åŒ–è¡¨è¾¾
        Generatorå‡½æ•°çš„æš‚åœæ‰§è¡Œçš„æ•ˆæœï¼Œæ„å‘³ç€å¯ä»¥æŠŠå¼‚æ­¥æ“ä½œå†™åœ¨yieldè¯­å¥é‡Œé¢ã€‚
        ç­‰åˆ°è°ƒç”¨nextæ–¹æ³•æ—¶å†å¾€åæ‰§è¡Œã€‚
        å¼‚æ­¥æ“ä½œçš„åç»­æ“ä½œå¯ä»¥æ”¾åœ¨yieldè¯­å¥ä¸‹é¢ï¼Œåæ­£è¦ç­‰åˆ°è°ƒç”¨nextæ–¹æ³•æ—¶å†æ‰§è¡Œã€‚
    èŒƒä¾‹
        åŒæ­¥æ–¹å¼çš„Ajax
            function* main() {
                var result = yield request(&quot;http://some.url&quot;);
                var resp = JSON.parse(result);
                console.log(resp.value);
            }
            function request(url) {
                makeAjaxCall(url, function(response) {
                    it.next(response);
                });
            }
            var it = main();
            it.next();
        åœ¨ä»»æ„å¯¹è±¡ä¸Šéƒ¨ç½²Iteratoræ¥å£
            function* iterEntries(obj) {
                let keys = Object.keys(obj);
                for (let i = 0; i &lt; keys.length; i++) {
                    let key = keys[i];
                    yield [key, obj[key]];
                }
            }
            let myObj = {
                foo: 3,
                bar: 7
            };
            for (let [key, value] of iterEntries(myObj)) {
                console.log(key, value);
            }
            // foo 3
            // bar 7
</code></pre><h2 id="Promiseå¯¹è±¡"><a href="#Promiseå¯¹è±¡" class="headerlink" title="Promiseå¯¹è±¡"></a>Promiseå¯¹è±¡</h2><pre><code>Promiseçš„å«ä¹‰
    è¯´æ˜
        Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„å›è°ƒå‡½æ•°å’Œäº‹ä»¶æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚
        ES6å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ã€‚
        æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶çš„ç»“æœã€‚
        ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromiseæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚
        Promiseæä¾›ç»Ÿä¸€çš„APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚
    ç‰¹ç‚¹
        å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚
        Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPendingã€Resolvedå’ŒRejectedã€‚
        åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚
        ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚
        çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»Pendingå˜ä¸ºResolvedå’Œä»Pendingå˜ä¸ºRejectedã€‚

åŸºæœ¬ç”¨æ³•
    è¯´æ˜
        ES6è§„å®šï¼ŒPromiseå¯¹è±¡æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆPromiseå®ä¾‹ã€‚
        Promiseæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯resolveå’Œrejectã€‚
        resolveå’Œrejecæ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œç”±JavaScriptå¼•æ“æä¾›ï¼Œä¸ç”¨è‡ªå·±éƒ¨ç½²ã€‚
        resolveå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œæˆåŠŸâ€ã€‚
        rejectå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œå¤±è´¥â€ã€‚
        å¯ä»¥ç”¨thenæ–¹æ³•åˆ†åˆ«æŒ‡å®šResolvedçŠ¶æ€å’ŒRejectçŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚
        thenæ–¹æ³•å¯ä»¥æ¥å—ä¸¤ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚ç¬¬äºŒä¸ªå‡½æ•°æ˜¯å¯é€‰çš„ã€‚
    èŒƒä¾‹
        æ‰§è¡Œé¡ºåº
            let promise = new Promise(function(resolve, reject) {
                console.log(&apos;Promise&apos;);
                resolve();
            });
            promise.then(function() {
                console.log(&apos;Resolved.&apos;);
            });
            console.log(&apos;Hi!&apos;);
            // Promise
            // Hi!
            // Resolved
        å°è£…Ajax
            var getJSON = function(url) {
                var promise = new Promise(function(resolve, reject) {
                    var client = new XMLHttpRequest();
                    client.open(&quot;GET&quot;, url);
                    client.onreadystatechange = handler;
                    client.responseType = &quot;json&quot;;
                    client.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);
                    client.send();
                    function handler() {
                        if (this.readyState !== 4) {
                            return;
                        }
                        if (this.status === 200) {
                            resolve(this.response);
                        } else {
                            reject(new Error(this.statusText));
                        }
                    };
                });
                    return promise;
            };
            getJSON(&quot;/posts.json&quot;).then(function(json) {
                console.log(&apos;Contents: &apos; + json);
            }, function(error) {
                console.error(&apos;å‡ºé”™äº†&apos;, error);
            });

Promise.prototype.then()
    è¯´æ˜
        Promiseå®ä¾‹å…·æœ‰thenæ–¹æ³•ï¼Œä½œç”¨æ˜¯ä¸ºPromiseå®ä¾‹æ·»åŠ çŠ¶æ€æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ã€‚
        thenæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚
        å› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼Œå³thenæ–¹æ³•åé¢å†è°ƒç”¨å¦ä¸€ä¸ªthenæ–¹æ³•ã€‚
        å¦‚æœç¬¬ä¸€ä¸ªthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œè¿”å›çš„æ˜¯å¦ä¸€ä¸ªPromiseå¯¹è±¡ã€‚
        ç¬¬äºŒä¸ªthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå°±ä¼šç­‰å¾…è¿™ä¸ªæ–°çš„Promiseå¯¹è±¡çŠ¶æ€å‘ç”Ÿå˜åŒ–ã€‚
    èŒƒä¾‹
        getJSON(&quot;/post/1.json&quot;).then(function(post) {
            return getJSON(post.commentURL);
        }).then(function funcA(comments) {
            console.log(&quot;Resolved: &quot;, comments);
        }, function funcB(err) {
            console.log(&quot;Rejected: &quot;, err);
        });

Promise.prototype.catch()
    è¯´æ˜
        Promise.prototype.catchæ–¹æ³•æ˜¯.then(null, rejection)çš„åˆ«åã€‚
        ç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°ã€‚
        thenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå¦‚æœè¿è¡Œä¸­æŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿä¼šè¢«catchæ–¹æ³•æ•è·ã€‚
        å¦‚æœPromiseçŠ¶æ€å·²ç»å˜æˆResolvedï¼Œå†æŠ›å‡ºé”™è¯¯æ˜¯æ— æ•ˆçš„ã€‚
        Promiseå¯¹è±¡çš„é”™è¯¯å…·æœ‰â€œå†’æ³¡â€æ€§è´¨ï¼Œä¼šä¸€ç›´å‘åä¼ é€’ï¼Œç›´åˆ°è¢«æ•è·ä¸ºæ­¢ã€‚
        å¦‚æœæ²¡æœ‰ä½¿ç”¨catchæ–¹æ³•ï¼ŒPromiseå¯¹è±¡æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šä¼ é€’åˆ°å¤–å±‚ä»£ç (Chromeä¸éµå®ˆ)ã€‚
        Node.jsæœ‰ä¸€ä¸ªunhandledRejectionäº‹ä»¶ï¼Œä¸“é—¨ç›‘å¬æœªæ•è·çš„rejecté”™è¯¯ã€‚
        catchæ–¹æ³•è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå› æ­¤åé¢è¿˜å¯ä»¥æ¥ç€è°ƒç”¨thenæ–¹æ³•ã€‚
    èŒƒä¾‹
        ä½œä¸ºRejectå›è°ƒ
            getJSON(&quot;/posts.json&quot;).then(function(posts) {
                // ...
            }).catch(function(error) {
                // å¤„ç† getJSON å’Œ å‰ä¸€ä¸ªå›è°ƒå‡½æ•°è¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯
                console.log(&apos;å‘ç”Ÿé”™è¯¯ï¼&apos;, error);
            });
        å¤„ç†é”™è¯¯
            var promise = new Promise(function(resolve, reject) {
                throw new Error(&apos;test&apos;);
            });
            promise.catch(function(error) {
                console.log(error);
            });
            // Error: test
        é”™è¯¯å†’æ³¡
            getJSON(&quot;/post/1.json&quot;).then(function(post) {
                return getJSON(post.commentURL);
            }).then(function(comments) {
                // some code
            }).catch(function(error) {
                // å¤„ç†å‰é¢ä¸‰ä¸ªPromiseäº§ç”Ÿçš„é”™è¯¯
            });
        Node.jsçš„unhandledRejectionäº‹ä»¶
            process.on(&apos;unhandledRejection&apos;, function (err, promise) {
                console.error(err.stack)
            });

Promise.all()
    è¯´æ˜
        Promise.allæ–¹æ³•ç”¨äºå°†å¤šä¸ªPromiseå®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚
        Promise.allæ–¹æ³•çš„å‚æ•°å¿…é¡»å…·æœ‰Iteratoræ¥å£ï¼Œä¸”è¿”å›æ¯ä¸ªæˆå‘˜éƒ½æ˜¯Promiseå®ä¾‹ã€‚
        å‚æ•°å†…çš„æˆå‘˜çŠ¶æ€éƒ½å˜ä¸ºResolvedï¼ŒPromise.allè¿”å›çš„Promiseçš„çŠ¶æ€ä¸ºResolvedã€‚
        å‚æ•°å†…çš„æˆå‘˜æœ‰ä¸€ä¸ªçŠ¶æ€ä¸ºRejectedï¼ŒPromise.allè¿”å›çš„Promiseçš„çŠ¶æ€ä¸ºRejectedã€‚
    èŒƒä¾‹
        var promises = [2, 3, 5, 7, 11, 13].map(function(id) {
            return getJSON(&quot;/post/&quot; + id + &quot;.json&quot;);
        });
        Promise.all(promises).then(function(posts) {
            // ...
        }).catch(function(reason) {
            // ...
        });

Promise.race()
    è¯´æ˜
        Promise.raceæ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ªPromiseå®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚
        å‚æ•°å†…çš„æˆå‘˜åªè¦æœ‰ä¸€ä¸ªæ”¹å˜çŠ¶æ€ï¼ŒPromise.raceè¿”å›çš„çŠ¶æ€ä¾¿è·Ÿéšæ”¹å˜ã€‚
        é‚£ä¸ªç‡å…ˆæ”¹å˜çš„Promiseå®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚
    èŒƒä¾‹
        var p = Promise.race([
            fetch(&apos;/resource-that-may-take-a-while&apos;),
            new Promise(function(resolve, reject) {
                setTimeout(() =&gt; reject(new Error(&apos;request timeout&apos;)), 5000)
            })
        ])
        p.then(response =&gt; console.log(response))
        p.catch(error =&gt; console.log(error))

Promise.resolve()
    è¯´æ˜
        æœ‰æ—¶éœ€è¦å°†ç°æœ‰å¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡ï¼ŒPromise.resolveæ–¹æ³•å°±èµ·åˆ°è¿™ä¸ªä½œç”¨ã€‚
        å‚æ•°æ˜¯Promiseå®ä¾‹ï¼Œé‚£ä¹ˆå°†ä¸åšä»»ä½•ä¿®æ”¹ã€åŸå°ä¸åŠ¨åœ°è¿”å›è¿™ä¸ªå®ä¾‹ã€‚
        å‚æ•°æ˜¯thenableå¯¹è±¡ï¼Œé‚£ä¹ˆå°†è½¬æ¢thenableå¯¹è±¡ä¸ºPromiseï¼Œå¹¶æ‰§è¡Œå¯¹è±¡çš„thenæ–¹æ³•ã€‚
        å‚æ•°ä¸æ˜¯å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–ä¸æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ä¸€ä¸ªæ–°Promiseï¼ŒçŠ¶æ€ä¸ºResolvedã€‚
        ä¸å¸¦æœ‰ä»»ä½•å‚æ•°ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªResolvedçŠ¶æ€çš„Promiseå¯¹è±¡ã€‚
    èŒƒä¾‹
        è½¬æ¢Jqueryçš„Ajax
            var jsPromise = Promise.resolve($.ajax(&apos;/whatever.json&apos;));
        å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡
            let thenable = {
                then: function(resolve, reject) {
                    resolve(42);
                }
            };
            let p1 = Promise.resolve(thenable);
            p1.then(function(value) {
                console.log(value);
            });
            // 42
        å‚æ•°ä¸æ˜¯å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–ä¸æ˜¯å¯¹è±¡
            var p = Promise.resolve(&apos;Hello&apos;);
            p.then(function(s) {
                console.log(s)
            });
            // Hello

Promise.reject()
    è¯´æ˜
        Promise.reject(reason)æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚
        è¯¥å®ä¾‹çš„çŠ¶æ€ä¸ºrejectedã€‚å®ƒçš„å‚æ•°ç”¨æ³•ä¸Promise.resolveæ–¹æ³•å®Œå…¨ä¸€è‡´ã€‚
    èŒƒä¾‹
        var p = Promise.reject(&apos;å‡ºé”™äº†&apos;);
        // ç­‰åŒäº
        var p = new Promise((resolve, reject) =&gt; reject(&apos;å‡ºé”™äº†&apos;))
        // è§‚å¯ŸçŠ¶æ€
        p.then(null, function(s) {
            console.log(s)
        });
        // å‡ºé”™äº†

ä¸¤ä¸ªæœ‰ç”¨çš„é™„åŠ æ–¹æ³•
    è¯´æ˜
        ES6çš„Promise APIæä¾›çš„æ–¹æ³•ä¸æ˜¯å¾ˆå¤šï¼Œæœ‰äº›æœ‰ç”¨çš„æ–¹æ³•å¯ä»¥è‡ªå·±éƒ¨ç½²ã€‚
        ä¸‹é¢æ˜¯å¦‚ä½•éƒ¨ç½²ä¸¤ä¸ªä¸åœ¨ES6ä¹‹ä¸­ã€ä½†å¾ˆæœ‰ç”¨çš„æ–¹æ³•ã€‚
        doneæ–¹æ³•ï¼Œæ€»æ˜¯å¤„äºå›è°ƒé“¾çš„å°¾ç«¯ï¼Œä¿è¯æŠ›å‡ºä»»ä½•å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚
        finallyæ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡Promiseå¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚
    èŒƒä¾‹
        doneæ–¹æ³•
            Promise.prototype.done = function (onFulfilled, onRejected) {
               this.then(onFulfilled, onRejected)
                 .catch(function (reason) {
                   // æŠ›å‡ºä¸€ä¸ªå…¨å±€é”™è¯¯
                   setTimeout(() =&gt; { throw reason }, 0);
                 });
            };
            asyncFunc().then(f1).catch(r1).then(f2).done();
        finallyæ–¹æ³•
            Promise.prototype.finally = function(callback) {
                let P = this.constructor;
                return this.then(
                    value =&gt; P.resolve(callback()).then(() =&gt; value),
                    reason =&gt; P.resolve(callback()).then(() =&gt; {
                        throw reason
                    })
                );
            };
            server.listen(0).then(function () {
                // run test
            }).finally(server.stop);
</code></pre><h2 id="å¼‚æ­¥æ“ä½œå’ŒAsyncå‡½æ•°"><a href="#å¼‚æ­¥æ“ä½œå’ŒAsyncå‡½æ•°" class="headerlink" title="å¼‚æ­¥æ“ä½œå’ŒAsyncå‡½æ•°"></a>å¼‚æ­¥æ“ä½œå’ŒAsyncå‡½æ•°</h2><pre><code>Thunkå‡½æ•°
    æ±‚å€¼ç­–ç•¥
        ä¼ å€¼è°ƒç”¨: è¿›å…¥å‡½æ•°ä½“ä¹‹å‰ï¼Œå°±è®¡ç®—å‚æ•°å†…è¡¨è¾¾å¼çš„å€¼ï¼Œå†å°†è¿™ä¸ªå€¼ä¼ å…¥å‡½æ•°ã€‚Cé‡‡å–åƒç­–ç•¥ã€‚
        ä¼ åè°ƒç”¨: å°†å‚æ•°ä¸­çš„è¡¨è¾¾å¼ä¼ å…¥å‡½æ•°ï¼Œåœ¨ç”¨åˆ°å®ƒçš„æ—¶å€™æ±‚å€¼ã€‚Haskellè¯­è¨€é‡‡ç”¨è¿™ç§ç­–ç•¥ã€‚
    Thunkå‡½æ•°æ¦‚å¿µ
        ç¼–è¯‘å™¨çš„ä¼ åè°ƒç”¨å®ç°ï¼Œå¾€å¾€æ˜¯å°†å‚æ•°æ”¾åˆ°ä¸€ä¸ªä¸´æ—¶å‡½æ•°ä¹‹ä¸­ï¼Œå†å°†è¿™ä¸ªä¸´æ—¶å‡½æ•°ä¼ å…¥å‡½æ•°ä½“ã€‚
        è¿™ä¸ªä¸´æ—¶å‡½æ•°å°±å«åšThunkå‡½æ•°ã€‚
    JavaScriptä¸­çš„Thunk
        JavaScriptè¯­è¨€æ˜¯ä¼ å€¼è°ƒç”¨ï¼Œå®ƒçš„Thunkå‡½æ•°å«ä¹‰æœ‰æ‰€ä¸åŒã€‚
        åœ¨JavaScriptè¯­è¨€ä¸­ï¼ŒThunkå‡½æ•°æ›¿æ¢çš„ä¸æ˜¯è¡¨è¾¾å¼ã€‚
        è€Œæ˜¯å¤šå‚æ•°å‡½æ•°ï¼Œå°†å…¶æ›¿æ¢æˆå•å‚æ•°çš„ç‰ˆæœ¬ï¼Œä¸”åªæ¥å—å›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚
        Thunkå‡½æ•°çœŸæ­£çš„å¨åŠ›ï¼Œåœ¨äºå¯ä»¥è‡ªåŠ¨æ‰§è¡ŒGeneratorå‡½æ•°ã€‚
    èŒƒä¾‹
        Thunkå‡½æ•°çš„ç¼–è¯‘å™¨å®ç°
            function f(m) {
                return m * 2;
            }
            f(x + 5);
            // ç­‰åŒäº
            var thunk = function() {
                return x + 5;
            };
            function f(thunk) {
                return thunk() * 2;
            }
        JavaScriptçš„Thunkå®ç°
            // æ­£å¸¸ç‰ˆæœ¬çš„readFileï¼ˆå¤šå‚æ•°ç‰ˆæœ¬ï¼‰
            fs.readFile(fileName, callback);
            // Thunkç‰ˆæœ¬çš„readFileï¼ˆå•å‚æ•°ç‰ˆæœ¬ï¼‰
            var readFileThunk = Thunk(fileName);
            readFileThunk(callback);
            var Thunk = function(fileName) {
                return function(callback) {
                    return fs.readFile(fileName, callback);
                };
            };

coæ¨¡å—
    è¯´æ˜
        coæ¨¡å—æ˜¯è‘—åç¨‹åºå‘˜TJ Holowaychukäº2013å¹´6æœˆå‘å¸ƒçš„ä¸€ä¸ªå°å·¥å…·ã€‚
        ç”¨äºGeneratorå‡½æ•°çš„è‡ªåŠ¨æ‰§è¡Œã€‚
        coæ¨¡å—å…¶å®å°±æ˜¯å°†ä¸¤ç§è‡ªåŠ¨æ‰§è¡Œå™¨ï¼ˆThunkå‡½æ•°å’ŒPromiseå¯¹è±¡ï¼‰ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ¨¡å—ã€‚
        ä½¿ç”¨coçš„å‰ææ˜¯ï¼ŒGeneratorå‡½æ•°çš„yieldå‘½ä»¤åé¢ï¼Œåªèƒ½æ˜¯Thunkå‡½æ•°æˆ–Promiseå¯¹è±¡ã€‚
        coæ”¯æŒå¹¶å‘çš„å¼‚æ­¥æ“ä½œï¼Œå³å…è®¸æŸäº›æ“ä½œåŒæ—¶è¿›è¡Œï¼Œç­‰åˆ°å®ƒä»¬å…¨éƒ¨å®Œæˆï¼Œæ‰è¿›è¡Œä¸‹ä¸€æ­¥ã€‚
    èŒƒä¾‹
        åŸºäºPromiseçš„Generatorè‡ªåŠ¨æ‰§è¡Œå™¨
            var fs = require(&apos;fs&apos;);
            var readFile = function(fileName) {
                return new Promise(function(resolve, reject) {
                    fs.readFile(fileName, function(error, data) {
                        if (error) return reject(error);
                        resolve(data);
                    });
                });
            };
            var gen = function*() {
                var f1 = yield readFile(&apos;/etc/fstab&apos;);
                var f2 = yield readFile(&apos;/etc/shells&apos;);
                console.log(f1.toString());
                console.log(f2.toString());
            };
            // æ‰‹åŠ¨æ‰§è¡Œ
            var g = gen();
            g.next().value.then(function(data) {
                g.next(data).value.then(function(data) {
                    g.next(data);
                });
            });
            // è‡ªåŠ¨æ‰§è¡Œ
            function run(gen) {
                var g = gen();
                    function next(data) {
                    var result = g.next(data);
                    if (result.done) return result.value;
                    result.value.then(function(data) {
                        next(data);
                    });
                }
                    next();
            }
            run(gen);
        coå¤„ç†å¹¶å‘çš„å¼‚æ­¥æ“ä½œ
            // æ•°ç»„çš„å†™æ³•
            co(function*() {
                var res = yield [
                    Promise.resolve(1),
                    Promise.resolve(2)
                ];
                console.log(res);
            }).catch(onerror);
            // å¯¹è±¡çš„å†™æ³•
            co(function*() {
                var res = yield {
                    1: Promise.resolve(1),
                    2: Promise.resolve(2),
                };
                console.log(res);
            }).catch(onerror);

asyncå‡½æ•°
    è¯´æ˜
        ES7æä¾›äº†asyncå‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚å®ƒæ˜¯Generatorå‡½æ•°çš„è¯­æ³•ç³–ã€‚
        asyncå‡½æ•°çš„å®ç°ï¼Œå°±æ˜¯å°† Generator å‡½æ•°å’Œè‡ªåŠ¨æ‰§è¡Œå™¨ï¼ŒåŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°é‡Œã€‚
        asyncè¯­æ³•æ˜¯å°†Generatorå‡½æ•°çš„æ˜Ÿå·ï¼ˆ*ï¼‰æ›¿æ¢æˆasyncï¼Œå°†yieldæ›¿æ¢æˆawaitã€‚
        asyncè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ã€‚
        asyncå†…éƒ¨returnè¯­å¥è¿”å›çš„å€¼ï¼Œä¼šæˆä¸ºthenæ–¹æ³•å›è°ƒå‡½æ•°çš„å‚æ•°ã€‚
        asyncå†…éƒ¨æŠ›å‡ºé”™è¯¯ï¼Œä¼šå¯¼è‡´è¿”å›çš„Promiseå¯¹è±¡å˜ä¸ºrejectçŠ¶æ€ã€‚
        asyncè¿”å›çš„Promiseå¯¹è±¡ï¼Œç­‰åˆ°å†…éƒ¨æ‰€æœ‰awaitå‘½ä»¤çš„Promiseå¯¹è±¡æ‰§è¡Œå®Œï¼Œæ‰æ”¹å˜çŠ¶æ€ã€‚
        å¦‚æœawaitå‘½ä»¤åé¢ä¸æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œä¼šè¢«è½¬æˆä¸€ä¸ªç«‹å³resolveçš„Promiseå¯¹è±¡ã€‚
        åªè¦ä¸€ä¸ªawaitè¯­å¥åé¢çš„Promiseå˜ä¸ºrejectï¼Œé‚£ä¹ˆæ•´ä¸ªasyncå‡½æ•°éƒ½ä¼šä¸­æ–­æ‰§è¡Œã€‚
        å¦‚æœawaitåé¢çš„å¼‚æ­¥æ“ä½œå‡ºé”™ï¼Œé‚£ä¹ˆç­‰åŒäºasyncå‡½æ•°è¿”å›çš„Promiseå¯¹è±¡è¢«rejectã€‚
    èŒƒä¾‹
        è¿”å›å€¼
            async function f() {
                return &apos;hello world&apos;;
            }
            f().then(v =&gt; console.log(v))
            // &quot;hello world&quot;
        æŠ›å‡ºé”™è¯¯
            async function f() {
                throw new Error(&apos;å‡ºé”™äº†&apos;);
            }
            f().then(
                v =&gt; console.log(v),
                e =&gt; console.log(e)
            )
            // Error: å‡ºé”™äº†
        çŠ¶æ€æ”¹å˜
            async function getTitle(url) {
                let response = await fetch(url);
                let html = await response.text();
                return html.match(/&lt;title&gt;([\s\S]+)&lt;\/title&gt;/i)[1];
            }
            getTitle(&apos;https://tc39.github.io/ecma262/&apos;).then(console.log)
            // &quot;ECMAScript 2017 Language Specification&quot;
        awaitåä¸æ˜¯Promiseå¯¹è±¡
            async function f() {
                return await 123;
            }
            f().then(v =&gt; console.log(v))
            // 123
        awaitåé¢çš„å¼‚æ­¥æ“ä½œå‡ºé”™
            async function f() {
                await new Promise(function(resolve, reject) {
                    throw new Error(&apos;å‡ºé”™äº†&apos;);
                });
            }
            f().then(v =&gt; console.log(v)).catch(e =&gt; console.log(e))
            // Errorï¼šå‡ºé”™äº†
        asyncå‡½æ•°çš„å®ç°
            async function fn(args) {
                // ...
            }
            // ç­‰åŒäº
            function fn(args) {
                return spawn(function*() {
                    // ...
                });
            }
            function spawn(genF) {
                return new Promise(function(resolve, reject) {
                    var gen = genF();
                    function step(nextF) {
                        try {
                            var next = nextF();
                        } catch (e) {
                            return reject(e);
                        }
                        if (next.done) {
                            return resolve(next.value);
                        }
                        Promise.resolve(next.value).then(function(v) {
                            step(function() {
                                return gen.next(v);
                            });
                        }, function(e) {
                            step(function() {
                                return gen.throw(e);
                            });
                        });
                    }
                    step(function() {
                        return gen.next(undefined);
                    });
                });
            }
        asyncç”¨æ³•
            function timeout(ms) {
                return new Promise((resolve) =&gt; {
                    setTimeout(resolve, ms);
                });
            }
            async function asyncPrint(value, ms) {
                await timeout(ms);
                console.log(value)
            }
            asyncPrint(&apos;hello world&apos;, 50);
        ä¸åŒå†™æ³•å¯¹æ¯”
            // Promiseå†™æ³•
            function chainAnimationsPromise(elem, animations) {
                // å˜é‡retç”¨æ¥ä¿å­˜ä¸Šä¸€ä¸ªåŠ¨ç”»çš„è¿”å›å€¼
                var ret = null;
                // æ–°å»ºä¸€ä¸ªç©ºçš„Promise
                var p = Promise.resolve();
                // ä½¿ç”¨thenæ–¹æ³•ï¼Œæ·»åŠ æ‰€æœ‰åŠ¨ç”»
                for (var anim of animations) {
                    p = p.then(function(val) {
                        ret = val;
                        return anim(elem);
                    });
                }
                // è¿”å›ä¸€ä¸ªéƒ¨ç½²äº†é”™è¯¯æ•æ‰æœºåˆ¶çš„Promise
                return p.catch(function(e) {
                    /* å¿½ç•¥é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œ */
                }).then(function() {
                    return ret;
                });
            }
            // Generatorå†™æ³•
            function chainAnimationsGenerator(elem, animations) {
                return spawn(function*() {
                    var ret = null;
                    try {
                        for (var anim of animations) {
                            ret = yield anim(elem);
                        }
                    } catch (e) {
                        /* å¿½ç•¥é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œ */
                    }
                    return ret;
                });
            }
            // Asyncå†™æ³•
            async function chainAnimationsAsync(elem, animations) {
                var ret = null;
                try {
                    for (var anim of animations) {
                        ret = await anim(elem);
                    }
                } catch (e) {
                    /* å¿½ç•¥é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œ */
                }
                return ret;
            }

å¼‚æ­¥éå†å™¨
    è¯´æ˜
        Iteratorä¸­nextæ–¹æ³•æ˜¯åŒæ­¥çš„ï¼Œåªè¦è°ƒç”¨å°±å¿…é¡»ç«‹åˆ»è¿”å›å€¼ã€‚
        å¯¹äºå¼‚æ­¥æ“ä½œè§£å†³æ–¹æ³•æ˜¯ï¼ŒGeneratorå‡½æ•°é‡Œé¢çš„å¼‚æ­¥æ“ä½œè¿”å›Thunkå‡½æ•°æˆ–è€…Promiseã€‚
        å³valueå±æ€§æ˜¯ä¸€ä¸ªThunkå‡½æ•°æˆ–è€…Promiseå¯¹è±¡ï¼Œä½†doneå±æ€§åˆ™è¿˜æ˜¯åŒæ­¥äº§ç”Ÿçš„ã€‚
        ç›®å‰ï¼Œæœ‰ä¸€ä¸ªææ¡ˆï¼Œä¸ºå¼‚æ­¥æ“ä½œæä¾›åŸç”Ÿçš„éå†å™¨æ¥å£ã€‚
        å³valueå’Œdoneè¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯å¼‚æ­¥äº§ç”Ÿï¼Œè¿™ç§°ä¸ºâ€å¼‚æ­¥éå†å™¨â€œï¼ˆAsync Iteratorï¼‰ã€‚
        å¼‚æ­¥éå†å™¨çš„æœ€å¤§çš„è¯­æ³•ç‰¹ç‚¹ï¼Œå°±æ˜¯è°ƒç”¨éå†å™¨çš„nextæ–¹æ³•ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚
        å¯¹è±¡çš„å¼‚æ­¥éå†å™¨æ¥å£ï¼Œéƒ¨ç½²åœ¨Symbol.asyncIteratorå±æ€§ä¸Šé¢ã€‚
        for await...of åˆ™æ˜¯ç”¨äºéå†å¼‚æ­¥çš„Iteratoræ¥å£ã€‚
        å¼‚æ­¥Generatorå‡½æ•°å¯è¿”å›ä¸€ä¸ªå¼‚æ­¥éå†å™¨å¯¹è±¡ã€‚
    èŒƒä¾‹
        è¯­æ³•
            asyncIterator.next().then(({value,done}) =&gt; {/* ... */});
        éå†
            for await (const line of readLines(filePath)) {
                console.log(line);
            }
        å¼‚æ­¥Generator
            async function* readLines(path) {
                let file = await fileOpen(path);
                try {
                    while (!file.EOF) {
                        yield await file.readLine();
                    }
                } finally {
                    await file.close();
                }
            }
</code></pre><h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h2><pre><code>ClassåŸºæœ¬è¯­æ³•
    è¯´æ˜
        ES6æä¾›äº†æ›´æ¥è¿‘ä¼ ç»Ÿè¯­è¨€çš„å†™æ³•ï¼Œå¼•å…¥äº†Classï¼ˆç±»ï¼‰è¿™ä¸ªæ¦‚å¿µï¼Œä½œä¸ºå¯¹è±¡çš„æ¨¡æ¿ã€‚
        é€šè¿‡classå…³é”®å­—ï¼Œå¯ä»¥å®šä¹‰ç±»ã€‚
        ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ä¸éœ€è¦functionå…³é”®å­—ï¼Œä¹Ÿä¸éœ€è¦é€—å·åˆ†éš”ï¼Œç±»ä¸­å®šä¹‰çš„æ–¹æ³•æ˜¯ä¸å¯æšä¸¾çš„ã€‚
        ä½¿ç”¨æ—¶ï¼Œç›´æ¥å¯¹ç±»ä½¿ç”¨newå‘½ä»¤ï¼Œä¸ä½¿ç”¨newæ˜¯æ²¡æ³•å½“ä½œå‡½æ•°è°ƒç”¨ï¼Œä¼šæŠ¥é”™ã€‚
        ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Šé¢ï¼Œæ–°æ–¹æ³•å¯ä»¥æ·»åŠ åœ¨prototypeå¯¹è±¡ä¸Šé¢ã€‚
        ç±»çš„å±æ€§åï¼Œå¯ä»¥é‡‡ç”¨è¡¨è¾¾å¼ã€‚
        Classä¸å­˜åœ¨å˜é‡æå‡ï¼ˆhoistï¼‰ï¼Œè¿™ä¸€ç‚¹ä¸ES5å®Œå…¨ä¸åŒã€‚
        ç±»å’Œæ¨¡å—çš„å†…éƒ¨ï¼Œé»˜è®¤å°±æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥ä¸éœ€è¦ä½¿ç”¨use strictæŒ‡å®šè¿è¡Œæ¨¡å¼
    constructoræ–¹æ³•
        constructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡newå‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚
        ç±»å¿…é¡»æœ‰constructoræ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¼šé»˜è®¤æ·»åŠ ä¸€ä¸ªç©ºçš„constructoræ–¹æ³•ã€‚
        constructoræ–¹æ³•é»˜è®¤è¿”å›å®ä¾‹å¯¹è±¡ï¼ˆå³thisï¼‰ï¼Œå®Œå…¨å¯ä»¥æŒ‡å®šè¿”å›å¦å¤–ä¸€ä¸ªå¯¹è±¡ã€‚
    èŒƒä¾‹
        åŸºæœ¬ä½¿ç”¨
            let methodName = &quot;methodName&quot;;
            class Point {
                constructor() {
                    this.x = x;
                    this.y = y;
                }
                toString() {
                    return &apos;(&apos; + this.x + &apos;, &apos; + this.y + &apos;)&apos;;
                }
                toValue() {
                    // ...
                }
                [methodName]() {
                    // ...
                }
            }
            Object.assign(Point.prototype, {
                otherMethodName(){}
            });
            let point = new Point(2,3);
            console.log(Object.keys(Point.prototype));
            // [ &apos;otherMethodName&apos; ]
            var p1 = new Point(2,3);
            var p2 = new Point(3,2);
            p1.__proto__ === p2.__proto__
            //true
            p1.__proto__.printName = function () { return &apos;Oops&apos; };
            p1.printName() // &quot;Oops&quot;
            p2.printName() // &quot;Oops&quot;
        ä¸å­˜åœ¨å˜é‡æå‡
            new Foo(); // ReferenceError
            class Foo {}
        Classè¡¨è¾¾å¼ï¼ˆMeåªèƒ½åœ¨ç±»çš„å†…éƒ¨ä½¿ç”¨ï¼‰
            const MyClass = class Me {
                getClassName() {
                    return Me.name;
                }
            };
            let inst = new MyClass();
            inst.getClassName() // Me
            Me.name // ReferenceError: Me is not defined
        Classè¡¨è¾¾å¼çœç•¥ç±»å
            const MyClass = class { /* ... */ };
        ç«‹å³æ‰§è¡Œçš„class
            let person = new class {
                constructor(name) {
                    this.name = name;
                }
                sayName() {
                    console.log(this.name);
                }
            }(&apos;å¼ ä¸‰&apos;);
            person.sayName(); // &quot;å¼ ä¸‰&quot;
        åˆ©ç”¨å¤–éƒ¨å‡½æ•°å®ç°ç§æœ‰æ–¹æ³•
            class Widget {
                foo(baz) {
                    bar.call(this, baz);
                }
            }
            function bar(baz) {
                return this.snaf = baz;
            }
        åˆ©ç”¨Symbolå®ç°ç§æœ‰æ–¹æ³•
            const bar = Symbol(&apos;bar&apos;);
            const snaf = Symbol(&apos;snaf&apos;);
            export default class myClass {
                // å…¬æœ‰æ–¹æ³•
                foo(baz) {
                    this[bar](baz);
                }
                // ç§æœ‰æ–¹æ³•
                [bar](baz) {
                    return this[snaf] = baz;
                }
            };

Classçš„ç»§æ‰¿
    è¯´æ˜
        Classä¹‹é—´å¯ä»¥é€šè¿‡extendså…³é”®å­—å®ç°ç»§æ‰¿ï¼Œè¿™æ¯”é€šè¿‡ä¿®æ”¹åŸå‹é“¾å®ç°ç»§æ‰¿æ›´åŠ æ¸…æ™°æ–¹ä¾¿ã€‚
        åœ¨ç±»ä¸­superæŒ‡å‘çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚
        å­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æ—¶ä¼šæŠ¥é”™ã€‚
        å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ï¼Œè€Œæ˜¯ç»§æ‰¿çˆ¶ç±»çš„thiså¯¹è±¡ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒåŠ å·¥ã€‚
        åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰è°ƒç”¨superä¹‹åï¼Œæ‰å¯ä»¥ä½¿ç”¨thiså…³é”®å­—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚
        ES5çš„ç»§æ‰¿ï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ å­ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ°thisä¸Šé¢ã€‚
        ES6çš„ç»§æ‰¿ï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹thisã€‚
        å¦‚æœå­ç±»æ²¡æœ‰å®šä¹‰constructoræ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚ã€‚
    super
        ä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼ˆå³super(...args)ï¼‰ï¼Œsuperä»£è¡¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚
        ä½œä¸ºå¯¹è±¡è°ƒç”¨æ—¶ï¼ˆå³super.propæˆ–super.method()ï¼‰ï¼Œsuperä»£è¡¨çˆ¶ç±»ã€‚
        ä½œä¸ºå¯¹è±¡è°ƒç”¨æ—¶superå³å¯ä»¥å¼•ç”¨çˆ¶ç±»å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å¼•ç”¨çˆ¶ç±»çš„é™æ€æ–¹æ³•ã€‚
    åŸå‹
        å­ç±»çš„__proto__å±æ€§ï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ã€‚
        å­ç±»prototypeå±æ€§çš„__proto__å±æ€§ï¼Œè¡¨ç¤ºæ–¹æ³•çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„prototypeã€‚
        ä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå­ç±»çš„åŸå‹ï¼ˆ__proto__å±æ€§ï¼‰æ˜¯çˆ¶ç±»ï¼›
        ä½œä¸ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå­ç±»çš„åŸå‹ï¼ˆprototypeå±æ€§ï¼‰æ˜¯çˆ¶ç±»çš„å®ä¾‹ã€‚
    Extendsçš„ç»§æ‰¿ç›®æ ‡
        extendså…³é”®å­—åé¢å¯ä»¥è·Ÿå¤šç§ç±»å‹çš„å€¼ã€‚
        åªè¦ç›®æ ‡æ˜¯ä¸€ä¸ªæœ‰prototypeå±æ€§çš„å‡½æ•°ï¼Œå°±èƒ½è¢«Bç»§æ‰¿ã€‚
    èŒƒä¾‹
        åŸºæœ¬ä½¿ç”¨
            class Point {
                constructor(x, y) {
                    this.x = x;
                    this.y = y;
                }
            }
            class ColorPoint extends Point {
                constructor(x, y, color) {
                    super(x, y);
                    this.color = color;
                }
            }
            let cp = new ColorPoint(25, 8, &apos;green&apos;);
            cp instanceof ColorPoint // true
            cp instanceof Point      // true
        __proto__å±æ€§
            class A {}
            class B extends A {}
            B.__proto__ === A // true
            B.prototype.__proto__ === A.prototype // true
        ç»§æ‰¿
            // ç»§æ‰¿è‡ªObject
            class A extends Object {}
            A.__proto__ === Object // true
            A.prototype.__proto__ === Object.prototype // true
            // Aä½œä¸ºä¸€ä¸ªåŸºç±»ï¼ˆå³ä¸å­˜åœ¨ä»»ä½•ç»§æ‰¿ï¼‰
            class A {}
            A.__proto__ === Function.prototype // true
            A.prototype.__proto__ === Object.prototype // true
            // å­ç±»ç»§æ‰¿null
            class A extends null {}
            A.__proto__ === Function.prototype // true
            A.prototype.__proto__ === undefined // true

åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿
    è¯´æ˜
        ç”Ÿæ„é€ å‡½æ•°æ˜¯æŒ‡è¯­è¨€å†…ç½®çš„æ„é€ å‡½æ•°ï¼Œé€šå¸¸ç”¨æ¥ç”Ÿæˆæ•°æ®ç»“æ„ã€‚
        ä¹‹å‰ï¼Œè¿™äº›åŸç”Ÿæ„é€ å‡½æ•°æ˜¯æ— æ³•ç»§æ‰¿çš„ã€‚
        å› ä¸ºES5æ˜¯å…ˆæ–°å»ºå­ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œå†å°†çˆ¶ç±»çš„å±æ€§æ·»åŠ åˆ°å­ç±»ä¸Šã€‚
        ç”±äºçˆ¶ç±»çš„å†…éƒ¨å±æ€§æ— æ³•è·å–ï¼Œå¯¼è‡´æ— æ³•ç»§æ‰¿åŸç”Ÿçš„æ„é€ å‡½æ•°ã€‚
        ES6å…è®¸ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°å®šä¹‰å­ç±»ã€‚
        å› ä¸ºES6æ˜¯å…ˆæ–°å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®é¥°thisã€‚
        ES6ä¸­ï¼Œå¦‚æœObjectæ–¹æ³•ä¸æ˜¯é€šè¿‡new Objectå½¢å¼è°ƒç”¨ï¼ŒObjectæ„é€ å‡½æ•°ä¼šå¿½ç•¥å‚æ•°ã€‚
    åŸç”Ÿæ„é€ å‡½æ•°
        Boolean(), Number(), String(), Array(), Date(), Function(), RegExp(), Error(), Object()
    èŒƒä¾‹
        ES5æ— æ³•ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°
            function MyArray() {
                Array.apply(this, arguments);
            }
            MyArray.prototype = Object.create(Array.prototype, {
                constructor: {
                    value: MyArray,
                    writable: true,
                    configurable: true,
                    enumerable: true
                }
            });
            var colors = new MyArray();
            colors[0] = &quot;red&quot;;
            colors.length // 0
            colors.length = 0;
            colors[0] // &quot;red&quot;
        ES6ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°å®šä¹‰å­ç±»
            class MyArray extends Array {
                constructor(...args) {
                    super(...args);
                }
            }
            var arr = new MyArray();
            arr[0] = 12;
            arr.length // 1
            arr.length = 0;
            arr[0] // undefined
        è‡ªå®šä¹‰æ•°æ®ç»“æ„
            class VersionedArray extends Array {
                constructor() {
                    super();
                    this.history = [[]];
                }
                commit() {
                    this.history.push(this.slice());
                }
                revert() {
                    this.splice(0, this.length, ...this.history[this.history.length - 1]);
                }
            }
            var x = new VersionedArray();
            x.push(1);
            x.push(2);
            x               // [1, 2]
            x.history       // [[]]
            x.commit();
            x.history       // [[], [1, 2]]
            x.push(3);
            x               // [1, 2, 3]
            x.revert();
            x               // [1, 2]
        ç»§æ‰¿Objectçš„å­ç±»çš„è¡Œä¸ºå·®å¼‚
            class NewObj extends Object {
                constructor() {
                    super(...arguments);
                }
            }
            var o = new NewObj({
                attr: true
            });
            console.log(o.attr === true); // false

Classçš„å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰
    è¯´æ˜
        åœ¨Classå†…éƒ¨å¯ä»¥ä½¿ç”¨getå’Œsetå…³é”®å­—ï¼Œå¯¹æŸä¸ªå±æ€§è®¾ç½®å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°ã€‚
        å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°æ˜¯è®¾ç½®åœ¨å±æ€§çš„descriptorå¯¹è±¡ä¸Šçš„ã€‚
    èŒƒä¾‹
        class MyClass {
            constructor() {
            }
            get prop() {
                return &apos;getter&apos;;
            }
            set prop(value) {
                console.log(&apos;setter: &apos; + value);
            }
        }
        let inst = new MyClass();
        inst.prop = 123;
        // setter: 123
        inst.prop
        // &apos;getter&apos;
        var descriptor = Object.getOwnPropertyDescriptor(MyClass.prototype, &quot;prop&quot;);
        &quot;get&quot; in descriptor   // true
        &quot;set&quot; in descriptor   // true

Classçš„Generatoræ–¹æ³•
    è¯´æ˜
        å¦‚æœæŸä¸ªæ–¹æ³•ä¹‹å‰åŠ ä¸Šæ˜Ÿå·ï¼ˆ*ï¼‰ï¼Œå°±è¡¨ç¤ºè¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªGeneratorå‡½æ•°ã€‚
    èŒƒä¾‹
        class Foo {
            constructor(...args) {
                this.args = args;
            }
            * [Symbol.iterator]() {
                for (let arg of this.args) {
                    yield arg;
                }
            }
        }
        for (let x of new Foo(&apos;hello&apos;, &apos;world&apos;)) {
            console.log(x);
        }
        // hello
        // world

Classçš„é™æ€æ–¹æ³•
    è¯´æ˜
        ç±»ç›¸å½“äºå®ä¾‹çš„åŸå‹ï¼Œæ‰€æœ‰åœ¨ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½ä¼šè¢«å®ä¾‹ç»§æ‰¿ã€‚
        å¦‚æœåœ¨ä¸€ä¸ªæ–¹æ³•å‰ï¼ŒåŠ ä¸Šstaticå…³é”®å­—ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•ä¸ºé™æ€æ–¹æ³•ã€‚
        é™æ€æ–¹æ³•ä¸ä¼šè¢«å®ä¾‹ç»§æ‰¿ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ç±»æ¥è°ƒç”¨ã€‚
        çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼Œå¯ä»¥è¢«å­ç±»ç»§æ‰¿ã€‚
    èŒƒä¾‹
        class Foo {
            static classMethod() {
                return &apos;hello&apos;;
            }
        }
        class Bar extends Foo {
            static classMethodToo() {
                return super.classMethod() + &apos;, too&apos;;
            }
        }
        Foo.classMethod()      // &apos;hello&apos;
        Bar.classMethod()      // &apos;hello&apos;
        console.log(Bar.classMethodToo());  // &apos;hello, too&apos;
        var foo = new Foo()
        foo.classMethod()
        // TypeError: foo.classMethod is not a function

Classçš„é™æ€å±æ€§å’Œå®ä¾‹å±æ€§
    è¯´æ˜
        é™æ€å±æ€§æŒ‡çš„æ˜¯Classæœ¬èº«çš„å±æ€§ï¼Œå³Class.propnameã€‚
        è€Œä¸æ˜¯å®šä¹‰åœ¨å®ä¾‹å¯¹è±¡ï¼ˆthisï¼‰ä¸Šçš„å±æ€§ã€‚
        ES6æ˜ç¡®è§„å®šï¼ŒClasså†…éƒ¨åªæœ‰é™æ€æ–¹æ³•ï¼Œæ²¡æœ‰é™æ€å±æ€§ã€‚
        è¦å®ç°é™æ€å±æ€§åªèƒ½æ‰‹åŠ¨ç»™ç±»æ·»åŠ å±æ€§ã€‚
        ES7æœ‰ä¸€ä¸ªé™æ€å±æ€§çš„ææ¡ˆï¼Œç›®å‰Babelè½¬ç å™¨æ”¯æŒã€‚
    èŒƒä¾‹
        ES6é™æ€å±æ€§
            class Foo {}
            Foo.prop = 1;
            Foo.prop // 1
        ES7å®ä¾‹å±æ€§
            class MyClass {
                myProp = 42;
                constructor() {
                    console.log(this.myProp); // 42
                }
            }
        ES7é™æ€å±æ€§
            class MyClass {
                static myStaticProp = 42;
                constructor() {
                    console.log(MyClass.myProp); // 42
                }
            }

new.targetå±æ€§
    è¯´æ˜
        ES6ä¸ºnewå‘½ä»¤å¼•å…¥äº†ä¸€ä¸ªnew.targetå±æ€§ï¼Œè¿”å›newå‘½ä»¤ä½œç”¨äºçš„é‚£ä¸ªæ„é€ å‡½æ•°ã€‚
        å¦‚æœæ„é€ å‡½æ•°ä¸æ˜¯é€šè¿‡newå‘½ä»¤è°ƒç”¨çš„ï¼Œnew.targetä¼šè¿”å›undefinedã€‚
        è¿™ä¸ªå±æ€§å¯ä»¥ç”¨æ¥ç¡®å®šæ„é€ å‡½æ•°æ˜¯æ€ä¹ˆè°ƒç”¨çš„ã€‚
        å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œnew.targetä¼šè¿”å›å­ç±»ã€‚
    èŒƒä¾‹
        æ„é€ å‡½æ•°ä¸­ä½¿ç”¨
            function Person(name) {
                if (new.target === Person) {
                    this.name = name;
                } else {
                    throw new Error(&apos;å¿…é¡»ä½¿ç”¨newç”Ÿæˆå®ä¾‹&apos;);
                }
            }
            var person = new Person(&apos;å¼ ä¸‰&apos;); // æ­£ç¡®
            var notAPerson = Person.call(person, &apos;å¼ ä¸‰&apos;); // æŠ¥é”™
        ç±»ä¸­ä½¿ç”¨
            class Rectangle {
                constructor(length, width) {
                    console.log(new.target === Rectangle);
                    this.length = length;
                    this.width = width;
                }
            }
            var obj = new Rectangle(3, 4); // è¾“å‡º true

Mixinæ¨¡å¼çš„å®ç°
    è¯´æ˜
        Mixinæ¨¡å¼æŒ‡çš„æ˜¯ï¼Œå°†å¤šä¸ªç±»çš„æ¥å£â€œæ··å…¥â€ï¼ˆmix inï¼‰å¦ä¸€ä¸ªç±»ã€‚å®ƒåœ¨ES6çš„å®ç°å¦‚ä¸‹ã€‚
    èŒƒä¾‹
        function mix(...mixins) {
            class Mix {}
            for (let mixin of mixins) {
                copyProperties(Mix, mixin);
                copyProperties(Mix.prototype, mixin.prototype);
            }
            return Mix;
        }
        function copyProperties(target, source) {
            for (let key of Reflect.ownKeys(source)) {
                if (key !== &quot;constructor&quot; &amp;&amp; key !== &quot;prototype&quot; &amp;&amp; key !== &quot;name&quot;) {
                    let desc = Object.getOwnPropertyDescriptor(source, key);
                    Object.defineProperty(target, key, desc);
                }
            }
        }
        class DistributedEdit extends mix(Loggable, Serializable) {
          // ...
        }
</code></pre><h2 id="ä¿®é¥°å™¨"><a href="#ä¿®é¥°å™¨" class="headerlink" title="ä¿®é¥°å™¨"></a>ä¿®é¥°å™¨</h2><pre><code>ç±»çš„ä¿®é¥°
    è¯´æ˜
        ä¿®é¥°å™¨ï¼ˆDecoratorï¼‰æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥ä¿®æ”¹ç±»çš„è¡Œä¸ºã€‚
        è¿™æ˜¯ES7çš„ä¸€ä¸ªææ¡ˆï¼Œç›®å‰Babelè½¬ç å™¨å·²ç»æ”¯æŒã€‚
        ä¿®é¥°å™¨å¯¹ç±»çš„è¡Œä¸ºçš„æ”¹å˜ï¼Œæ˜¯ä»£ç ç¼–è¯‘æ—¶å‘ç”Ÿçš„ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ã€‚
        è¿™æ„å‘³ç€ï¼Œä¿®é¥°å™¨èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œä»£ç ã€‚
        ä¿®é¥°å™¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯æ‰€è¦ä¿®é¥°çš„ç›®æ ‡ç±»ã€‚
    èŒƒä¾‹
        åŸºæœ¬ä½¿ç”¨
            function testable(target) {
                target.isTestable = true;
            }
            @testable
            class MyTestableClass {}
            console.log(MyTestableClass.isTestable) // true
        æ”¹å˜ä¿®é¥°å™¨è¡Œä¸º
            function testable(isTestable) {
                return function(target) {
                    target.isTestable = isTestable;
                }
            }
            @testable(true)
            class MyTestableClass {}
            MyTestableClass.isTestable // true
            @testable(false)
            class MyClass {}
            MyClass.isTestable // false
        æ·»åŠ å®ä¾‹å±æ€§
            function testable(target) {
                target.prototype.isTestable = true;
            }
            @testable
            class MyTestableClass {}
            let obj = new MyTestableClass();
            obj.isTestable // true

æ–¹æ³•çš„ä¿®é¥°
    è¯´æ˜
        ä¿®é¥°å™¨ä¸ä»…å¯ä»¥ä¿®é¥°ç±»ï¼Œè¿˜å¯ä»¥ä¿®é¥°ç±»çš„å±æ€§ã€‚
        æ­¤æ—¶ï¼Œä¿®é¥°å™¨å‡½æ•°ä¸€å…±å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ã€‚
        å‚æ•°åˆ†åˆ«ä¸º: ä¿®é¥°çš„ç›®æ ‡å¯¹è±¡ï¼Œæ‰€è¦ä¿®é¥°çš„å±æ€§åï¼Œè¯¥å±æ€§çš„æè¿°å¯¹è±¡ã€‚
        å¦‚æœåŒä¸€ä¸ªæ–¹æ³•æœ‰å¤šä¸ªä¿®é¥°å™¨ï¼Œå…ˆä»å¤–åˆ°å†…è¿›å…¥ï¼Œç„¶åç”±å†…å‘å¤–æ‰§è¡Œã€‚
        ä¿®é¥°å™¨è¿˜èƒ½ç”¨æ¥ç±»å‹æ£€æŸ¥ã€‚ä»é•¿æœŸæ¥çœ‹ï¼Œå®ƒå°†æ˜¯JavaScriptä»£ç é™æ€åˆ†æçš„é‡è¦å·¥å…·ã€‚
    èŒƒä¾‹
        ä¿®é¥°ä¸ºåªè¯»
            function readonly(target, name, descriptor) {
                descriptor.writable = false;
                return descriptor;
            }
            readonly(Person.prototype, &apos;name&apos;, descriptor);
            class Person {
                @readonly
                name() {
                    return `${this.first} ${this.last}`
                }
            }
        æ·»åŠ æ—¥å¿—
            class Math {
                @log
                add(a, b) {
                    return a + b;
                }
            }
            function log(target, name, descriptor) {
                var oldValue = descriptor.value;
                descriptor.value = function() {
                    console.log(`Calling &quot;${name}&quot; with`, arguments);
                    return oldValue.apply(null, arguments);
                };
                return descriptor;
            }
            const math = new Math();
            math.add(2, 4);

ä¸ºä»€ä¹ˆä¿®é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ï¼Ÿ
    è¯´æ˜
        ä¿®é¥°å™¨åªèƒ½ç”¨äºç±»å’Œç±»çš„æ–¹æ³•ï¼Œä¸èƒ½ç”¨äºå‡½æ•°ï¼Œå› ä¸ºå­˜åœ¨å‡½æ•°æå‡ã€‚

core-decorators.js
    è¯´æ˜
        core-decorators.jsæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæä¾›äº†å‡ ä¸ªå¸¸è§çš„ä¿®é¥°å™¨ã€‚
        @autobindä¿®é¥°å™¨ä½¿å¾—æ–¹æ³•ä¸­çš„thiså¯¹è±¡ï¼Œç»‘å®šåŸå§‹å¯¹è±¡ã€‚
        @readonlyä¿®é¥°å™¨ä½¿å¾—å±æ€§æˆ–æ–¹æ³•ä¸å¯å†™ã€‚
        @overrideä¿®é¥°å™¨æ£€æŸ¥å­ç±»çš„æ–¹æ³•ï¼Œæ˜¯å¦æ­£ç¡®è¦†ç›–äº†çˆ¶ç±»çš„åŒåæ–¹æ³•ï¼Œå¦‚æœä¸æ­£ç¡®ä¼šæŠ¥é”™ã€‚
        @deprecateæˆ–@deprecatedä¿®é¥°å™¨åœ¨æ§åˆ¶å°æ˜¾ç¤ºä¸€æ¡è­¦å‘Šï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•å°†åºŸé™¤ã€‚
        @suppressWarningsä¿®é¥°å™¨æŠ‘åˆ¶decoratedä¿®é¥°å™¨å¯¼è‡´çš„console.warn()è°ƒç”¨ã€‚

Mixin
    è¯´æ˜
        åœ¨ä¿®é¥°å™¨çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥å®ç°Mixinæ¨¡å¼ã€‚
        Mixinæ¨¡å¼å°±æ˜¯å¯¹è±¡ç»§æ‰¿çš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼Œæ„ä¸ºåœ¨ä¸€ä¸ªå¯¹è±¡ä¹‹ä¸­æ··å…¥å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚
    èŒƒä¾‹
        é€šè¿‡åŸå‹å®ç°
            export function mixins(...list) {
                return function (target) {
                    Object.assign(target.prototype, ...list);
                };
            }
            import { mixins } from &apos;./mixins&apos;;
            const Foo = {
                foo() { console.log(&apos;foo&apos;) }
            };
            @mixins(Foo)
            class MyClass {}
            let obj = new MyClass();
            obj.foo() // &quot;foo&quot;
        é€šè¿‡ç±»ç»§æ‰¿å®ç°
            let Mixin1 = (superclass) =&gt; class extends superclass {
                foo() {
                    console.log(&apos;foo from Mixin1&apos;);
                    if (super.foo) super.foo();
                }
            };
            let Mixin2 = (superclass) =&gt; class extends superclass {
                foo() {
                    console.log(&apos;foo from Mixin2&apos;);
                    if (super.foo) super.foo();
                }
            };
            class S {
                foo() {
                    console.log(&apos;foo from S&apos;);
                }
            }
            class C extends Mixin1(Mixin2(S)) {
                foo() {
                    console.log(&apos;foo from C&apos;);
                    super.foo();
                }
            }
            new C().foo()
            // foo from C
            // foo from Mixin1
            // foo from Mixin2
            // foo from S

Trait
    è¯´æ˜
        Traitä¹Ÿæ˜¯ä¸€ç§ä¿®é¥°å™¨ï¼Œæ•ˆæœä¸Mixinç±»ä¼¼ï¼Œä½†æ˜¯æä¾›æ›´å¤šåŠŸèƒ½ã€‚
        å¦‚é˜²æ­¢åŒåæ–¹æ³•çš„å†²çªã€æ’é™¤æ··å…¥æŸäº›æ–¹æ³•ã€ä¸ºæ··å…¥çš„æ–¹æ³•èµ·åˆ«åç­‰ç­‰ã€‚
        traits-decoratorè¿™ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—æä¾›çš„traitsä¿®é¥°å™¨ã€‚å¯æ¥å—å¯¹è±¡å’Œç±»ä½œä¸ºå‚æ•°ã€‚
        æ··å…¥æ—¶å‡ºç°åŒåæ–¹æ³•ä¼šæŠ¥é”™ï¼Œå¯é€šè¿‡åˆ«åå’Œæ’é™¤æ–¹æ³•æ¥è§£å†³ï¼Œå…·ä½“å¯å‚ç…§æ¨¡å—çš„è¯´æ˜æ–‡æ¡£ã€‚
    èŒƒä¾‹
        import { traits } from &apos;traits-decorator&apos;;
        class TFoo {
            foo() { console.log(&apos;foo&apos;) }
        }
        const TBar = {
            bar() { console.log(&apos;bar&apos;) }
        };
        @traits(TFoo, TBar)
        class MyClass { }
        let obj = new MyClass();
        obj.foo() // foo
        obj.bar() // bar

Babelè½¬ç å™¨çš„æ”¯æŒ
    è¯´æ˜
        ç›®å‰ï¼ŒBabelè½¬ç å™¨å·²ç»æ”¯æŒDecoratorã€‚
        é¦–å…ˆï¼Œå®‰è£…babel-coreå’Œbabel-plugin-transform-decoratorsã€‚
        ç”±äºåè€…åŒ…æ‹¬åœ¨babel-preset-stage-0ä¹‹ä¸­ï¼Œæ‰€ä»¥å®‰è£…babel-preset-stage-0äº¦å¯ã€‚
    èŒƒä¾‹
        $ npm install babel-core babel-plugin-transform-decorators
        // é…ç½®æ–‡ä»¶æ”¹ä¸º
        {
          &quot;plugins&quot;: [&quot;transform-decorators&quot;]
        }
        // è„šæœ¬ä¸­æ‰“å¼€çš„å‘½ä»¤ä¸º
        babel.transform(&quot;code&quot;, {plugins: [&quot;transform-decorators&quot;]})
</code></pre><h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2><pre><code>æ¦‚è¿°
    è¯´æ˜
        åœ¨ES6ä¹‹å‰ï¼Œç¤¾åŒºåˆ¶å®šäº†ä¸€äº›æ¨¡å—åŠ è½½æ–¹æ¡ˆï¼Œæœ€ä¸»è¦çš„æœ‰CommonJSå’ŒAMDä¸¤ç§ã€‚
        CommonJSç”¨äºæœåŠ¡å™¨ï¼ŒAMDç”¨äºæµè§ˆå™¨ã€‚
        ES6åœ¨è¯­è¨€è§„æ ¼çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œå¯ä»¥å–ä»£ç°æœ‰çš„CommonJSå’ŒAMDè§„èŒƒã€‚
        ES6æ¨¡å—çš„è®¾è®¡æ€æƒ³æ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»å’Œè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚
        CommonJSå’ŒAMDæ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚
    ES6æ¨¡å—çš„ä¼˜ç‚¹
        é™æ€åˆ†æï¼Œèƒ½è¿›ä¸€æ­¥æ‹“å®½JavaScriptçš„è¯­æ³•ï¼Œæ¯”å¦‚å¼•å…¥å®ï¼ˆmacroï¼‰å’Œç±»å‹æ£€éªŒã€‚
        ä¸å†éœ€è¦UMDæ¨¡å—æ ¼å¼äº†ï¼Œå°†æ¥æœåŠ¡å™¨å’Œæµè§ˆå™¨éƒ½ä¼šæ”¯æŒES6æ¨¡å—æ ¼å¼ã€‚
        å°†æ¥æµè§ˆå™¨çš„æ–°APIå°±èƒ½ç”¨æ¨¡å—æ ¼å¼æä¾›ï¼Œä¸éœ€åšæˆå…¨å±€å˜é‡æˆ–è€…navigatorå¯¹è±¡çš„å±æ€§ã€‚
        ä¸å†éœ€è¦å¯¹è±¡ä½œä¸ºå‘½åç©ºé—´ï¼ˆæ¯”å¦‚Mathå¯¹è±¡ï¼‰ï¼Œæœªæ¥è¿™äº›åŠŸèƒ½å¯ä»¥é€šè¿‡æ¨¡å—æä¾›ã€‚
    èŒƒä¾‹
        CommonJSæ¨¡å—
            let { stat, exists, readFile } = require(&apos;fs&apos;);
            // ç­‰åŒäº
            let _fs = require(&apos;fs&apos;);
            let stat = _fs.stat, exists = _fs.exists, readfile = _fs.readfile;
        ES6æ¨¡å—
            import { stat, exists, readFile } from &apos;fs&apos;;
        æµè§ˆå™¨ä½¿ç”¨ES6æ¨¡å—
            &lt;script type=&quot;module&quot; src=&quot;foo.js&quot;&gt;&lt;/script&gt;

ä¸¥æ ¼æ¨¡å¼
    è¯´æ˜  
        ES6çš„æ¨¡å—è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰åœ¨æ¨¡å—å¤´éƒ¨åŠ ä¸Š&quot;use strict&quot;;ã€‚
    ä¸¥æ ¼æ¨¡å¼é™åˆ¶
        å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨
        å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™
        ä¸èƒ½ä½¿ç”¨withè¯­å¥
        ä¸èƒ½å¯¹åªè¯»å±æ€§èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™
        ä¸èƒ½ä½¿ç”¨å‰ç¼€0è¡¨ç¤ºå…«è¿›åˆ¶æ•°ï¼Œå¦åˆ™æŠ¥é”™
        ä¸èƒ½åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§ï¼Œå¦åˆ™æŠ¥é”™
        ä¸èƒ½åˆ é™¤å˜é‡delete propï¼Œä¼šæŠ¥é”™ï¼Œåªèƒ½åˆ é™¤å±æ€§delete global[prop]
        evalä¸ä¼šåœ¨å®ƒçš„å¤–å±‚ä½œç”¨åŸŸå¼•å…¥å˜é‡
        evalå’Œargumentsä¸èƒ½è¢«é‡æ–°èµ‹å€¼
        argumentsä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ–
        ä¸èƒ½ä½¿ç”¨arguments.callee
        ä¸èƒ½ä½¿ç”¨arguments.caller
        ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡
        ä¸èƒ½ä½¿ç”¨fn.callerå’Œfn.argumentsè·å–å‡½æ•°è°ƒç”¨çš„å †æ ˆ
        å¢åŠ äº†ä¿ç•™å­—ï¼ˆæ¯”å¦‚protectedã€staticå’Œinterfaceï¼‰

exportå‘½ä»¤
    è¯´æ˜
        exportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ã€‚
        ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶å†…éƒ¨çš„æ‰€æœ‰å˜é‡ï¼Œå¤–éƒ¨æ— æ³•è·å–ã€‚
        å¦‚æœä½ å¸Œæœ›å¤–éƒ¨èƒ½å¤Ÿè¯»å–æ¨¡å—å†…éƒ¨çš„æŸä¸ªå˜é‡ï¼Œå°±å¿…é¡»ä½¿ç”¨exportå…³é”®å­—è¾“å‡ºè¯¥å˜é‡ã€‚
        é€šå¸¸æƒ…å†µä¸‹ï¼Œexportè¾“å‡ºçš„å˜é‡å°±æ˜¯æœ¬æ¥çš„åå­—ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨aså…³é”®å­—é‡å‘½åã€‚
        exportå‘½ä»¤è§„å®šçš„æ˜¯å¯¹å¤–çš„æ¥å£ï¼Œå¿…é¡»ä¸æ¨¡å—å†…éƒ¨çš„å˜é‡å»ºç«‹ä¸€ä¸€å¯¹åº”å…³ç³»ã€‚
        exportå‘½ä»¤å¯ä»¥å‡ºç°åœ¨æ¨¡å—çš„ä»»ä½•ä½ç½®ï¼Œåªè¦å¤„äºæ¨¡å—é¡¶å±‚å°±å¯ä»¥ã€‚
    èŒƒä¾‹
        è¾“å‡ºå˜é‡
            export var firstName = &apos;Michael&apos;;
            export var lastName = &apos;Jackson&apos;;
            export var year = 1958;
        ç»Ÿä¸€è¾“å‡º
            var firstName = &apos;Michael&apos;;
            var lastName = &apos;Jackson&apos;;
            var year = 1958;
            export {firstName, lastName, year};
        è¾“å‡ºå‡½æ•°æˆ–ç±»
            export function multiply(x, y) {
                return x * y;
            };
        é‡æ–°å‘½å
            function v1() { ... }
            function v2() { ... }
            export {
                v1 as streamV1,
                v2 as streamV2,
                v2 as streamLatestVersion
            };
        åŠ¨æ€æ›´æ–°ï¼ˆ500msåfooçš„å€¼å˜åŒ–ï¼‰
            export var foo = &apos;bar&apos;;
            setTimeout(() =&gt; foo = &apos;baz&apos;, 500);

importå‘½ä»¤
    è¯´æ˜
        importå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚
        importå‘½ä»¤ä¼šæ‰§è¡Œæ‰€åŠ è½½çš„æ¨¡å—ã€‚
        importå‘½ä»¤æ¥å—ä¸€ä¸ªå¯¹è±¡ï¼ˆç”¨å¤§æ‹¬å·è¡¨ç¤ºï¼‰ï¼Œé‡Œé¢æŒ‡å®šè¦ä»å…¶ä»–æ¨¡å—å¯¼å…¥çš„å˜é‡åã€‚
        å¤§æ‹¬å·é‡Œé¢çš„å˜é‡åï¼Œå¿…é¡»ä¸è¢«å¯¼å…¥æ¨¡å—ï¼ˆprofile.jsï¼‰å¯¹å¤–æ¥å£çš„åç§°ç›¸åŒã€‚
        aså…³é”®å­—å¯å°†è¾“å…¥çš„å˜é‡é‡å‘½åã€‚
        importå‘½ä»¤å…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨ï¼Œé¦–å…ˆæ‰§è¡Œã€‚
        ES7æœ‰ä¸€ä¸ªææ¡ˆï¼Œç®€åŒ–å…ˆè¾“å…¥åè¾“å‡ºçš„å†™æ³•ï¼Œæ‹¿æ‰è¾“å‡ºæ—¶çš„å¤§æ‹¬å·ã€‚
    èŒƒä¾‹
        å¯¼å…¥æ¨¡å—ä¸­çš„å˜é‡
            import {firstName, lastName, year} from &apos;./profile&apos;;
        é‡å‘½å
            import { lastName as surname } from &apos;./profile&apos;;
        ES7ç®€å†™
            // ææ¡ˆçš„å†™æ³•
            export v from &apos;mod&apos;;
            // ç°è¡Œçš„å†™æ³•
            export {v} from &apos;mod&apos;;
        å…ˆè¾“å…¥åè¾“å‡ºåŒä¸€ä¸ªæ¨¡å—
            export { es6 as default } from &apos;./someModule&apos;;
            // ç­‰åŒäº
            import { es6 } from &apos;./someModule&apos;;
            export default es6;

æ¨¡å—çš„æ•´ä½“åŠ è½½
    è¯´æ˜
        é™¤äº†æŒ‡å®šåŠ è½½æŸä¸ªè¾“å‡ºå€¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ•´ä½“åŠ è½½ï¼Œå³ç”¨æ˜Ÿå·ï¼ˆ*ï¼‰æŒ‡å®šä¸€ä¸ªå¯¹è±¡ã€‚
        æ‰€æœ‰è¾“å‡ºå€¼éƒ½åŠ è½½åœ¨è¿™ä¸ªå¯¹è±¡ä¸Šé¢ã€‚
    èŒƒä¾‹
        // circle.js
        export function area(radius) {
            return Math.PI * radius * radius;
        }
        export function circumference(radius) {
            return 2 * Math.PI * radius;
        }
        // é€ä¸€åŠ è½½
        import { area, circumference } from &apos;./circle&apos;;
        console.log(&apos;åœ†é¢ç§¯ï¼š&apos; + area(4));
        console.log(&apos;åœ†å‘¨é•¿ï¼š&apos; + circumference(14));
        // æ•´ä½“åŠ è½½
        import * as circle from &apos;./circle&apos;;
        console.log(&apos;åœ†é¢ç§¯ï¼š&apos; + circle.area(4));
        console.log(&apos;åœ†å‘¨é•¿ï¼š&apos; + circle.circumference(14));

export defaultå‘½ä»¤
    è¯´æ˜
        export defaultå‘½ä»¤ç”¨äºæŒ‡å®šæ¨¡å—çš„é»˜è®¤è¾“å‡ºã€‚
        ä¸€ä¸ªæ¨¡å—åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤è¾“å‡ºï¼Œå› æ­¤export deaultå‘½ä»¤åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚
        ä»–æ¨¡å—åŠ è½½è¯¥æ¨¡å—æ—¶ï¼Œimportå‘½ä»¤å¯ä»¥ä¸ºè¯¥é»˜è®¤åŠ è½½çš„å˜é‡æŒ‡å®šä»»æ„åå­—ã€‚
        å¯¼å…¥å¸¦æœ‰é»˜è®¤è¾“å‡ºçš„æ¨¡å—æ—¶ï¼Œimportå‘½ä»¤åé¢ï¼Œä¸ä½¿ç”¨å¤§æ‹¬å·ã€‚
        export defaultå…¶å®åªæ˜¯è¾“å‡ºä¸€ä¸ªå«åšdefaultçš„å˜é‡ï¼Œæ‰€ä»¥å®ƒåé¢ä¸èƒ½è·Ÿå˜é‡å£°æ˜è¯­å¥ã€‚
    èŒƒä¾‹
        åŸºæœ¬ä½¿ç”¨
            // export-default.js
            export default function() {
                console.log(&apos;foo&apos;);
            }
            // import-default.js
            import customName from &apos;./export-default&apos;;
            customName(); // &apos;foo&apos;
        ç”¨äºéåŒ¿åå‡½æ•°
            function foo() {
                console.log(&apos;foo&apos;);
            }
            export default foo;
        åé¢ä¸èƒ½è·Ÿå˜é‡å£°æ˜è¯­å¥
            // æ­£ç¡®
            export var a = 1;
            // æ­£ç¡®
            var a = 1;
            export default a;
            // é”™è¯¯
            export default var a = 1;
        åŒæ—¶è¾“å…¥é»˜è®¤æ–¹æ³•å’Œå…¶ä»–å˜é‡
            import customName, { otherMethod } from &apos;./export-default&apos;;
        è¾“å‡ºç±»
            // MyClass.js
            export default class { ... }
            // main.js
            import MyClass from &apos;MyClass&apos;;
            let o = new MyClass();

æ¨¡å—çš„ç»§æ‰¿
    è¯´æ˜
        æ¨¡å—ä¹‹é—´ä¹Ÿå¯ä»¥ç»§æ‰¿ã€‚
        export * è¡¨ç¤ºå†è¾“å‡ºæŒ‡å®šæ¨¡å—çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚
        export * ä¼šå¿½ç•¥æŒ‡å®šæ¨¡å—çš„defaultæ–¹æ³•ã€‚
    èŒƒä¾‹
        circleplusæ¨¡å—ç»§æ‰¿circleæ¨¡å—
            // circleplus.js
            export * from &apos;circle&apos;;
            export var e = 2.71828182846;
            export default function(x) {
                return Math.exp(x);
            }
            // main.js
            import * as math from &apos;circleplus&apos;;
            import exp from &apos;circleplus&apos;;
            console.log(exp(math.e));
        æ”¹åå†è¾“å‡º
            export { area as circleArea } from &apos;circle&apos;;

ES6æ¨¡å—åŠ è½½çš„å®è´¨
    è¯´æ˜
        ES6æ¨¡å—åŠ è½½çš„æœºåˆ¶ï¼Œä¸CommonJSæ¨¡å—å®Œå…¨ä¸åŒã€‚
        CommonJSæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼Œè€ŒES6æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚
        CommonJSä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ã€‚
        ES6æ¨¡å—çš„è¿è¡Œæœºåˆ¶é‡åˆ°importå‘½ä»¤æ—¶ï¼Œåªç”Ÿæˆä¸€ä¸ªåŠ¨æ€çš„åªè¯»å¼•ç”¨ã€‚
        ES6çš„è¾“å…¥æœ‰ç‚¹åƒUnixç³»ç»Ÿçš„â€œç¬¦å·è¿æ¥â€ï¼ŒåŸå§‹å€¼å˜äº†ï¼Œimportè¾“å…¥çš„å€¼ä¹Ÿä¼šè·Ÿç€å˜ã€‚
        ES6è¾“å…¥çš„æ¨¡å—å˜é‡æ˜¯â€œç¬¦å·è¿æ¥â€ï¼Œè¿™ä¸ªå˜é‡æŒ‡å‘çš„åœ°å€æ˜¯åªè¯»çš„ï¼Œå¯¹å®ƒè¿›è¡Œé‡æ–°èµ‹å€¼ä¼šæŠ¥é”™ã€‚
        exporté€šè¿‡æ¥å£ï¼Œè¾“å‡ºçš„æ˜¯åŒä¸€ä¸ªå€¼ã€‚ä¸åŒçš„è„šæœ¬åŠ è½½è¿™ä¸ªæ¥å£ï¼Œå¾—åˆ°çš„éƒ½æ˜¯åŒæ ·çš„å®ä¾‹ã€‚
    èŒƒä¾‹
        CommonJSæ¨¡å—æœºåˆ¶
            // lib.js
            var counter = 3;
            function incCounter() {
                counter++;
            }
            module.exports = {
                counter: counter,
                incCounter: incCounter,
            };
            // main.js
            var mod = require(&apos;./lib&apos;);
            console.log(mod.counter); // 3
            mod.incCounter();
            console.log(mod.counter); // 3
        ES6æ¨¡å—æœºåˆ¶
            // lib.js
            export let counter = 3;
            export function incCounter() {
                counter++;
            }
            // main.js
            import { counter, incCounter } from &apos;./lib&apos;;
            console.log(counter); // 3
            incCounter();
            console.log(counter); // 4
        å¯¹å˜é‡èµ‹å€¼
            // lib.js
            export let obj = {};
            // main.js
            import { obj } from &apos;./lib&apos;;
            obj.prop = 123; // OK
            obj = {}; // TypeError
        ä¸åŒçš„è„šæœ¬åŠ è½½åŒä¸€æ¨¡å—
            // mod.js
            function C() {
                this.sum = 0;
                this.add = function() {
                    this.sum += 1;
                };
                this.show = function() {
                    console.log(this.sum);
                };
            }
            export let c = new C();
            // x.js
            import {c} from &apos;./mod&apos;;
            c.add();
            // y.js
            import {c} from &apos;./mod&apos;;
            c.show();
            // main.js
            import &apos;./x&apos;;
            import &apos;./y&apos;;
            // è¾“å‡º1

å¾ªç¯åŠ è½½
    è¯´æ˜
        å¾ªç¯åŠ è½½æŒ‡çš„æ˜¯ï¼Œaè„šæœ¬çš„æ‰§è¡Œä¾èµ–bè„šæœ¬ï¼Œè€Œbè„šæœ¬çš„æ‰§è¡Œåˆä¾èµ–aè„šæœ¬ã€‚
        é€šå¸¸ï¼Œå¾ªç¯åŠ è½½è¡¨ç¤ºå­˜åœ¨å¼ºè€¦åˆï¼Œå¦‚æœå¤„ç†ä¸å¥½ï¼Œè¿˜å¯èƒ½å¯¼è‡´é€’å½’åŠ è½½ï¼Œä½¿å¾—ç¨‹åºæ— æ³•æ‰§è¡Œã€‚
    CommonJSåŠ è½½åŸç†
        CommonJSçš„ä¸€ä¸ªæ¨¡å—ï¼Œå°±æ˜¯ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ã€‚
        requireå‘½ä»¤ç¬¬ä¸€æ¬¡åŠ è½½è¯¥è„šæœ¬ï¼Œå°±ä¼šæ‰§è¡Œæ•´ä¸ªè„šæœ¬ï¼Œç„¶ååœ¨å†…å­˜ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ã€‚
        å³ä½¿å†æ¬¡æ‰§è¡Œrequireå‘½ä»¤ï¼Œä¹Ÿä¸ä¼šå†æ¬¡æ‰§è¡Œè¯¥æ¨¡å—ï¼Œè€Œæ˜¯åˆ°ç¼“å­˜ä¹‹ä¸­å–å€¼ã€‚
        CommonJSæ¨¡å—æ— è®ºåŠ è½½å¤šå°‘æ¬¡ï¼Œéƒ½åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä¸€æ¬¡ã€‚
    CommonJSå¾ªç¯åŠ è½½
        CommonJSæ¨¡å—çš„é‡è¦ç‰¹æ€§æ˜¯åŠ è½½æ—¶æ‰§è¡Œï¼Œå³è„šæœ¬ä»£ç åœ¨requireçš„æ—¶å€™ï¼Œå°±ä¼šå…¨éƒ¨æ‰§è¡Œã€‚
        ä¸€æ—¦å‡ºç°æŸä¸ªæ¨¡å—è¢«å¾ªç¯åŠ è½½ï¼Œå°±åªè¾“å‡ºå·²ç»æ‰§è¡Œçš„éƒ¨åˆ†ï¼Œè¿˜æœªæ‰§è¡Œçš„éƒ¨åˆ†ä¸ä¼šè¾“å‡ºã€‚
    ES6å¾ªç¯åŠ è½½
        ES6å¤„ç†â€œå¾ªç¯åŠ è½½â€ä¸CommonJSæœ‰æœ¬è´¨çš„ä¸åŒï¼ŒES6æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ã€‚
        ä½¿ç”¨importä»ä¸€ä¸ªæ¨¡å—åŠ è½½å˜é‡ï¼Œå˜é‡ä¸ä¼šè¢«ç¼“å­˜ï¼Œè€Œæ˜¯æˆä¸ºä¸€ä¸ªæŒ‡å‘è¢«åŠ è½½æ¨¡å—çš„å¼•ç”¨ã€‚
        éœ€è¦å¼€å‘è€…è‡ªå·±ä¿è¯ï¼ŒçœŸæ­£å–å€¼çš„æ—¶å€™èƒ½å¤Ÿå–åˆ°å€¼ã€‚
    èŒƒä¾‹
        CommonJSå¾ªç¯åŠ è½½
            // a.jså¦‚ä¸‹
            exports.done = false;
            var b = require(&apos;./b.js&apos;);
            console.log(&apos;åœ¨ a.js ä¹‹ä¸­ï¼Œb.done = %j&apos;, b.done);
            exports.done = true;
            console.log(&apos;a.js æ‰§è¡Œå®Œæ¯•&apos;);
            // b.js
            exports.done = false;
            var a = require(&apos;./a.js&apos;);
            console.log(&apos;åœ¨ b.js ä¹‹ä¸­ï¼Œa.done = %j&apos;, a.done);
            exports.done = true;
            console.log(&apos;b.js æ‰§è¡Œå®Œæ¯•&apos;);
            // main.js
            var a = require(&apos;./a.js&apos;);
            var b = require(&apos;./b.js&apos;);
            console.log(&apos;åœ¨ main.js ä¹‹ä¸­, a.done=%j, b.done=%j&apos;, a.done, b.done);
            // å‘½ä»¤è¡Œæ‰§è¡Œmain.js
            åœ¨ b.js ä¹‹ä¸­ï¼Œa.done = false
            b.js æ‰§è¡Œå®Œæ¯•
            åœ¨ a.js ä¹‹ä¸­ï¼Œb.done = true
            a.js æ‰§è¡Œå®Œæ¯•
            åœ¨ main.js ä¹‹ä¸­, a.done=true, b.done=true
        ES6å¾ªç¯åŠ è½½
            // a.jså¦‚ä¸‹
            import {bar} from &apos;./b.js&apos;;
            console.log(&apos;a.js&apos;);
            console.log(bar);
            export let foo = &apos;foo&apos;;
            // b.js
            import {foo} from &apos;./a.js&apos;;
            console.log(&apos;b.js&apos;);
            console.log(foo);
            export let bar = &apos;bar&apos;;
            // å‘½ä»¤è¡Œæ‰§è¡Œa.js
            $ babel-node a.js
            b.js
            undefined
            a.js
            bar

è·¨æ¨¡å—å¸¸é‡
    è¯´æ˜
        constå£°æ˜çš„å¸¸é‡åªåœ¨å½“å‰ä»£ç å—æœ‰æ•ˆã€‚
        å¦‚æœæƒ³è®¾ç½®è·¨æ¨¡å—çš„å¸¸é‡ï¼ˆå³è·¨å¤šä¸ªæ–‡ä»¶ï¼‰ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚
    èŒƒä¾‹
        // constants.js æ¨¡å—
        export const A = 1;
        export const B = 3;
        export const C = 4;
        // test1.js æ¨¡å—
        import * as constants from &apos;./constants&apos;;
        console.log(constants.A); // 1
        console.log(constants.B); // 3
        // test2.js æ¨¡å—
        import {A, B} from &apos;./constants&apos;;
        console.log(A); // 1
        console.log(B); // 3

ES6æ¨¡å—çš„è½¬ç 
    è¯´æ˜
        æµè§ˆå™¨ç›®å‰è¿˜ä¸æ”¯æŒES6æ¨¡å—ï¼Œä¸ºäº†ç°åœ¨å°±èƒ½ä½¿ç”¨ï¼Œå¯ä»¥å°†è½¬ä¸ºES5çš„å†™æ³•ã€‚
        é™¤äº†Babelå¯ä»¥ç”¨æ¥è½¬ç ä¹‹å¤–ï¼ŒES6 module transpilerå’ŒSystemJSä¹Ÿå¯ä»¥ç”¨æ¥è½¬ç ã€‚
    ES6 module transpiler
        ES6 module transpileræ˜¯squareå…¬å¸å¼€æºçš„ä¸€ä¸ªè½¬ç å™¨ã€‚
        å¯ä»¥å°†ES6æ¨¡å—è½¬ä¸ºCommonJSæ¨¡å—æˆ–AMDæ¨¡å—çš„å†™æ³•ï¼Œä»è€Œåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚
    SystemJS
        SystemJSæ˜¯ä¸€ä¸ªå«ç‰‡åº“ï¼ˆpolyfillï¼‰ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨å†…åŠ è½½ES6ã€AMDå’ŒCommonJSæ¨¡å—ã€‚
        SystemJSå°†æ¨¡å—è½¬ä¸ºES5æ ¼å¼ã€‚å®ƒåœ¨åå°è°ƒç”¨çš„æ˜¯Googleçš„Traceurè½¬ç å™¨ã€‚
        System.importä½¿ç”¨å¼‚æ­¥åŠ è½½ï¼Œè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå¯ä»¥é’ˆå¯¹è¿™ä¸ªå¯¹è±¡ç¼–ç¨‹ã€‚
    èŒƒä¾‹
        ES6 module transpiler
            // å®‰è£…
            $ npm install -g es6-module-transpiler
            // å°†ES6æ¨¡å—æ–‡ä»¶è½¬ç 
            $ compile-modules convert file1.js file2.js
            // -oå‚æ•°å¯ä»¥æŒ‡å®šè½¬ç åçš„æ–‡ä»¶å
            $ compile-modules convert -o out.js file1.js
        SystemJS
            // å…ˆåœ¨ç½‘é¡µå†…è½½å…¥system.jsæ–‡ä»¶ã€‚
            &lt;script src=&quot;system.js&quot;&gt;&lt;/script&gt;
            // app/es6-file.js:
            export class q {
              constructor() {
                this.es6 = &apos;hello&apos;;
              }
            }
            // ä½¿ç”¨System.importæ–¹æ³•åŠ è½½æ¨¡å—æ–‡ä»¶ã€‚
            &lt;script&gt;
            System.import(&apos;app/es6-file&apos;).then(function(m) {
                console.log(new m.q().es6); // hello
            });
            &lt;/script&gt;
</code></pre><h2 id="äºŒè¿›åˆ¶æ•°ç»„"><a href="#äºŒè¿›åˆ¶æ•°ç»„" class="headerlink" title="äºŒè¿›åˆ¶æ•°ç»„"></a>äºŒè¿›åˆ¶æ•°ç»„</h2><pre><code>ArrayBufferå¯¹è±¡
    è¯´æ˜
        ArrayBufferå¯¹è±¡ä»£è¡¨å‚¨å­˜äºŒè¿›åˆ¶æ•°æ®çš„ä¸€æ®µå†…å­˜ã€‚
        å®ƒä¸èƒ½ç›´æ¥è¯»å†™ï¼Œåªèƒ½é€šè¿‡è§†å›¾ï¼ˆTypedArrayè§†å›¾å’ŒDataViewè§†å›¾)æ¥è¯»å†™ã€‚
        è§†å›¾çš„ä½œç”¨æ˜¯ä»¥æŒ‡å®šæ ¼å¼è§£è¯»äºŒè¿›åˆ¶æ•°æ®ã€‚
        ArrayBufferä¹Ÿæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¯ä»¥åˆ†é…ä¸€æ®µå¯ä»¥å­˜æ”¾æ•°æ®çš„è¿ç»­å†…å­˜åŒºåŸŸã€‚
        ArrayBufferå®ä¾‹çš„byteLengthå±æ€§ï¼Œè¿”å›æ‰€åˆ†é…çš„å†…å­˜åŒºåŸŸçš„å­—èŠ‚é•¿åº¦ã€‚
        å¦‚æœè¦åˆ†é…çš„å†…å­˜åŒºåŸŸå¾ˆå¤§ï¼Œæœ‰å¯èƒ½åˆ†é…å¤±è´¥ï¼ˆå› ä¸ºæ²¡æœ‰é‚£ä¹ˆå¤šçš„è¿ç»­ç©ºä½™å†…å­˜ï¼‰ã€‚
        ArrayBufferå®ä¾‹çš„sliceæ–¹æ³•ï¼Œå¯å†…å­˜åŒºåŸŸçš„ä¸€éƒ¨åˆ†ï¼Œæ‹·è´ç”Ÿæˆä¸€ä¸ªæ–°çš„ArrayBufferã€‚
        ArrayBufferæœ‰ä¸€ä¸ªé™æ€æ–¹æ³•isViewï¼Œè¿”å›æŒ‡å®šå‚æ•°æ˜¯å¦ä¸ºArrayBufferçš„è§†å›¾å®ä¾‹ã€‚
    èŒƒä¾‹
        ç”Ÿæˆ32ä½å†…å­˜åŒºåŸŸ
            var buf = new ArrayBuffer(32);
            buffer.byteLength
            // 32
        é€šè¿‡DataViewè¯»å–ArrayBuffer
            var buf = new ArrayBuffer(32);
            var dataView = new DataView(buf);
            dataView.getUint8(0) // 0
        æ£€æŸ¥æ˜¯å¦åˆ†é…æˆåŠŸ
            if (buffer.byteLength === n) {
                // æˆåŠŸ
            } else {
                // å¤±è´¥
            }
        slice
            var buffer = new ArrayBuffer(8);
            var newBuffer = buffer.slice(0, 3);
        ArrayBuffer.isView
            var buffer = new ArrayBuffer(8);
            ArrayBuffer.isView(buffer) // false
            var v = new Int32Array(buffer);
            ArrayBuffer.isView(v) // true

TypedArrayè§†å›¾
    è¯´æ˜
        ArrayBufferå¯¹è±¡ä½œä¸ºå†…å­˜åŒºåŸŸï¼Œå¯ä»¥å­˜æ”¾å¤šç§ç±»å‹çš„æ•°æ®ã€‚
        åŒä¸€æ®µå†…å­˜ï¼Œä¸åŒæ•°æ®æœ‰ä¸åŒçš„è§£è¯»æ–¹å¼ï¼Œè¿™å°±å«åšâ€œè§†å›¾â€ï¼ˆviewï¼‰ã€‚
        ArrayBufferæœ‰ä¸¤ç§è§†å›¾ï¼Œä¸€ç§æ˜¯TypedArrayè§†å›¾ï¼Œå¦ä¸€ç§æ˜¯DataViewè§†å›¾ã€‚
        å‰è€…çš„æ•°ç»„æˆå‘˜éƒ½æ˜¯åŒä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œåè€…çš„æ•°ç»„æˆå‘˜å¯ä»¥æ˜¯ä¸åŒçš„æ•°æ®ç±»å‹ã€‚
        ç›®å‰ï¼ŒTypedArrayè§†å›¾ä¸€å…±åŒ…æ‹¬9ç§ç±»å‹ï¼Œæ¯ä¸€ç§è§†å›¾éƒ½æ˜¯ä¸€ç§æ„é€ å‡½æ•°ã€‚
    ç±»å‹
        Int8Array          (1 byte)     8ä½æœ‰ç¬¦å·æ•´æ•°
        Uint8Array         (1 bytes)    8ä½æ— ç¬¦å·æ•´æ•°
        Uint8ClampedArray  (1 bytes)    8ä½æ— ç¬¦å·æ•´æ•°ï¼Œæº¢å‡ºå¤„ç†ä¸åŒ
        Int16Array         (2 bytes)    16ä½æœ‰ç¬¦å·æ•´æ•°
        Uint16Array        (2 bytes)    16ä½æ— ç¬¦å·æ•´æ•°
        Int32Array         (4 bytes)    32ä½æœ‰ç¬¦å·æ•´æ•°
        Uint32Array        (4 bytes)    32ä½æ— ç¬¦å·æ•´æ•°
        Float32Array       (4 bytes)    32ä½æµ®ç‚¹æ•°
        Float64Array       (8 bytes)    64ä½æµ®ç‚¹æ•°
    å’Œæ•°ç»„ç›¸åŒç‚¹
        è¿™9ä¸ªæ„é€ å‡½æ•°ç”Ÿæˆçš„æ•°ç»„ï¼Œç»Ÿç§°ä¸ºTypedArrayè§†å›¾ã€‚
        å®ƒä»¬å¾ˆåƒæ™®é€šæ•°ç»„ï¼Œéƒ½æœ‰lengthå±æ€§ï¼Œéƒ½èƒ½ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼ˆ[]ï¼‰è·å–å•ä¸ªå…ƒç´ ã€‚
        æ‰€æœ‰æ•°ç»„çš„æ–¹æ³•ï¼Œåœ¨å®ƒä»¬ä¸Šé¢éƒ½èƒ½ä½¿ç”¨ã€‚
        TypedArrayéƒ¨ç½²äº†Iteratoræ¥å£ï¼Œæ‰€ä»¥å¯ä»¥è¢«éå†ã€‚
    å’Œæ•°ç»„å·®å¼‚
        TypedArrayæ•°ç»„çš„æ‰€æœ‰æˆå‘˜ï¼Œéƒ½æ˜¯åŒä¸€ç§ç±»å‹ã€‚
        TypedArrayæ•°ç»„çš„æˆå‘˜æ˜¯è¿ç»­çš„ï¼Œä¸ä¼šæœ‰ç©ºä½ã€‚
        TypedArrayæ•°ç»„æˆå‘˜çš„é»˜è®¤å€¼ä¸º0ã€‚
        TypedArrayæ•°ç»„åªæ˜¯ä¸€å±‚è§†å›¾ï¼Œæœ¬èº«ä¸å‚¨å­˜æ•°æ®ï¼Œæ•°æ®éƒ½å‚¨å­˜åœ¨åº•å±‚çš„ArrayBufferä¸­ã€‚
        TypedArrayè¦è·å–åº•å±‚å¯¹è±¡å¿…é¡»ä½¿ç”¨bufferå±æ€§ã€‚
    å­—èŠ‚åº
        å­—èŠ‚åºæŒ‡çš„æ˜¯æ•°å€¼åœ¨å†…å­˜ä¸­çš„è¡¨ç¤ºæ–¹å¼ï¼Œåˆ†ä¸ºå°ç«¯å­—èŠ‚åºå’Œå¤§ç«¯å­—èŠ‚åºã€‚
        æ‰€æœ‰ä¸ªäººç”µè„‘å‡ ä¹éƒ½æ˜¯å°ç«¯å­—èŠ‚åºï¼Œæ‰€ä»¥TypedArrayæ•°ç»„å†…éƒ¨ä¹Ÿé‡‡ç”¨å°ç«¯å­—èŠ‚åºè¯»å–æ•°æ®ã€‚
        å¾ˆå¤šç½‘ç»œè®¾å¤‡å’Œç‰¹å®šçš„æ“ä½œç³»ç»Ÿé‡‡ç”¨çš„æ˜¯å¤§ç«¯å­—èŠ‚åºã€‚
        æœ‰ä¸€ä¸ªå æ®å››ä¸ªå­—èŠ‚çš„16è¿›åˆ¶æ•°0x12345678ã€‚
        å°ç«¯å­—èŠ‚åºå°†æœ€ä¸é‡è¦çš„å­—èŠ‚æ’åœ¨å‰é¢ï¼Œå‚¨å­˜é¡ºåºå°±æ˜¯78563412ã€‚
        å¤§ç«¯å­—èŠ‚åºåˆ™å®Œå…¨ç›¸åï¼Œå°†æœ€é‡è¦çš„å­—èŠ‚æ’åœ¨å‰é¢ï¼Œå‚¨å­˜é¡ºåºå°±æ˜¯12345678ã€‚
        å¦‚æœä¸€æ®µæ•°æ®æ˜¯å¤§ç«¯å­—èŠ‚åºï¼ŒTypedArrayæ•°ç»„å°†æ— æ³•æ­£ç¡®è§£æï¼Œå› ä¸ºå®ƒåªèƒ½å¤„ç†å°ç«¯å­—èŠ‚åºã€‚
        ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJavaScriptå¼•å…¥DataViewå¯¹è±¡ï¼Œå¯ä»¥è®¾å®šå­—èŠ‚åºï¼Œä¸‹æ–‡ä¼šè¯¦ç»†ä»‹ç»ã€‚
    å±æ€§å’Œ
        BYTES_PER_ELEMENT             æ„é€ å™¨å±æ€§ï¼Œè¡¨ç¤ºæ‰€å æ®çš„å­—èŠ‚æ•°
        .prototype.BYTES_PER_ELEMENT  è¡¨ç¤ºæ‰€å æ®çš„å­—èŠ‚æ•°
        .prototype.byteLength         è¿”å›TypedArrayæ•°ç»„å æ®çš„å†…å­˜é•¿åº¦(å­—èŠ‚)
        .prototype.byteOffset         è¿”å›TypedArrayåœ¨ArrayBufferå¯¹è±¡çš„åç§»
        .prototype.length             è¡¨ç¤ºTypedArrayæ•°ç»„å«æœ‰å¤šå°‘ä¸ªæˆå‘˜
    å®ä¾‹æ–¹æ³•
        .prototype.set()              ç”¨äºå¤åˆ¶æ•°ç»„ï¼Œå°†ä¸€æ®µå†…å®¹å®Œå…¨å¤åˆ¶åˆ°å¦ä¸€æ®µå†…å­˜ã€‚
        .prototype.subarray()         å¯¹äºTypedArrayæ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œæ–°å»ºä¸€ä¸ªæ–°è§†å›¾ã€‚
        .prototype.slice()            è¿”å›ä¸€ä¸ªæŒ‡å®šä½ç½®çš„æ–°çš„TypedArrayå®ä¾‹ã€‚
        TypedArray.of()
    é™æ€æ–¹æ³•
        TypedArray.of()               å°†å‚æ•°è½¬ä¸ºä¸€ä¸ªTypedArrayå®ä¾‹ã€‚
        TypedArray.from()             æŠŠä¸€ä¸ªå¯éå†çš„æ•°æ®ç»“æ„è½¬æ¢ä¸ºTypedArrayã€‚
    èŒƒä¾‹
        æ„é€ å‡½æ•°ç”Ÿæˆè§†å›¾
            // åˆ›å»ºä¸€ä¸ª8å­—èŠ‚çš„ArrayBuffer
            var b = new ArrayBuffer(8);
            // åˆ›å»ºä¸€ä¸ªæŒ‡å‘bçš„Int32è§†å›¾ï¼Œå¼€å§‹äºå­—èŠ‚0ï¼Œç›´åˆ°ç¼“å†²åŒºçš„æœ«å°¾
            var v1 = new Int32Array(b);
            // åˆ›å»ºä¸€ä¸ªæŒ‡å‘bçš„Uint8è§†å›¾ï¼Œå¼€å§‹äºå­—èŠ‚2ï¼Œç›´åˆ°ç¼“å†²åŒºçš„æœ«å°¾
            var v2 = new Uint8Array(b, 2);
            // åˆ›å»ºä¸€ä¸ªæŒ‡å‘bçš„Int16è§†å›¾ï¼Œå¼€å§‹äºå­—èŠ‚2ï¼Œé•¿åº¦ä¸º2
            var v3 = new Int16Array(b, 2, 2);
        ä¸é€šè¿‡ArrayBufferå¯¹è±¡ç”Ÿæˆè§†å›¾
            //ç”ŸæˆåŒ…å«8ä¸ªæˆå‘˜çš„Float64Arrayæ•°ç»„ï¼Œé•¿åº¦ä¸º64ä½
            var f64a = new Float64Array(8);
            f64a[0] = 10;
            f64a[1] = 20;
            f64a[2] = f64a[0] + f64a[1];
        å¤åˆ¶å…¶ä»–è§†å›¾ï¼ˆå†…å­˜ä¸åŒï¼‰
            var x = new Int8Array([1, 1]);
            var y = new Int8Array(x);
            x[0] // 1
            y[0] // 1
            x[0] = 2;
            y[0] // 1
        å¤åˆ¶å…¶ä»–è§†å›¾ï¼ˆå†…å­˜ç›¸åŒï¼‰
            var x = new Int8Array([1, 1]);
            var y = new Int8Array(x.buffer);
            x[0] // 1
            y[0] // 1
            x[0] = 2;
            y[0] // 2
        è½¬æ¢ä¸ºæ™®é€šæ•°ç»„
            var normalArray = Array.prototype.slice.call(typedArray);
        å­—èŠ‚åº
            // å‡å®šæŸæ®µbufferåŒ…å«å¦‚ä¸‹å­—èŠ‚ [0x02, 0x01, 0x03, 0x07]
            var buffer = new ArrayBuffer(4);
            var v1 = new Uint8Array(buffer);
            v1[0] = 2;
            v1[1] = 1;
            v1[2] = 3;
            v1[3] = 7;
            var uInt16View = new Uint16Array(buffer);
            // è®¡ç®—æœºé‡‡ç”¨å°ç«¯å­—èŠ‚åº
            // æ‰€ä»¥å¤´ä¸¤ä¸ªå­—èŠ‚ç­‰äº258
            if (uInt16View[0] === 258) {
                console.log(&apos;OK&apos;); // &quot;OK&quot;
            }
            // èµ‹å€¼è¿ç®—
            uInt16View[0] = 255;    // å­—èŠ‚å˜ä¸º[0xFF, 0x00, 0x03, 0x07]
            uInt16View[0] = 0xff05; // å­—èŠ‚å˜ä¸º[0x05, 0xFF, 0x03, 0x07]
            uInt16View[1] = 0x0210; // å­—èŠ‚å˜ä¸º[0x05, 0xFF, 0x10, 0x02]
        å­—ç¬¦ä¸²è½¬æ¢
            // ArrayBufferè½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå‚æ•°ä¸ºArrayBufferå¯¹è±¡
            function ab2str(buf) {
                return String.fromCharCode.apply(null, new Uint16Array(buf));
            }
            // å­—ç¬¦ä¸²è½¬ä¸ºArrayBufferå¯¹è±¡ï¼Œå‚æ•°ä¸ºå­—ç¬¦ä¸²
            function str2ab(str) {
                var buf = new ArrayBuffer(str.length * 2); // æ¯ä¸ªå­—ç¬¦å ç”¨2ä¸ªå­—èŠ‚
                var bufView = new Uint16Array(buf);
                for (var i = 0, strLen = str.length; i &lt; strLen; i++) {
                    bufView[i] = str.charCodeAt(i);
                }
                return buf;
            }
        æº¢å‡º
            var uint8 = new Uint8Array(1);
            uint8[0] = 256;  // 100000000
            uint8[0]         // 0
            uint8[0] = -1;   // 11111111
            uint8[0]         // 255

å¤åˆè§†å›¾
    è¯´æ˜
        åœ¨åŒä¸€æ®µå†…å­˜ä¹‹ä¸­ï¼Œå¯ä»¥ä¾æ¬¡å­˜æ”¾ä¸åŒç±»å‹çš„æ•°æ®ï¼Œè¿™å«åšâ€œå¤åˆè§†å›¾â€ã€‚
    èŒƒä¾‹  
        var buffer = new ArrayBuffer(24);
        var idView = new Uint32Array(buffer, 0, 1);
        var usernameView = new Uint8Array(buffer, 4, 16);
        var amountDueView = new Float32Array(buffer, 20, 1);

DataViewè§†å›¾
    è¯´æ˜
        å¦‚æœä¸€æ®µæ•°æ®åŒ…æ‹¬å¤šç§ç±»å‹ï¼Œé™¤å¤åˆè§†å›¾ä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡DataViewè§†å›¾è¿›è¡Œæ“ä½œã€‚
        DataViewè§†å›¾æä¾›æ›´å¤šæ“ä½œé€‰é¡¹ï¼Œè€Œä¸”æ”¯æŒè®¾å®šå­—èŠ‚åºã€‚
        TypedArrayè§†å›¾æ˜¯ç”¨æ¥å‘ç½‘å¡ã€å£°å¡ä¹‹ç±»çš„æœ¬æœºè®¾å¤‡ä¼ é€æ•°æ®ï¼Œæ‰€ä»¥ä½¿ç”¨æœ¬æœºçš„å­—èŠ‚åºã€‚
        DataViewè§†å›¾æ˜¯ç”¨æ¥å¤„ç†ç½‘ç»œè®¾å¤‡ä¼ æ¥çš„æ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥è‡ªè¡Œè®¾å®šå­—èŠ‚åºã€‚
        DataViewè§†å›¾æœ¬èº«ä¹Ÿæ˜¯æ„é€ å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªArrayBufferå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œç”Ÿæˆè§†å›¾
        è¯»å–å†…å­˜å’Œå†™å…¥å†…å­˜çš„æ–¹æ³•å¯åœ¨ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šå­—èŠ‚åºã€‚
    æ ¼å¼
        DataView(ArrayBuffer buffer [, å­—èŠ‚èµ·å§‹ä½ç½® [, é•¿åº¦]]);
    å®ä¾‹å±æ€§
        DataView.prototype.buffer        è¿”å›å¯¹åº”çš„ArrayBufferå¯¹è±¡
        DataView.prototype.byteLength    è¿”å›å æ®çš„å†…å­˜å­—èŠ‚é•¿åº¦
        DataView.prototype.byteOffset    è¿”å›å½“å‰è§†å›¾ä»å¯¹åº”çš„ArrayBufferå¯¹è±¡
    å®ä¾‹æ–¹æ³•-è¯»å–å†…å­˜
        getInt8                          è¯»å–1ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª8ä½æ•´æ•°
        getUint8                         è¯»å–1ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªæ— ç¬¦å·çš„8ä½æ•´æ•°
        getInt16                         è¯»å–2ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª16ä½æ•´æ•°
        getUint16                        è¯»å–2ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªæ— ç¬¦å·çš„16ä½æ•´æ•°
        getInt32                         è¯»å–4ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª32ä½æ•´æ•°
        getUint32                        è¯»å–4ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªæ— ç¬¦å·çš„32ä½æ•´æ•°
        getFloat32                       è¯»å–4ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª32ä½æµ®ç‚¹æ•°
        getFloat64                       è¯»å–8ä¸ªå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ª64ä½æµ®ç‚¹æ•°
    å®ä¾‹æ–¹æ³•-å†™å…¥å†…å­˜
        setInt8                          å†™å…¥1ä¸ªå­—èŠ‚çš„8ä½æ•´æ•°
        setUint8                         å†™å…¥1ä¸ªå­—èŠ‚çš„8ä½æ— ç¬¦å·æ•´æ•°
        setInt16                         å†™å…¥2ä¸ªå­—èŠ‚çš„16ä½æ•´æ•°
        setUint16                        å†™å…¥2ä¸ªå­—èŠ‚çš„16ä½æ— ç¬¦å·æ•´æ•°
        setInt32                         å†™å…¥4ä¸ªå­—èŠ‚çš„32ä½æ•´æ•°
        setUint32                        å†™å…¥4ä¸ªå­—èŠ‚çš„32ä½æ— ç¬¦å·æ•´æ•°
        setFloat32                       å†™å…¥4ä¸ªå­—èŠ‚çš„32ä½æµ®ç‚¹æ•°
        setFloat64                       å†™å…¥8ä¸ªå­—èŠ‚çš„64ä½æµ®ç‚¹æ•°
    èŒƒä¾‹
        åˆ›å»ºè§†å›¾
            var buffer = new ArrayBuffer(24);
            var dv = new DataView(buffer);
        è¯»å–å†…å­˜
            var buffer = new ArrayBuffer(24);
            var dv = new DataView(buffer);
            // ä»ç¬¬1ä¸ªå­—èŠ‚è¯»å–ä¸€ä¸ª8ä½æ— ç¬¦å·æ•´æ•°
            var v1 = dv.getUint8(0);
            // ä»ç¬¬2ä¸ªå­—èŠ‚è¯»å–ä¸€ä¸ª16ä½æ— ç¬¦å·æ•´æ•°
            var v2 = dv.getUint16(1);
            // ä»ç¬¬4ä¸ªå­—èŠ‚è¯»å–ä¸€ä¸ª16ä½æ— ç¬¦å·æ•´æ•°
            var v3 = dv.getUint16(3);
        å†™å…¥å†…å­˜
            // åœ¨ç¬¬1ä¸ªå­—èŠ‚ï¼Œä»¥å¤§ç«¯å­—èŠ‚åºå†™å…¥å€¼ä¸º25çš„32ä½æ•´æ•°
            dv.setInt32(0, 25, false);
            // åœ¨ç¬¬5ä¸ªå­—èŠ‚ï¼Œä»¥å¤§ç«¯å­—èŠ‚åºå†™å…¥å€¼ä¸º25çš„32ä½æ•´æ•°
            dv.setInt32(4, 25);
            // åœ¨ç¬¬9ä¸ªå­—èŠ‚ï¼Œä»¥å°ç«¯å­—èŠ‚åºå†™å…¥å€¼ä¸º2.5çš„32ä½æµ®ç‚¹æ•°
            dv.setFloat32(8, 2.5, true);

äºŒè¿›åˆ¶æ•°ç»„çš„åº”ç”¨
    è¯´æ˜
        å¤§é‡çš„Web APIç”¨åˆ°äº†ArrayBufferå¯¹è±¡å’Œå®ƒçš„è§†å›¾å¯¹è±¡ã€‚
    AJAX
        XMLHttpRequestç¬¬äºŒç‰ˆXHR2å…è®¸æœåŠ¡å™¨è¿”å›äºŒè¿›åˆ¶æ•°æ®ï¼Œè¿™æ—¶åˆ†æˆä¸¤ç§æƒ…å†µã€‚
        å¦‚æœæ˜ç¡®çŸ¥é“è¿”å›çš„äºŒè¿›åˆ¶æ•°æ®ç±»å‹ï¼Œå¯ä»¥æŠŠesponseTypeè®¾ä¸ºarraybufferã€‚
        å¦‚æœä¸çŸ¥é“ï¼Œå°±è®¾ä¸ºblobã€‚
    Canvas
        ç½‘é¡µCanvaså…ƒç´ è¾“å‡ºçš„äºŒè¿›åˆ¶åƒç´ æ•°æ®ï¼Œå°±æ˜¯TypedArrayæ•°ç»„ã€‚
        uint8ClampedArrayçš„è§†å›¾ç±»å‹æ˜¯ä¸€ç§é’ˆå¯¹Canvaså…ƒç´ çš„ä¸“æœ‰ç±»å‹ã€‚
        è¿™ä¸ªè§†å›¾ç±»å‹çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ä¸“é—¨é’ˆå¯¹é¢œè‰²ï¼ŒæŠŠæ¯ä¸ªå­—èŠ‚è§£è¯»ä¸ºæ— ç¬¦å·çš„8ä½æ•´æ•°(0~255)ã€‚
        è€Œä¸”å‘ç”Ÿè¿ç®—çš„æ—¶å€™è‡ªåŠ¨è¿‡æ»¤é«˜ä½æº¢å‡ºã€‚è¿™ä¸ºå›¾åƒå¤„ç†å¸¦æ¥äº†å·¨å¤§çš„æ–¹ä¾¿ã€‚
    WebSocket
        WebSocketå¯ä»¥é€šè¿‡ArrayBufferï¼Œå‘é€æˆ–æ¥æ”¶äºŒè¿›åˆ¶æ•°æ®ã€‚
    File API
        å¦‚æœçŸ¥é“ä¸€ä¸ªæ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥å°†è¿™ä¸ªæ–‡ä»¶è¯»å–ä¸ºArrayBufferå¯¹è±¡ã€‚
    èŒƒä¾‹
        Ajax
            var xhr = new XMLHttpRequest();
            xhr.open(&apos;GET&apos;, someUrl);
            xhr.responseType = &apos;arraybuffer&apos;;
            xhr.send();
            xhr.onreadystatechange = function() {
                if (req.readyState === 4) {
                    var arrayResponse = xhr.response;
                    var dataView = new DataView(arrayResponse);
                    var ints = new Uint32Array(dataView.byteLength / 4);
                }
            }
        Canvas
            var canvas = document.getElementById(&apos;myCanvas&apos;);
            var ctx = canvas.getContext(&apos;2d&apos;);
            var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            var uint8ClampedArray = imageData.data;
        WebSocket
            var socket = new WebSocket(&apos;ws://127.0.0.1:8081&apos;);
            socket.binaryType = &apos;arraybuffer&apos;;
            // Wait until socket is open
            socket.addEventListener(&apos;open&apos;, function(event) {
                // Send binary data
                var typedArray = new Uint8Array(4);
                socket.send(typedArray.buffer);
            });
            // Receive binary data
            socket.addEventListener(&apos;message&apos;, function(event) {
                var arrayBuffer = event.data;
                // Â·Â·Â·
            });
        Fetch API
            fetch(url)
            .then(function(request) {
                return request.arrayBuffer()
            })
            .then(function(arrayBuffer) {
                // ...
            });
        File API
            var fileInput = document.getElementById(&apos;fileInput&apos;);
            var file = fileInput.files[0];
            var reader = new FileReader();
            reader.readAsArrayBuffer(file);
            reader.onload = function () {
                var arrayBuffer = reader.result;
                // Â·Â·Â·
            };
</code></pre><h2 id="SIMD"><a href="#SIMD" class="headerlink" title="SIMD"></a>SIMD</h2><pre><code>æ¦‚è¿°
    è¯´æ˜
        SIMDæ˜¯(Single Instruction/Multiple Data)çš„ç¼©å†™ï¼Œæ„ä¸ºâ€œå•æŒ‡ä»¤ï¼Œå¤šæ•°æ®â€ã€‚
        å®ƒæ˜¯JavaScriptæ“ä½œCPUå¯¹åº”æŒ‡ä»¤çš„æ¥å£ï¼Œä½ å¯ä»¥çœ‹åšè¿™æ˜¯ä¸€ç§ä¸åŒçš„è¿ç®—æ‰§è¡Œæ¨¡å¼ã€‚
        ä¸å®ƒç›¸å¯¹çš„æ˜¯SISD(Single Instruction/Single Data)ï¼Œå³â€œå•æŒ‡ä»¤ï¼Œå•æ•°æ®â€ã€‚
        SIMDçš„å«ä¹‰æ˜¯ä½¿ç”¨ä¸€ä¸ªæŒ‡ä»¤ï¼Œå®Œæˆå¤šä¸ªæ•°æ®çš„è¿ç®—ã€‚
        SISDçš„å«ä¹‰æ˜¯ä½¿ç”¨ä¸€ä¸ªæŒ‡ä»¤ï¼Œå®Œæˆå•ä¸ªæ•°æ®çš„è¿ç®—ï¼Œè¿™æ˜¯JavaScriptçš„é»˜è®¤è¿ç®—æ¨¡å¼ã€‚
        SIMDçš„æ‰§è¡Œæ•ˆç‡è¦é«˜äºSISDï¼Œè¢«å¹¿æ³›ç”¨äº3Då›¾å½¢è¿ç®—ã€ç‰©ç†æ¨¡æ‹Ÿç­‰è¿ç®—é‡è¶…å¤§çš„é¡¹ç›®ä¹‹ä¸­ã€‚
        ä¸€æ¬¡SIMDè¿ç®—ï¼Œå¯ä»¥å¤„ç†å¤šä¸ªæ•°æ®ï¼Œè¿™äº›æ•°æ®è¢«ç§°ä¸ºâ€œé€šé“â€ï¼ˆlaneï¼‰ã€‚
    èŒƒä¾‹
        SISD
            var a = [1, 2, 3, 4];
            var b = [5, 6, 7, 8];
            var c = [];
            c[0] = a[0] + b[0];
            c[1] = a[1] + b[1];
            c[2] = a[2] + b[2];
            c[3] = a[3] + b[3];
            c // Array[6, 8, 10, 12]
        SIMD
            var a = SIMD.Float32x4(1, 2, 3, 4);
            var b = SIMD.Float32x4(5, 6, 7, 8);
            var c = SIMD.Float32x4.add(a, b); // Float32x4[6, 8, 10, 12]

æ•°æ®ç±»å‹
    è¯´æ˜
        SIMDæä¾›12ç§æ•°æ®ç±»å‹ï¼Œæ€»é•¿åº¦éƒ½æ˜¯128ä¸ªäºŒè¿›åˆ¶ä½ã€‚
        æ¯ç§æ•°æ®ç±»å‹è¢«xç¬¦å·åˆ†éš”æˆä¸¤éƒ¨åˆ†ï¼Œå‰é¢è¡¨ç¤ºé€šé“çš„å®½åº¦å’Œç±»å‹ï¼Œåé¢è¡¨ç¤ºé€šé“æ•°ã€‚
        æ¯ä¸ªé€šé“ä¹‹ä¸­ï¼Œå¯ä»¥æ”¾ç½®å››ç§æ•°æ®ã€‚Floatï¼ŒIntï¼ŒUint(æ— ç¬¦å·æ•´æ•°)ï¼ŒBoolã€‚
        æ¯ç§SIMDçš„æ•°æ®ç±»å‹éƒ½æ˜¯ä¸€ä¸ªå‡½æ•°æ–¹æ³•ï¼Œå¯ä»¥ä¼ å…¥å‚æ•°ï¼Œç”Ÿæˆå¯¹åº”çš„å€¼ã€‚
        æ³¨æ„ï¼Œè¿™äº›æ•°æ®ç±»å‹æ–¹æ³•éƒ½ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œå‰é¢ä¸èƒ½åŠ newï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚
    æ•°æ®ç±»å‹
        Float32x4      å››ä¸ª32ä½æµ®ç‚¹æ•°
        Float64x2      ä¸¤ä¸ª64ä½æµ®ç‚¹æ•°
        Int32x4        å››ä¸ª32ä½æ•´æ•°
        Int16x8        å…«ä¸ª16ä½æ•´æ•°
        Int8x16        åå…­ä¸ª8ä½æ•´æ•°
        Uint32x4       å››ä¸ªæ— ç¬¦å·çš„32ä½æ•´æ•°
        Uint16x8       å…«ä¸ªæ— ç¬¦å·çš„16ä½æ•´æ•°
        Uint8x16       åå…­ä¸ªæ— ç¬¦å·çš„8ä½æ•´æ•°
        Bool32x4       å››ä¸ª32ä½å¸ƒå°”å€¼
        Bool16x8       å…«ä¸ª16ä½å¸ƒå°”å€¼
        Bool8x16       åå…­ä¸ª8ä½å¸ƒå°”å€¼
        Bool64x2       ä¸¤ä¸ª64ä½å¸ƒå°”å€¼
    èŒƒä¾‹
        var a = SIMD.Float32x4(1.0, 2.0, 3.0, 4.0);

é™æ€æ–¹æ³•ï¼šæ•°å­¦è¿ç®—
    å®ä¾‹æ–¹æ³•
        abs()           å°†å®ƒçš„æ¯ä¸ªé€šé“éƒ½è½¬æˆç»å¯¹å€¼ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼
        neg()           å°†å®ƒçš„æ¯ä¸ªé€šé“éƒ½è½¬æˆè´Ÿå€¼ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼
        add()           å°†ä¸¤ä¸ªSIMDå€¼çš„æ¯ä¸ªé€šé“ç›¸åŠ ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼
        addSaturate()   å’Œaddä½œç”¨ä¸€è‡´ï¼Œä½†æº¢å‡ºæ—¶è¿”å›è¯¥æ•°æ®ç±»å‹çš„æœ€å¤§å€¼ï¼Œaddé—å¼ƒæº¢å‡ºå€¼
        sub()           å°†ä¸¤ä¸ªSIMDå€¼çš„æ¯ä¸ªé€šé“ç›¸å‡ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼ã€‚
        subSaturate()   å’Œsubä½œç”¨ä¸€è‡´ï¼Œä½†æº¢å‡ºæ—¶è¿”å›è¯¥æ•°æ®ç±»å‹çš„æœ€å°å€¼ï¼Œsubé—å¼ƒæº¢å‡ºå€¼
        mul()           å°†ä¸¤ä¸ªSIMDå€¼çš„æ¯ä¸ªé€šé“ç›¸ä¹˜ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼ã€‚
        div()           å°†ä¸¤ä¸ªSIMDå€¼çš„æ¯ä¸ªé€šé“ç›¸é™¤ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼ã€‚
        sqrt()          æ±‚å‡ºæ¯ä¸ªé€šé“çš„å¹³æ–¹æ ¹ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼ã€‚
        reciprocalApproximation()      æ±‚å‡ºæ¯ä¸ªé€šé“çš„å€’æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼ã€‚
        reciprocalSqrtApproximation()  æ±‚å‡ºæ¯ä¸ªé€šé“çš„å¹³æ–¹æ ¹çš„å€’æ•°ï¼ˆ1 / (x^0.5)ï¼‰

é™æ€æ–¹æ³•ï¼šé€šé“å¤„ç†
    æ–¹æ³•
        check()         æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºå½“å‰ç±»å‹çš„SIMDå€¼ã€‚æ˜¯åˆ™è¿”å›è¿™ä¸ªå€¼ï¼Œå¦åˆ™æŠ¥é”™
        extractLane()   ç”¨äºè¿”å›ç»™å®šé€šé“çš„å€¼ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯SIMDå€¼å’Œé€šé“ç¼–å·
        replaceLane()   æ›¿æ¢æŒ‡å®šé€šé“çš„å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼
        load()          ä»äºŒè¿›åˆ¶æ•°ç»„è¯»å…¥æ•°æ®ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„SIMDå€¼
        load1()         loadæ–¹æ³•çš„å˜ç§ï¼ŒåªåŠ è½½ä¸€ä¸ªé€šé“
        load2()         loadæ–¹æ³•çš„å˜ç§ï¼ŒåŠ è½½ä¸¤ä¸ªé€šé“
        load3()         loadæ–¹æ³•çš„å˜ç§ï¼ŒåŠ è½½ä¸‰ä¸ªé€šé“
        store()         å°†ä¸€ä¸ªSIMDå€¼ï¼Œå†™å…¥ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„
        splat()         è¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼ï¼Œè¯¥å€¼çš„æ‰€æœ‰é€šé“éƒ½ä¼šè®¾æˆåŒä¸€ä¸ªé¢„å…ˆç»™å®šçš„å€¼
        swizzle()       é‡æ–°æ’åˆ—åŸæœ‰çš„SIMDå€¼çš„é€šé“é¡ºåº
        shuffle()       ä»ä¸¤ä¸ªSIMDå€¼ä¹‹ä¸­å–å‡ºæŒ‡å®šé€šé“ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„SIMDå€¼

é™æ€æ–¹æ³•ï¼šæ¯”è¾ƒè¿ç®—
    æ–¹æ³•
        equal()              æ¯”è¾ƒæ¯ä¸ªé€šé“æ˜¯å¦ç›¸ç­‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Bool32x4
        notEqual()           æ¯”è¾ƒæ¯ä¸ªé€šé“æ˜¯å¦ä¸ç›¸ç­‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Bool32x4
        greaterThan()        æ¯”è¾ƒæ¯ä¸ªé€šé“çš„å¤§å°ï¼Œåˆ¤æ–­æ˜¯å¦å¤§äºï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Bool32x4
        greaterThanOrEqual() æ¯”è¾ƒæ¯ä¸ªé€šé“çš„å¤§å°ï¼Œåˆ¤æ–­æ˜¯å¦å¤§äºç­‰äºï¼Œè¿”å›æ–°çš„Bool32x4
        lessThan()           æ¯”è¾ƒæ¯ä¸ªé€šé“çš„å¤§å°ï¼Œåˆ¤æ–­æ˜¯å¦å°äºï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Bool32x4
        lessThanOrEqual()    æ¯”è¾ƒæ¯ä¸ªé€šé“çš„å¤§å°ï¼Œåˆ¤æ–­æ˜¯å¦å°äºç­‰äºï¼Œè¿”å›æ–°çš„Bool32x4
        select()             é€šè¿‡æ©ç ç”Ÿæˆä¸€ä¸ªæ–°çš„SIMDå€¼ã€‚
        allTrue()            è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥SIMDå€¼çš„æ‰€æœ‰é€šé“æ˜¯å¦éƒ½ä¸ºtrue
        anyTrue()            åªè¦æœ‰ä¸€ä¸ªé€šé“ä¸ºtrueï¼Œå°±è¿”å›trueï¼Œå¦åˆ™è¿”å›false
        min()                å°†ä¸¤ä¸ªSIMDçš„æ¯ä¸ªé€šé“çš„æœ€å°å€¼ç»„æˆä¸€ä¸ªæ–°çš„SIMDè¿”å›
        minNum()             ä¸minåŒºåˆ«æ˜¯ï¼Œä¸€ä¸ªæ•°ä¸ºNaNï¼Œminè¿”å›NaNï¼ŒminNumè¿”å›å¦å¤–å€¼
        max()                å°†ä¸¤ä¸ªSIMDçš„æ¯ä¸ªé€šé“çš„æœ€å¤§å€¼ç»„æˆä¸€ä¸ªæ–°çš„SIMDè¿”å›
        maxNum()             ä¸maxåŒºåˆ«æ˜¯ï¼Œä¸€ä¸ªæ•°ä¸ºNaNï¼Œmaxè¿”å›NaNï¼ŒmaxNumè¿”å›å¦å¤–å€¼

é™æ€æ–¹æ³•ï¼šä½è¿ç®—
    æ–¹æ³•
        and()       è¿”å›ä¸¤ä¸ªSIMDæ¯ä¸ªé€šé“è¿›è¡ŒäºŒè¿›åˆ¶ANDè¿ç®—ï¼ˆ&amp;ï¼‰åå¾—åˆ°çš„æ–°çš„SIMDå€¼
        or()        è¿”å›ä¸¤ä¸ªSIMDæ¯ä¸ªé€šé“è¿›è¡ŒäºŒè¿›åˆ¶ORè¿ç®—ï¼ˆ|ï¼‰åå¾—åˆ°çš„æ–°çš„SIMDå€¼
        xor()       è¿”å›ä¸¤ä¸ªSIMDæ¯ä¸ªé€šé“è¿›è¡ŒäºŒè¿›åˆ¶å¼‚æˆ–è¿ç®—ï¼ˆ^ï¼‰åå¾—åˆ°çš„æ–°çš„SIMDå€¼
        not()       è¿”å›ä¸¤ä¸ªSIMDæ¯ä¸ªé€šé“è¿›è¡ŒäºŒè¿›åˆ¶å¦è¿ç®—ï¼ˆ~ï¼‰åå¾—åˆ°çš„æ–°çš„SIMDå€¼

é™æ€æ–¹æ³•ï¼šæ•°æ®ç±»å‹è½¬æ¢
    è¯´æ˜
        SIMDæä¾›ä»¥ä¸‹æ–¹æ³•ï¼Œç”¨æ¥å°†ä¸€ç§æ•°æ®ç±»å‹è½¬ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹ã€‚
        å¸¦æœ‰Bitsåç¼€çš„æ–¹æ³•ï¼Œä¼šåŸå°ä¸åŠ¨åœ°å°†äºŒè¿›åˆ¶ä½æ‹·è´åˆ°æ–°çš„æ•°æ®ç±»å‹ã€‚
        ä¸å¸¦åç¼€çš„æ–¹æ³•ï¼Œåˆ™ä¼šè¿›è¡Œæ•°æ®ç±»å‹è½¬æ¢ã€‚
    æ–¹æ³•
        fromFloat32x4()
        fromFloat32x4Bits()
        fromFloat64x2Bits()
        fromInt32x4()
        fromInt32x4Bits()
        fromInt16x8Bits()
        fromInt8x16Bits()
        fromUint32x4()
        fromUint32x4Bits()
        fromUint16x8Bits()
        fromUint8x16Bits()

å®ä¾‹æ–¹æ³•
    è¯´æ˜
        toStringæ–¹æ³•è¿”å›ä¸€ä¸ªSIMDå€¼çš„å­—ç¬¦ä¸²å½¢å¼ã€‚
    èŒƒä¾‹
        var a = SIMD.Float32x4(11, 22, 33, 44);
        a.toString() // &quot;SIMD.Float32x4(11, 22, 33, 44)&quot;
</code></pre>
      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/03/11/Javascript-è®¾è®¡æ¨¡å¼/" rel="next" title="Javascript-è®¾è®¡æ¨¡å¼.md">
                <i class="fa fa-chevron-left"></i> Javascript-è®¾è®¡æ¨¡å¼.md
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/05/14/Linux-ç¬”è®°/" rel="prev" title="Linux-ç¬”è®°">
                Linux-ç¬”è®° <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Cao Zheng" />
          <p class="site-author-name" itemprop="name">Cao Zheng</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">13</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#å£°æ˜"><span class="nav-number">1.</span> <span class="nav-text">å£°æ˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç‰ˆæœ¬æ¦‚è¿°"><span class="nav-number">2.</span> <span class="nav-text">ç‰ˆæœ¬æ¦‚è¿°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#letå’Œconst"><span class="nav-number">3.</span> <span class="nav-text">letå’Œconst</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å˜é‡çš„è§£æ„èµ‹å€¼"><span class="nav-number">4.</span> <span class="nav-text">å˜é‡çš„è§£æ„èµ‹å€¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ•°å€¼çš„æ‰©å±•"><span class="nav-number">5.</span> <span class="nav-text">æ•°å€¼çš„æ‰©å±•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ•°ç»„çš„æ‰©å±•"><span class="nav-number">6.</span> <span class="nav-text">æ•°ç»„çš„æ‰©å±•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‡½æ•°çš„æ‰©å±•"><span class="nav-number">7.</span> <span class="nav-text">å‡½æ•°çš„æ‰©å±•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¯¹è±¡çš„æ‰©å±•"><span class="nav-number">8.</span> <span class="nav-text">å¯¹è±¡çš„æ‰©å±•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Symbol"><span class="nav-number">9.</span> <span class="nav-text">Symbol</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Proxyå’ŒReflect"><span class="nav-number">10.</span> <span class="nav-text">Proxyå’ŒReflect</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Setå’ŒMapæ•°æ®ç»“æ„"><span class="nav-number">11.</span> <span class="nav-text">Setå’ŒMapæ•°æ®ç»“æ„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Iteratorå’Œforâ€¦ofå¾ªç¯"><span class="nav-number">12.</span> <span class="nav-text">Iteratorå’Œforâ€¦ofå¾ªç¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Generator-å‡½æ•°"><span class="nav-number">13.</span> <span class="nav-text">Generator å‡½æ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Promiseå¯¹è±¡"><span class="nav-number">14.</span> <span class="nav-text">Promiseå¯¹è±¡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¼‚æ­¥æ“ä½œå’ŒAsyncå‡½æ•°"><span class="nav-number">15.</span> <span class="nav-text">å¼‚æ­¥æ“ä½œå’ŒAsyncå‡½æ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Class"><span class="nav-number">16.</span> <span class="nav-text">Class</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä¿®é¥°å™¨"><span class="nav-number">17.</span> <span class="nav-text">ä¿®é¥°å™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Module"><span class="nav-number">18.</span> <span class="nav-text">Module</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#äºŒè¿›åˆ¶æ•°ç»„"><span class="nav-number">19.</span> <span class="nav-text">äºŒè¿›åˆ¶æ•°ç»„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SIMD"><span class="nav-number">20.</span> <span class="nav-text">SIMD</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cao Zheng</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="http://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
